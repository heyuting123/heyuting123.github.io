(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Sh(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ax="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bx=Sh(Ax);function p0(e){return!!e||e===""}function _r(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=gn(r)?Tx(r):_r(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(gn(e))return e;if(Ht(e))return e}}const Ex=/;(?![^(]*\))/g,Sx=/:(.+)/;function Tx(e){const t={};return e.split(Ex).forEach(n=>{if(n){const r=n.split(Sx);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ut(e){let t="";if(gn(e))t=e;else if(tt(e))for(let n=0;n<e.length;n++){const r=ut(e[n]);r&&(t+=r+" ")}else if(Ht(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const le=e=>gn(e)?e:e==null?"":tt(e)||Ht(e)&&(e.toString===b0||!lt(e.toString))?JSON.stringify(e,y0,2):String(e),y0=(e,t)=>t&&t.__v_isRef?y0(e,t.value):Io(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:_0(t)?{[`Set(${t.size})`]:[...t.values()]}:Ht(t)&&!tt(t)&&!E0(t)?String(t):t,Nt={},xo=[],Mr=()=>{},wx=()=>!1,Cx=/^on[^a-z]/,Ju=e=>Cx.test(e),Th=e=>e.startsWith("onUpdate:"),Tn=Object.assign,wh=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kx=Object.prototype.hasOwnProperty,bt=(e,t)=>kx.call(e,t),tt=Array.isArray,Io=e=>Xu(e)==="[object Map]",_0=e=>Xu(e)==="[object Set]",lt=e=>typeof e=="function",gn=e=>typeof e=="string",Ch=e=>typeof e=="symbol",Ht=e=>e!==null&&typeof e=="object",A0=e=>Ht(e)&&lt(e.then)&&lt(e.catch),b0=Object.prototype.toString,Xu=e=>b0.call(e),xx=e=>Xu(e).slice(8,-1),E0=e=>Xu(e)==="[object Object]",kh=e=>gn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Su=Sh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ix=/-(\w)/g,ii=Zu(e=>e.replace(Ix,(t,n)=>n?n.toUpperCase():"")),Rx=/\B([A-Z])/g,Ks=Zu(e=>e.replace(Rx,"-$1").toLowerCase()),ec=Zu(e=>e.charAt(0).toUpperCase()+e.slice(1)),ef=Zu(e=>e?`on${ec(e)}`:""),Ga=(e,t)=>!Object.is(e,t),Tu=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ou=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Pu=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let tp;const Lx=()=>tp||(tp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Zr;class S0{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Zr,!t&&Zr&&(this.index=(Zr.scopes||(Zr.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Zr;try{return Zr=this,t()}finally{Zr=n}}}on(){Zr=this}off(){Zr=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function T0(e){return new S0(e)}function Dx(e,t=Zr){t&&t.active&&t.effects.push(e)}const xh=e=>{const t=new Set(e);return t.w=0,t.n=0,t},w0=e=>(e.w&as)>0,C0=e=>(e.n&as)>0,Ox=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=as},Px=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];w0(i)&&!C0(i)?i.delete(e):t[n++]=i,i.w&=~as,i.n&=~as}t.length=n}},Pf=new WeakMap;let Da=0,as=1;const Bf=30;let Pr;const Vs=Symbol(""),Ff=Symbol("");class Ih{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Dx(this,r)}run(){if(!this.active)return this.fn();let t=Pr,n=rs;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Pr,Pr=this,rs=!0,as=1<<++Da,Da<=Bf?Ox(this):np(this),this.fn()}finally{Da<=Bf&&Px(this),as=1<<--Da,Pr=this.parent,rs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pr===this?this.deferStop=!0:this.active&&(np(this),this.onStop&&this.onStop(),this.active=!1)}}function np(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let rs=!0;const k0=[];function jo(){k0.push(rs),rs=!1}function Wo(){const e=k0.pop();rs=e===void 0?!0:e}function or(e,t,n){if(rs&&Pr){let r=Pf.get(e);r||Pf.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=xh()),x0(i)}}function x0(e,t){let n=!1;Da<=Bf?C0(e)||(e.n|=as,n=!w0(e)):n=!e.has(Pr),n&&(e.add(Pr),Pr.deps.push(e))}function ki(e,t,n,r,i,o){const l=Pf.get(e);if(!l)return;let f=[];if(t==="clear")f=[...l.values()];else if(n==="length"&&tt(e))l.forEach((c,a)=>{(a==="length"||a>=r)&&f.push(c)});else switch(n!==void 0&&f.push(l.get(n)),t){case"add":tt(e)?kh(n)&&f.push(l.get("length")):(f.push(l.get(Vs)),Io(e)&&f.push(l.get(Ff)));break;case"delete":tt(e)||(f.push(l.get(Vs)),Io(e)&&f.push(l.get(Ff)));break;case"set":Io(e)&&f.push(l.get(Vs));break}if(f.length===1)f[0]&&Mf(f[0]);else{const c=[];for(const a of f)a&&c.push(...a);Mf(xh(c))}}function Mf(e,t){const n=tt(e)?e:[...e];for(const r of n)r.computed&&rp(r);for(const r of n)r.computed||rp(r)}function rp(e,t){(e!==Pr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Bx=Sh("__proto__,__v_isRef,__isVue"),I0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ch)),Fx=Rh(),Mx=Rh(!1,!0),Nx=Rh(!0),ip=Ux();function Ux(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=It(this);for(let o=0,l=this.length;o<l;o++)or(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(It)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){jo();const r=It(this)[t].apply(this,n);return Wo(),r}}),e}function Rh(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?tI:P0:t?O0:D0).get(r))return r;const l=tt(r);if(!e&&l&&bt(ip,i))return Reflect.get(ip,i,o);const f=Reflect.get(r,i,o);return(Ch(i)?I0.has(i):Bx(i))||(e||or(r,"get",i),t)?f:Xt(f)?l&&kh(i)?f:f.value:Ht(f)?e?B0(f):Et(f):f}}const Vx=R0(),zx=R0(!0);function R0(e=!1){return function(n,r,i,o){let l=n[r];if(Bo(l)&&Xt(l)&&!Xt(i))return!1;if(!e&&(!Bu(i)&&!Bo(i)&&(l=It(l),i=It(i)),!tt(n)&&Xt(l)&&!Xt(i)))return l.value=i,!0;const f=tt(n)&&kh(r)?Number(r)<n.length:bt(n,r),c=Reflect.set(n,r,i,o);return n===It(o)&&(f?Ga(i,l)&&ki(n,"set",r,i):ki(n,"add",r,i)),c}}function $x(e,t){const n=bt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ki(e,"delete",t,void 0),r}function Hx(e,t){const n=Reflect.has(e,t);return(!Ch(t)||!I0.has(t))&&or(e,"has",t),n}function Gx(e){return or(e,"iterate",tt(e)?"length":Vs),Reflect.ownKeys(e)}const L0={get:Fx,set:Vx,deleteProperty:$x,has:Hx,ownKeys:Gx},Kx={get:Nx,set(e,t){return!0},deleteProperty(e,t){return!0}},jx=Tn({},L0,{get:Mx,set:zx}),Lh=e=>e,tc=e=>Reflect.getPrototypeOf(e);function tu(e,t,n=!1,r=!1){e=e.__v_raw;const i=It(e),o=It(t);n||(t!==o&&or(i,"get",t),or(i,"get",o));const{has:l}=tc(i),f=r?Lh:n?Ph:Ka;if(l.call(i,t))return f(e.get(t));if(l.call(i,o))return f(e.get(o));e!==i&&e.get(t)}function nu(e,t=!1){const n=this.__v_raw,r=It(n),i=It(e);return t||(e!==i&&or(r,"has",e),or(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ru(e,t=!1){return e=e.__v_raw,!t&&or(It(e),"iterate",Vs),Reflect.get(e,"size",e)}function sp(e){e=It(e);const t=It(this);return tc(t).has.call(t,e)||(t.add(e),ki(t,"add",e,e)),this}function op(e,t){t=It(t);const n=It(this),{has:r,get:i}=tc(n);let o=r.call(n,e);o||(e=It(e),o=r.call(n,e));const l=i.call(n,e);return n.set(e,t),o?Ga(t,l)&&ki(n,"set",e,t):ki(n,"add",e,t),this}function ap(e){const t=It(this),{has:n,get:r}=tc(t);let i=n.call(t,e);i||(e=It(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&ki(t,"delete",e,void 0),o}function lp(){const e=It(this),t=e.size!==0,n=e.clear();return t&&ki(e,"clear",void 0,void 0),n}function iu(e,t){return function(r,i){const o=this,l=o.__v_raw,f=It(l),c=t?Lh:e?Ph:Ka;return!e&&or(f,"iterate",Vs),l.forEach((a,h)=>r.call(i,c(a),c(h),o))}}function su(e,t,n){return function(...r){const i=this.__v_raw,o=It(i),l=Io(o),f=e==="entries"||e===Symbol.iterator&&l,c=e==="keys"&&l,a=i[e](...r),h=n?Lh:t?Ph:Ka;return!t&&or(o,"iterate",c?Ff:Vs),{next(){const{value:m,done:g}=a.next();return g?{value:m,done:g}:{value:f?[h(m[0]),h(m[1])]:h(m),done:g}},[Symbol.iterator](){return this}}}}function Hi(e){return function(...t){return e==="delete"?!1:this}}function Wx(){const e={get(o){return tu(this,o)},get size(){return ru(this)},has:nu,add:sp,set:op,delete:ap,clear:lp,forEach:iu(!1,!1)},t={get(o){return tu(this,o,!1,!0)},get size(){return ru(this)},has:nu,add:sp,set:op,delete:ap,clear:lp,forEach:iu(!1,!0)},n={get(o){return tu(this,o,!0)},get size(){return ru(this,!0)},has(o){return nu.call(this,o,!0)},add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear"),forEach:iu(!0,!1)},r={get(o){return tu(this,o,!0,!0)},get size(){return ru(this,!0)},has(o){return nu.call(this,o,!0)},add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear"),forEach:iu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=su(o,!1,!1),n[o]=su(o,!0,!1),t[o]=su(o,!1,!0),r[o]=su(o,!0,!0)}),[e,n,t,r]}const[qx,Yx,Qx,Jx]=Wx();function Dh(e,t){const n=t?e?Jx:Qx:e?Yx:qx;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(bt(n,i)&&i in r?n:r,i,o)}const Xx={get:Dh(!1,!1)},Zx={get:Dh(!1,!0)},eI={get:Dh(!0,!1)},D0=new WeakMap,O0=new WeakMap,P0=new WeakMap,tI=new WeakMap;function nI(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rI(e){return e.__v_skip||!Object.isExtensible(e)?0:nI(xx(e))}function Et(e){return Bo(e)?e:Oh(e,!1,L0,Xx,D0)}function iI(e){return Oh(e,!1,jx,Zx,O0)}function B0(e){return Oh(e,!0,Kx,eI,P0)}function Oh(e,t,n,r,i){if(!Ht(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const l=rI(e);if(l===0)return e;const f=new Proxy(e,l===2?r:n);return i.set(e,f),f}function is(e){return Bo(e)?is(e.__v_raw):!!(e&&e.__v_isReactive)}function Bo(e){return!!(e&&e.__v_isReadonly)}function Bu(e){return!!(e&&e.__v_isShallow)}function F0(e){return is(e)||Bo(e)}function It(e){const t=e&&e.__v_raw;return t?It(t):e}function Fo(e){return Ou(e,"__v_skip",!0),e}const Ka=e=>Ht(e)?Et(e):e,Ph=e=>Ht(e)?B0(e):e;function M0(e){rs&&Pr&&(e=It(e),x0(e.dep||(e.dep=xh())))}function N0(e,t){e=It(e),e.dep&&Mf(e.dep)}function Xt(e){return!!(e&&e.__v_isRef===!0)}function Z(e){return U0(e,!1)}function sI(e){return U0(e,!0)}function U0(e,t){return Xt(e)?e:new oI(e,t)}class oI{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:It(t),this._value=n?t:Ka(t)}get value(){return M0(this),this._value}set value(t){const n=this.__v_isShallow||Bu(t)||Bo(t);t=n?t:It(t),Ga(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ka(t),N0(this))}}function re(e){return Xt(e)?e.value:e}const aI={get:(e,t,n)=>re(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Xt(i)&&!Xt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function V0(e){return is(e)?e:new Proxy(e,aI)}function Bh(e){const t=tt(e)?new Array(e.length):{};for(const n in e)t[n]=uI(e,n);return t}class lI{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function uI(e,t,n){const r=e[t];return Xt(r)?r:new lI(e,t,n)}var z0;class cI{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[z0]=!1,this._dirty=!0,this.effect=new Ih(t,()=>{this._dirty||(this._dirty=!0,N0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=It(this);return M0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}z0="__v_isReadonly";function dI(e,t,n=!1){let r,i;const o=lt(e);return o?(r=e,i=Mr):(r=e.get,i=e.set),new cI(r,i,o||!i,n)}function ss(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){nc(o,t,n)}return i}function br(e,t,n,r){if(lt(e)){const o=ss(e,t,n,r);return o&&A0(o)&&o.catch(l=>{nc(l,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(br(e[o],t,n,r));return i}function nc(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const l=t.proxy,f=n;for(;o;){const a=o.ec;if(a){for(let h=0;h<a.length;h++)if(a[h](e,l,f)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){ss(c,null,10,[e,l,f]);return}}fI(e,n,i,r)}function fI(e,t,n,r=!0){console.error(e)}let ja=!1,Nf=!1;const kn=[];let ti=0;const Ro=[];let Si=null,Bs=0;const $0=Promise.resolve();let Fh=null;function Ze(e){const t=Fh||$0;return e?t.then(this?e.bind(this):e):t}function hI(e){let t=ti+1,n=kn.length;for(;t<n;){const r=t+n>>>1;Wa(kn[r])<e?t=r+1:n=r}return t}function Mh(e){(!kn.length||!kn.includes(e,ja&&e.allowRecurse?ti+1:ti))&&(e.id==null?kn.push(e):kn.splice(hI(e.id),0,e),H0())}function H0(){!ja&&!Nf&&(Nf=!0,Fh=$0.then(K0))}function gI(e){const t=kn.indexOf(e);t>ti&&kn.splice(t,1)}function vI(e){tt(e)?Ro.push(...e):(!Si||!Si.includes(e,e.allowRecurse?Bs+1:Bs))&&Ro.push(e),H0()}function up(e,t=ja?ti+1:0){for(;t<kn.length;t++){const n=kn[t];n&&n.pre&&(kn.splice(t,1),t--,n())}}function G0(e){if(Ro.length){const t=[...new Set(Ro)];if(Ro.length=0,Si){Si.push(...t);return}for(Si=t,Si.sort((n,r)=>Wa(n)-Wa(r)),Bs=0;Bs<Si.length;Bs++)Si[Bs]();Si=null,Bs=0}}const Wa=e=>e.id==null?1/0:e.id,mI=(e,t)=>{const n=Wa(e)-Wa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function K0(e){Nf=!1,ja=!0,kn.sort(mI);const t=Mr;try{for(ti=0;ti<kn.length;ti++){const n=kn[ti];n&&n.active!==!1&&ss(n,null,14)}}finally{ti=0,kn.length=0,G0(),ja=!1,Fh=null,(kn.length||Ro.length)&&K0()}}function pI(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Nt;let i=n;const o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in r){const h=`${l==="modelValue"?"model":l}Modifiers`,{number:m,trim:g}=r[h]||Nt;g&&(i=n.map(w=>w.trim())),m&&(i=n.map(Pu))}let f,c=r[f=ef(t)]||r[f=ef(ii(t))];!c&&o&&(c=r[f=ef(Ks(t))]),c&&br(c,e,6,i);const a=r[f+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,br(a,e,6,i)}}function j0(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let l={},f=!1;if(!lt(e)){const c=a=>{const h=j0(a,t,!0);h&&(f=!0,Tn(l,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!f?(Ht(e)&&r.set(e,null),null):(tt(o)?o.forEach(c=>l[c]=null):Tn(l,o),Ht(e)&&r.set(e,l),l)}function rc(e,t){return!e||!Ju(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,Ks(t))||bt(e,t))}let Ar=null,ic=null;function Fu(e){const t=Ar;return Ar=e,ic=e&&e.type.__scopeId||null,t}function pt(e){ic=e}function yt(){ic=null}function et(e,t=Ar,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&bp(-1);const o=Fu(t);let l;try{l=e(...i)}finally{Fu(o),r._d&&bp(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function tf(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[l],slots:f,attrs:c,emit:a,render:h,renderCache:m,data:g,setupState:w,ctx:T,inheritAttrs:y}=e;let d,_;const v=Fu(e);try{if(n.shapeFlag&4){const A=i||r;d=ei(h.call(A,A,m,o,w,g,T)),_=c}else{const A=t;d=ei(A.length>1?A(o,{attrs:c,slots:f,emit:a}):A(o,null)),_=t.props?c:yI(c)}}catch(A){Ma.length=0,nc(A,e,1),d=B(Nr)}let p=d;if(_&&y!==!1){const A=Object.keys(_),{shapeFlag:b}=p;A.length&&b&7&&(l&&A.some(Th)&&(_=_I(_,l)),p=ls(p,_))}return n.dirs&&(p=ls(p),p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&(p.transition=n.transition),d=p,Fu(v),d}const yI=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ju(n))&&((t||(t={}))[n]=e[n]);return t},_I=(e,t)=>{const n={};for(const r in e)(!Th(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function AI(e,t,n){const{props:r,children:i,component:o}=e,{props:l,children:f,patchFlag:c}=t,a=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?cp(r,l,a):!!l;if(c&8){const h=t.dynamicProps;for(let m=0;m<h.length;m++){const g=h[m];if(l[g]!==r[g]&&!rc(a,g))return!0}}}else return(i||f)&&(!f||!f.$stable)?!0:r===l?!1:r?l?cp(r,l,a):!0:!!l;return!1}function cp(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!rc(n,o))return!0}return!1}function bI({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const EI=e=>e.__isSuspense;function SI(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):vI(e)}function Ti(e,t){if(pn){let n=pn.provides;const r=pn.parent&&pn.parent.provides;r===n&&(n=pn.provides=Object.create(r)),n[e]=t}}function yn(e,t,n=!1){const r=pn||Ar;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&lt(t)?t.call(r.proxy):t}}function Nh(e,t){return sc(e,null,t)}function TI(e,t){return sc(e,null,{flush:"post"})}const dp={};function Me(e,t,n){return sc(e,t,n)}function sc(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:l}=Nt){const f=pn;let c,a=!1,h=!1;if(Xt(e)?(c=()=>e.value,a=Bu(e)):is(e)?(c=()=>e,r=!0):tt(e)?(h=!0,a=e.some(_=>is(_)||Bu(_)),c=()=>e.map(_=>{if(Xt(_))return _.value;if(is(_))return Ns(_);if(lt(_))return ss(_,f,2)})):lt(e)?t?c=()=>ss(e,f,2):c=()=>{if(!(f&&f.isUnmounted))return m&&m(),br(e,f,3,[g])}:c=Mr,t&&r){const _=c;c=()=>Ns(_())}let m,g=_=>{m=d.onStop=()=>{ss(_,f,4)}};if(Ya)return g=Mr,t?n&&br(t,f,3,[c(),h?[]:void 0,g]):c(),Mr;let w=h?[]:dp;const T=()=>{if(!!d.active)if(t){const _=d.run();(r||a||(h?_.some((v,p)=>Ga(v,w[p])):Ga(_,w)))&&(m&&m(),br(t,f,3,[_,w===dp?void 0:w,g]),w=_)}else d.run()};T.allowRecurse=!!t;let y;i==="sync"?y=T:i==="post"?y=()=>zn(T,f&&f.suspense):(T.pre=!0,f&&(T.id=f.uid),y=()=>Mh(T));const d=new Ih(c,y);return t?n?T():w=d.run():i==="post"?zn(d.run.bind(d),f&&f.suspense):d.run(),()=>{d.stop(),f&&f.scope&&wh(f.scope.effects,d)}}function wI(e,t,n){const r=this.proxy,i=gn(e)?e.includes(".")?W0(r,e):()=>r[e]:e.bind(r,r);let o;lt(t)?o=t:(o=t.handler,n=t);const l=pn;Mo(this);const f=sc(i,o.bind(r),n);return l?Mo(l):zs(),f}function W0(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ns(e,t){if(!Ht(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Xt(e))Ns(e.value,t);else if(tt(e))for(let n=0;n<e.length;n++)Ns(e[n],t);else if(_0(e)||Io(e))e.forEach(n=>{Ns(n,t)});else if(E0(e))for(const n in e)Ns(e[n],t);return e}function CI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gt(()=>{e.isMounted=!0}),Di(()=>{e.isUnmounting=!0}),e}const pr=[Function,Array],kI={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pr,onEnter:pr,onAfterEnter:pr,onEnterCancelled:pr,onBeforeLeave:pr,onLeave:pr,onAfterLeave:pr,onLeaveCancelled:pr,onBeforeAppear:pr,onAppear:pr,onAfterAppear:pr,onAppearCancelled:pr},setup(e,{slots:t}){const n=Yn(),r=CI();let i;return()=>{const o=t.default&&Q0(t.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const y of o)if(y.type!==Nr){l=y;break}}const f=It(e),{mode:c}=f;if(r.isLeaving)return nf(l);const a=fp(l);if(!a)return nf(l);const h=Uf(a,f,r,n);Vf(a,h);const m=n.subTree,g=m&&fp(m);let w=!1;const{getTransitionKey:T}=a.type;if(T){const y=T();i===void 0?i=y:y!==i&&(i=y,w=!0)}if(g&&g.type!==Nr&&(!Fs(a,g)||w)){const y=Uf(g,f,r,n);if(Vf(g,y),c==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update()},nf(l);c==="in-out"&&a.type!==Nr&&(y.delayLeave=(d,_,v)=>{const p=Y0(r,g);p[String(g.key)]=g,d._leaveCb=()=>{_(),d._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=v})}return l}}},q0=kI;function Y0(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Uf(e,t,n,r){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:f,onEnter:c,onAfterEnter:a,onEnterCancelled:h,onBeforeLeave:m,onLeave:g,onAfterLeave:w,onLeaveCancelled:T,onBeforeAppear:y,onAppear:d,onAfterAppear:_,onAppearCancelled:v}=t,p=String(e.key),A=Y0(n,e),b=(k,L)=>{k&&br(k,r,9,L)},E=(k,L)=>{const S=L[1];b(k,L),tt(k)?k.every(C=>C.length<=1)&&S():k.length<=1&&S()},x={mode:o,persisted:l,beforeEnter(k){let L=f;if(!n.isMounted)if(i)L=y||f;else return;k._leaveCb&&k._leaveCb(!0);const S=A[p];S&&Fs(e,S)&&S.el._leaveCb&&S.el._leaveCb(),b(L,[k])},enter(k){let L=c,S=a,C=h;if(!n.isMounted)if(i)L=d||c,S=_||a,C=v||h;else return;let I=!1;const D=k._enterCb=P=>{I||(I=!0,P?b(C,[k]):b(S,[k]),x.delayedLeave&&x.delayedLeave(),k._enterCb=void 0)};L?E(L,[k,D]):D()},leave(k,L){const S=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return L();b(m,[k]);let C=!1;const I=k._leaveCb=D=>{C||(C=!0,L(),D?b(T,[k]):b(w,[k]),k._leaveCb=void 0,A[S]===e&&delete A[S])};A[S]=e,g?E(g,[k,I]):I()},clone(k){return Uf(k,t,n,r)}};return x}function nf(e){if(oc(e))return e=ls(e),e.children=null,e}function fp(e){return oc(e)?e.children?e.children[0]:void 0:e}function Vf(e,t){e.shapeFlag&6&&e.component?Vf(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Q0(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let l=e[o];const f=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===Le?(l.patchFlag&128&&i++,r=r.concat(Q0(l.children,t,f))):(t||l.type!==Nr)&&r.push(f!=null?ls(l,{key:f}):l)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function we(e){return lt(e)?{setup:e,name:e.name}:e}const wu=e=>!!e.type.__asyncLoader,oc=e=>e.type.__isKeepAlive;function js(e,t){J0(e,"a",t)}function cs(e,t){J0(e,"da",t)}function J0(e,t,n=pn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ac(t,r,n),n){let i=n.parent;for(;i&&i.parent;)oc(i.parent.vnode)&&xI(r,t,n,i),i=i.parent}}function xI(e,t,n,r){const i=ac(t,e,r,!0);si(()=>{wh(r[t],i)},n)}function ac(e,t,n=pn,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{if(n.isUnmounted)return;jo(),Mo(n);const f=br(t,n,e,l);return zs(),Wo(),f});return r?i.unshift(o):i.push(o),o}}const Li=e=>(t,n=pn)=>(!Ya||e==="sp")&&ac(e,(...r)=>t(...r),n),II=Li("bm"),Gt=Li("m"),X0=Li("bu"),Z0=Li("u"),Di=Li("bum"),si=Li("um"),RI=Li("sp"),LI=Li("rtg"),DI=Li("rtc");function OI(e,t=pn){ac("ec",e,t)}function ft(e,t){const n=Ar;if(n===null)return e;const r=cc(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[l,f,c,a=Nt]=t[o];lt(l)&&(l={mounted:l,updated:l}),l.deep&&Ns(f),i.push({dir:l,instance:r,value:f,oldValue:void 0,arg:c,modifiers:a})}return e}function ks(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let l=0;l<i.length;l++){const f=i[l];o&&(f.oldValue=o[l].value);let c=f.dir[r];c&&(jo(),br(c,n,8,[e.el,f,e,t]),Wo())}}const e_="components",PI="directives";function Ge(e,t){return t_(e_,e,!0,t)||e}const BI=Symbol();function FI(e){return t_(PI,e)}function t_(e,t,n=!0,r=!1){const i=Ar||pn;if(i){const o=i.type;if(e===e_){const f=dR(o,!1);if(f&&(f===t||f===ii(t)||f===ec(ii(t))))return o}const l=hp(i[e]||o[e],t)||hp(i.appContext[e],t);return!l&&r?o:l}}function hp(e,t){return e&&(e[t]||e[ii(t)]||e[ec(ii(t))])}function We(e,t,n,r){let i;const o=n&&n[r];if(tt(e)||gn(e)){i=new Array(e.length);for(let l=0,f=e.length;l<f;l++)i[l]=t(e[l],l,void 0,o&&o[l])}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,o&&o[l])}else if(Ht(e))if(e[Symbol.iterator])i=Array.from(e,(l,f)=>t(l,f,void 0,o&&o[f]));else{const l=Object.keys(e);i=new Array(l.length);for(let f=0,c=l.length;f<c;f++){const a=l[f];i[f]=t(e[a],a,f,o&&o[f])}}else i=[];return n&&(n[r]=i),i}const zf=e=>e?f_(e)?cc(e)||e.proxy:zf(e.parent):null,Mu=Tn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zf(e.parent),$root:e=>zf(e.root),$emit:e=>e.emit,$options:e=>Uh(e),$forceUpdate:e=>e.f||(e.f=()=>Mh(e.update)),$nextTick:e=>e.n||(e.n=Ze.bind(e.proxy)),$watch:e=>wI.bind(e)}),MI={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:l,type:f,appContext:c}=e;let a;if(t[0]!=="$"){const w=l[t];if(w!==void 0)switch(w){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==Nt&&bt(r,t))return l[t]=1,r[t];if(i!==Nt&&bt(i,t))return l[t]=2,i[t];if((a=e.propsOptions[0])&&bt(a,t))return l[t]=3,o[t];if(n!==Nt&&bt(n,t))return l[t]=4,n[t];$f&&(l[t]=0)}}const h=Mu[t];let m,g;if(h)return t==="$attrs"&&or(e,"get",t),h(e);if((m=f.__cssModules)&&(m=m[t]))return m;if(n!==Nt&&bt(n,t))return l[t]=4,n[t];if(g=c.config.globalProperties,bt(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==Nt&&bt(i,t)?(i[t]=n,!0):r!==Nt&&bt(r,t)?(r[t]=n,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},l){let f;return!!n[l]||e!==Nt&&bt(e,l)||t!==Nt&&bt(t,l)||(f=o[0])&&bt(f,l)||bt(r,l)||bt(Mu,l)||bt(i.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:bt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let $f=!0;function NI(e){const t=Uh(e),n=e.proxy,r=e.ctx;$f=!1,t.beforeCreate&&gp(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:l,watch:f,provide:c,inject:a,created:h,beforeMount:m,mounted:g,beforeUpdate:w,updated:T,activated:y,deactivated:d,beforeDestroy:_,beforeUnmount:v,destroyed:p,unmounted:A,render:b,renderTracked:E,renderTriggered:x,errorCaptured:k,serverPrefetch:L,expose:S,inheritAttrs:C,components:I,directives:D,filters:P}=t;if(a&&UI(a,r,null,e.appContext.config.unwrapInjectedRef),l)for(const M in l){const V=l[M];lt(V)&&(r[M]=V.bind(n))}if(i){const M=i.call(n,n);Ht(M)&&(e.data=Et(M))}if($f=!0,o)for(const M in o){const V=o[M],H=lt(V)?V.bind(n,n):lt(V.get)?V.get.bind(n,n):Mr,z=!lt(V)&&lt(V.set)?V.set.bind(n):Mr,j=ve({get:H,set:z});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>j.value,set:Q=>j.value=Q})}if(f)for(const M in f)n_(f[M],r,n,M);if(c){const M=lt(c)?c.call(n):c;Reflect.ownKeys(M).forEach(V=>{Ti(V,M[V])})}h&&gp(h,e,"c");function U(M,V){tt(V)?V.forEach(H=>M(H.bind(n))):V&&M(V.bind(n))}if(U(II,m),U(Gt,g),U(X0,w),U(Z0,T),U(js,y),U(cs,d),U(OI,k),U(DI,E),U(LI,x),U(Di,v),U(si,A),U(RI,L),tt(S))if(S.length){const M=e.exposed||(e.exposed={});S.forEach(V=>{Object.defineProperty(M,V,{get:()=>n[V],set:H=>n[V]=H})})}else e.exposed||(e.exposed={});b&&e.render===Mr&&(e.render=b),C!=null&&(e.inheritAttrs=C),I&&(e.components=I),D&&(e.directives=D)}function UI(e,t,n=Mr,r=!1){tt(e)&&(e=Hf(e));for(const i in e){const o=e[i];let l;Ht(o)?"default"in o?l=yn(o.from||i,o.default,!0):l=yn(o.from||i):l=yn(o),Xt(l)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:f=>l.value=f}):t[i]=l}}function gp(e,t,n){br(tt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function n_(e,t,n,r){const i=r.includes(".")?W0(n,r):()=>n[r];if(gn(e)){const o=t[e];lt(o)&&Me(i,o)}else if(lt(e))Me(i,e.bind(n));else if(Ht(e))if(tt(e))e.forEach(o=>n_(o,t,n,r));else{const o=lt(e.handler)?e.handler.bind(n):t[e.handler];lt(o)&&Me(i,o,e)}}function Uh(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,f=o.get(t);let c;return f?c=f:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(a=>Nu(c,a,l,!0)),Nu(c,t,l)),Ht(t)&&o.set(t,c),c}function Nu(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Nu(e,o,n,!0),i&&i.forEach(l=>Nu(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const f=VI[l]||n&&n[l];e[l]=f?f(e[l],t[l]):t[l]}return e}const VI={data:vp,props:Ps,emits:Ps,methods:Ps,computed:Ps,beforeCreate:Pn,created:Pn,beforeMount:Pn,mounted:Pn,beforeUpdate:Pn,updated:Pn,beforeDestroy:Pn,beforeUnmount:Pn,destroyed:Pn,unmounted:Pn,activated:Pn,deactivated:Pn,errorCaptured:Pn,serverPrefetch:Pn,components:Ps,directives:Ps,watch:$I,provide:vp,inject:zI};function vp(e,t){return t?e?function(){return Tn(lt(e)?e.call(this,this):e,lt(t)?t.call(this,this):t)}:t:e}function zI(e,t){return Ps(Hf(e),Hf(t))}function Hf(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pn(e,t){return e?[...new Set([].concat(e,t))]:t}function Ps(e,t){return e?Tn(Tn(Object.create(null),e),t):t}function $I(e,t){if(!e)return t;if(!t)return e;const n=Tn(Object.create(null),e);for(const r in t)n[r]=Pn(e[r],t[r]);return n}function HI(e,t,n,r=!1){const i={},o={};Ou(o,uc,1),e.propsDefaults=Object.create(null),r_(e,t,i,o);for(const l in e.propsOptions[0])l in i||(i[l]=void 0);n?e.props=r?i:iI(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function GI(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:l}}=e,f=It(i),[c]=e.propsOptions;let a=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=e.vnode.dynamicProps;for(let m=0;m<h.length;m++){let g=h[m];if(rc(e.emitsOptions,g))continue;const w=t[g];if(c)if(bt(o,g))w!==o[g]&&(o[g]=w,a=!0);else{const T=ii(g);i[T]=Gf(c,f,T,w,e,!1)}else w!==o[g]&&(o[g]=w,a=!0)}}}else{r_(e,t,i,o)&&(a=!0);let h;for(const m in f)(!t||!bt(t,m)&&((h=Ks(m))===m||!bt(t,h)))&&(c?n&&(n[m]!==void 0||n[h]!==void 0)&&(i[m]=Gf(c,f,m,void 0,e,!0)):delete i[m]);if(o!==f)for(const m in o)(!t||!bt(t,m)&&!0)&&(delete o[m],a=!0)}a&&ki(e,"set","$attrs")}function r_(e,t,n,r){const[i,o]=e.propsOptions;let l=!1,f;if(t)for(let c in t){if(Su(c))continue;const a=t[c];let h;i&&bt(i,h=ii(c))?!o||!o.includes(h)?n[h]=a:(f||(f={}))[h]=a:rc(e.emitsOptions,c)||(!(c in r)||a!==r[c])&&(r[c]=a,l=!0)}if(o){const c=It(n),a=f||Nt;for(let h=0;h<o.length;h++){const m=o[h];n[m]=Gf(i,c,m,a[m],e,!bt(a,m))}}return l}function Gf(e,t,n,r,i,o){const l=e[n];if(l!=null){const f=bt(l,"default");if(f&&r===void 0){const c=l.default;if(l.type!==Function&&lt(c)){const{propsDefaults:a}=i;n in a?r=a[n]:(Mo(i),r=a[n]=c.call(null,t),zs())}else r=c}l[0]&&(o&&!f?r=!1:l[1]&&(r===""||r===Ks(n))&&(r=!0))}return r}function i_(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,l={},f=[];let c=!1;if(!lt(e)){const h=m=>{c=!0;const[g,w]=i_(m,t,!0);Tn(l,g),w&&f.push(...w)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!c)return Ht(e)&&r.set(e,xo),xo;if(tt(o))for(let h=0;h<o.length;h++){const m=ii(o[h]);mp(m)&&(l[m]=Nt)}else if(o)for(const h in o){const m=ii(h);if(mp(m)){const g=o[h],w=l[m]=tt(g)||lt(g)?{type:g}:g;if(w){const T=_p(Boolean,w.type),y=_p(String,w.type);w[0]=T>-1,w[1]=y<0||T<y,(T>-1||bt(w,"default"))&&f.push(m)}}}const a=[l,f];return Ht(e)&&r.set(e,a),a}function mp(e){return e[0]!=="$"}function pp(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function yp(e,t){return pp(e)===pp(t)}function _p(e,t){return tt(t)?t.findIndex(n=>yp(n,e)):lt(t)&&yp(t,e)?0:-1}const s_=e=>e[0]==="_"||e==="$stable",Vh=e=>tt(e)?e.map(ei):[ei(e)],KI=(e,t,n)=>{if(t._n)return t;const r=et((...i)=>Vh(t(...i)),n);return r._c=!1,r},o_=(e,t,n)=>{const r=e._ctx;for(const i in e){if(s_(i))continue;const o=e[i];if(lt(o))t[i]=KI(i,o,r);else if(o!=null){const l=Vh(o);t[i]=()=>l}}},a_=(e,t)=>{const n=Vh(t);e.slots.default=()=>n},jI=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=It(t),Ou(t,"_",n)):o_(t,e.slots={})}else e.slots={},t&&a_(e,t);Ou(e.slots,uc,1)},WI=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,l=Nt;if(r.shapeFlag&32){const f=t._;f?n&&f===1?o=!1:(Tn(i,t),!n&&f===1&&delete i._):(o=!t.$stable,o_(t,i)),l=t}else t&&(a_(e,t),l={default:1});if(o)for(const f in i)!s_(f)&&!(f in l)&&delete i[f]};function l_(){return{app:null,config:{isNativeTag:wx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qI=0;function YI(e,t){return function(r,i=null){lt(r)||(r=Object.assign({},r)),i!=null&&!Ht(i)&&(i=null);const o=l_(),l=new Set;let f=!1;const c=o.app={_uid:qI++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:vR,get config(){return o.config},set config(a){},use(a,...h){return l.has(a)||(a&&lt(a.install)?(l.add(a),a.install(c,...h)):lt(a)&&(l.add(a),a(c,...h))),c},mixin(a){return o.mixins.includes(a)||o.mixins.push(a),c},component(a,h){return h?(o.components[a]=h,c):o.components[a]},directive(a,h){return h?(o.directives[a]=h,c):o.directives[a]},mount(a,h,m){if(!f){const g=B(r,i);return g.appContext=o,h&&t?t(g,a):e(g,a,m),f=!0,c._container=a,a.__vue_app__=c,cc(g.component)||g.component.proxy}},unmount(){f&&(e(null,c._container),delete c._container.__vue_app__)},provide(a,h){return o.provides[a]=h,c}};return c}}function Kf(e,t,n,r,i=!1){if(tt(e)){e.forEach((g,w)=>Kf(g,t&&(tt(t)?t[w]:t),n,r,i));return}if(wu(r)&&!i)return;const o=r.shapeFlag&4?cc(r.component)||r.component.proxy:r.el,l=i?null:o,{i:f,r:c}=e,a=t&&t.r,h=f.refs===Nt?f.refs={}:f.refs,m=f.setupState;if(a!=null&&a!==c&&(gn(a)?(h[a]=null,bt(m,a)&&(m[a]=null)):Xt(a)&&(a.value=null)),lt(c))ss(c,f,12,[l,h]);else{const g=gn(c),w=Xt(c);if(g||w){const T=()=>{if(e.f){const y=g?bt(m,c)?m[c]:h[c]:c.value;i?tt(y)&&wh(y,o):tt(y)?y.includes(o)||y.push(o):g?(h[c]=[o],bt(m,c)&&(m[c]=h[c])):(c.value=[o],e.k&&(h[e.k]=c.value))}else g?(h[c]=l,bt(m,c)&&(m[c]=l)):w&&(c.value=l,e.k&&(h[e.k]=l))};l?(T.id=-1,zn(T,n)):T()}}}const zn=SI;function QI(e){return JI(e)}function JI(e,t){const n=Lx();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:l,createText:f,createComment:c,setText:a,setElementText:h,parentNode:m,nextSibling:g,setScopeId:w=Mr,insertStaticContent:T}=e,y=(Y,ee,ae,fe=null,ge=null,_e=null,xe=!1,Te=null,Ie=!!ee.dynamicChildren)=>{if(Y===ee)return;Y&&!Fs(Y,ee)&&(fe=se(Y),Q(Y,ge,_e,!0),Y=null),ee.patchFlag===-2&&(Ie=!1,ee.dynamicChildren=null);const{type:pe,ref:Ne,shapeFlag:Ae}=ee;switch(pe){case $h:d(Y,ee,ae,fe);break;case Nr:_(Y,ee,ae,fe);break;case Fa:Y==null&&v(ee,ae,fe,xe);break;case Le:I(Y,ee,ae,fe,ge,_e,xe,Te,Ie);break;default:Ae&1?b(Y,ee,ae,fe,ge,_e,xe,Te,Ie):Ae&6?D(Y,ee,ae,fe,ge,_e,xe,Te,Ie):(Ae&64||Ae&128)&&pe.process(Y,ee,ae,fe,ge,_e,xe,Te,Ie,me)}Ne!=null&&ge&&Kf(Ne,Y&&Y.ref,_e,ee||Y,!ee)},d=(Y,ee,ae,fe)=>{if(Y==null)r(ee.el=f(ee.children),ae,fe);else{const ge=ee.el=Y.el;ee.children!==Y.children&&a(ge,ee.children)}},_=(Y,ee,ae,fe)=>{Y==null?r(ee.el=c(ee.children||""),ae,fe):ee.el=Y.el},v=(Y,ee,ae,fe)=>{[Y.el,Y.anchor]=T(Y.children,ee,ae,fe,Y.el,Y.anchor)},p=({el:Y,anchor:ee},ae,fe)=>{let ge;for(;Y&&Y!==ee;)ge=g(Y),r(Y,ae,fe),Y=ge;r(ee,ae,fe)},A=({el:Y,anchor:ee})=>{let ae;for(;Y&&Y!==ee;)ae=g(Y),i(Y),Y=ae;i(ee)},b=(Y,ee,ae,fe,ge,_e,xe,Te,Ie)=>{xe=xe||ee.type==="svg",Y==null?E(ee,ae,fe,ge,_e,xe,Te,Ie):L(Y,ee,ge,_e,xe,Te,Ie)},E=(Y,ee,ae,fe,ge,_e,xe,Te)=>{let Ie,pe;const{type:Ne,props:Ae,shapeFlag:Ue,transition:Ke,dirs:Ye}=Y;if(Ie=Y.el=l(Y.type,_e,Ae&&Ae.is,Ae),Ue&8?h(Ie,Y.children):Ue&16&&k(Y.children,Ie,null,fe,ge,_e&&Ne!=="foreignObject",xe,Te),Ye&&ks(Y,null,fe,"created"),Ae){for(const nt in Ae)nt!=="value"&&!Su(nt)&&o(Ie,nt,null,Ae[nt],_e,Y.children,fe,ge,J);"value"in Ae&&o(Ie,"value",null,Ae.value),(pe=Ae.onVnodeBeforeMount)&&Qr(pe,fe,Y)}x(Ie,Y,Y.scopeId,xe,fe),Ye&&ks(Y,null,fe,"beforeMount");const it=(!ge||ge&&!ge.pendingBranch)&&Ke&&!Ke.persisted;it&&Ke.beforeEnter(Ie),r(Ie,ee,ae),((pe=Ae&&Ae.onVnodeMounted)||it||Ye)&&zn(()=>{pe&&Qr(pe,fe,Y),it&&Ke.enter(Ie),Ye&&ks(Y,null,fe,"mounted")},ge)},x=(Y,ee,ae,fe,ge)=>{if(ae&&w(Y,ae),fe)for(let _e=0;_e<fe.length;_e++)w(Y,fe[_e]);if(ge){let _e=ge.subTree;if(ee===_e){const xe=ge.vnode;x(Y,xe,xe.scopeId,xe.slotScopeIds,ge.parent)}}},k=(Y,ee,ae,fe,ge,_e,xe,Te,Ie=0)=>{for(let pe=Ie;pe<Y.length;pe++){const Ne=Y[pe]=Te?Xi(Y[pe]):ei(Y[pe]);y(null,Ne,ee,ae,fe,ge,_e,xe,Te)}},L=(Y,ee,ae,fe,ge,_e,xe)=>{const Te=ee.el=Y.el;let{patchFlag:Ie,dynamicChildren:pe,dirs:Ne}=ee;Ie|=Y.patchFlag&16;const Ae=Y.props||Nt,Ue=ee.props||Nt;let Ke;ae&&xs(ae,!1),(Ke=Ue.onVnodeBeforeUpdate)&&Qr(Ke,ae,ee,Y),Ne&&ks(ee,Y,ae,"beforeUpdate"),ae&&xs(ae,!0);const Ye=ge&&ee.type!=="foreignObject";if(pe?S(Y.dynamicChildren,pe,Te,ae,fe,Ye,_e):xe||V(Y,ee,Te,null,ae,fe,Ye,_e,!1),Ie>0){if(Ie&16)C(Te,ee,Ae,Ue,ae,fe,ge);else if(Ie&2&&Ae.class!==Ue.class&&o(Te,"class",null,Ue.class,ge),Ie&4&&o(Te,"style",Ae.style,Ue.style,ge),Ie&8){const it=ee.dynamicProps;for(let nt=0;nt<it.length;nt++){const _t=it[nt],Ft=Ae[_t],sn=Ue[_t];(sn!==Ft||_t==="value")&&o(Te,_t,Ft,sn,ge,Y.children,ae,fe,J)}}Ie&1&&Y.children!==ee.children&&h(Te,ee.children)}else!xe&&pe==null&&C(Te,ee,Ae,Ue,ae,fe,ge);((Ke=Ue.onVnodeUpdated)||Ne)&&zn(()=>{Ke&&Qr(Ke,ae,ee,Y),Ne&&ks(ee,Y,ae,"updated")},fe)},S=(Y,ee,ae,fe,ge,_e,xe)=>{for(let Te=0;Te<ee.length;Te++){const Ie=Y[Te],pe=ee[Te],Ne=Ie.el&&(Ie.type===Le||!Fs(Ie,pe)||Ie.shapeFlag&70)?m(Ie.el):ae;y(Ie,pe,Ne,null,fe,ge,_e,xe,!0)}},C=(Y,ee,ae,fe,ge,_e,xe)=>{if(ae!==fe){if(ae!==Nt)for(const Te in ae)!Su(Te)&&!(Te in fe)&&o(Y,Te,ae[Te],null,xe,ee.children,ge,_e,J);for(const Te in fe){if(Su(Te))continue;const Ie=fe[Te],pe=ae[Te];Ie!==pe&&Te!=="value"&&o(Y,Te,pe,Ie,xe,ee.children,ge,_e,J)}"value"in fe&&o(Y,"value",ae.value,fe.value)}},I=(Y,ee,ae,fe,ge,_e,xe,Te,Ie)=>{const pe=ee.el=Y?Y.el:f(""),Ne=ee.anchor=Y?Y.anchor:f("");let{patchFlag:Ae,dynamicChildren:Ue,slotScopeIds:Ke}=ee;Ke&&(Te=Te?Te.concat(Ke):Ke),Y==null?(r(pe,ae,fe),r(Ne,ae,fe),k(ee.children,ae,Ne,ge,_e,xe,Te,Ie)):Ae>0&&Ae&64&&Ue&&Y.dynamicChildren?(S(Y.dynamicChildren,Ue,ae,ge,_e,xe,Te),(ee.key!=null||ge&&ee===ge.subTree)&&zh(Y,ee,!0)):V(Y,ee,ae,Ne,ge,_e,xe,Te,Ie)},D=(Y,ee,ae,fe,ge,_e,xe,Te,Ie)=>{ee.slotScopeIds=Te,Y==null?ee.shapeFlag&512?ge.ctx.activate(ee,ae,fe,xe,Ie):P(ee,ae,fe,ge,_e,xe,Ie):F(Y,ee,Ie)},P=(Y,ee,ae,fe,ge,_e,xe)=>{const Te=Y.component=aR(Y,fe,ge);if(oc(Y)&&(Te.ctx.renderer=me),lR(Te),Te.asyncDep){if(ge&&ge.registerDep(Te,U),!Y.el){const Ie=Te.subTree=B(Nr);_(null,Ie,ee,ae)}return}U(Te,Y,ee,ae,ge,_e,xe)},F=(Y,ee,ae)=>{const fe=ee.component=Y.component;if(AI(Y,ee,ae))if(fe.asyncDep&&!fe.asyncResolved){M(fe,ee,ae);return}else fe.next=ee,gI(fe.update),fe.update();else ee.el=Y.el,fe.vnode=ee},U=(Y,ee,ae,fe,ge,_e,xe)=>{const Te=()=>{if(Y.isMounted){let{next:Ne,bu:Ae,u:Ue,parent:Ke,vnode:Ye}=Y,it=Ne,nt;xs(Y,!1),Ne?(Ne.el=Ye.el,M(Y,Ne,xe)):Ne=Ye,Ae&&Tu(Ae),(nt=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&Qr(nt,Ke,Ne,Ye),xs(Y,!0);const _t=tf(Y),Ft=Y.subTree;Y.subTree=_t,y(Ft,_t,m(Ft.el),se(Ft),Y,ge,_e),Ne.el=_t.el,it===null&&bI(Y,_t.el),Ue&&zn(Ue,ge),(nt=Ne.props&&Ne.props.onVnodeUpdated)&&zn(()=>Qr(nt,Ke,Ne,Ye),ge)}else{let Ne;const{el:Ae,props:Ue}=ee,{bm:Ke,m:Ye,parent:it}=Y,nt=wu(ee);if(xs(Y,!1),Ke&&Tu(Ke),!nt&&(Ne=Ue&&Ue.onVnodeBeforeMount)&&Qr(Ne,it,ee),xs(Y,!0),Ae&&Oe){const _t=()=>{Y.subTree=tf(Y),Oe(Ae,Y.subTree,Y,ge,null)};nt?ee.type.__asyncLoader().then(()=>!Y.isUnmounted&&_t()):_t()}else{const _t=Y.subTree=tf(Y);y(null,_t,ae,fe,Y,ge,_e),ee.el=_t.el}if(Ye&&zn(Ye,ge),!nt&&(Ne=Ue&&Ue.onVnodeMounted)){const _t=ee;zn(()=>Qr(Ne,it,_t),ge)}(ee.shapeFlag&256||it&&wu(it.vnode)&&it.vnode.shapeFlag&256)&&Y.a&&zn(Y.a,ge),Y.isMounted=!0,ee=ae=fe=null}},Ie=Y.effect=new Ih(Te,()=>Mh(pe),Y.scope),pe=Y.update=()=>Ie.run();pe.id=Y.uid,xs(Y,!0),pe()},M=(Y,ee,ae)=>{ee.component=Y;const fe=Y.vnode.props;Y.vnode=ee,Y.next=null,GI(Y,ee.props,fe,ae),WI(Y,ee.children,ae),jo(),up(),Wo()},V=(Y,ee,ae,fe,ge,_e,xe,Te,Ie=!1)=>{const pe=Y&&Y.children,Ne=Y?Y.shapeFlag:0,Ae=ee.children,{patchFlag:Ue,shapeFlag:Ke}=ee;if(Ue>0){if(Ue&128){z(pe,Ae,ae,fe,ge,_e,xe,Te,Ie);return}else if(Ue&256){H(pe,Ae,ae,fe,ge,_e,xe,Te,Ie);return}}Ke&8?(Ne&16&&J(pe,ge,_e),Ae!==pe&&h(ae,Ae)):Ne&16?Ke&16?z(pe,Ae,ae,fe,ge,_e,xe,Te,Ie):J(pe,ge,_e,!0):(Ne&8&&h(ae,""),Ke&16&&k(Ae,ae,fe,ge,_e,xe,Te,Ie))},H=(Y,ee,ae,fe,ge,_e,xe,Te,Ie)=>{Y=Y||xo,ee=ee||xo;const pe=Y.length,Ne=ee.length,Ae=Math.min(pe,Ne);let Ue;for(Ue=0;Ue<Ae;Ue++){const Ke=ee[Ue]=Ie?Xi(ee[Ue]):ei(ee[Ue]);y(Y[Ue],Ke,ae,null,ge,_e,xe,Te,Ie)}pe>Ne?J(Y,ge,_e,!0,!1,Ae):k(ee,ae,fe,ge,_e,xe,Te,Ie,Ae)},z=(Y,ee,ae,fe,ge,_e,xe,Te,Ie)=>{let pe=0;const Ne=ee.length;let Ae=Y.length-1,Ue=Ne-1;for(;pe<=Ae&&pe<=Ue;){const Ke=Y[pe],Ye=ee[pe]=Ie?Xi(ee[pe]):ei(ee[pe]);if(Fs(Ke,Ye))y(Ke,Ye,ae,null,ge,_e,xe,Te,Ie);else break;pe++}for(;pe<=Ae&&pe<=Ue;){const Ke=Y[Ae],Ye=ee[Ue]=Ie?Xi(ee[Ue]):ei(ee[Ue]);if(Fs(Ke,Ye))y(Ke,Ye,ae,null,ge,_e,xe,Te,Ie);else break;Ae--,Ue--}if(pe>Ae){if(pe<=Ue){const Ke=Ue+1,Ye=Ke<Ne?ee[Ke].el:fe;for(;pe<=Ue;)y(null,ee[pe]=Ie?Xi(ee[pe]):ei(ee[pe]),ae,Ye,ge,_e,xe,Te,Ie),pe++}}else if(pe>Ue)for(;pe<=Ae;)Q(Y[pe],ge,_e,!0),pe++;else{const Ke=pe,Ye=pe,it=new Map;for(pe=Ye;pe<=Ue;pe++){const Kt=ee[pe]=Ie?Xi(ee[pe]):ei(ee[pe]);Kt.key!=null&&it.set(Kt.key,pe)}let nt,_t=0;const Ft=Ue-Ye+1;let sn=!1,rt=0;const on=new Array(Ft);for(pe=0;pe<Ft;pe++)on[pe]=0;for(pe=Ke;pe<=Ae;pe++){const Kt=Y[pe];if(_t>=Ft){Q(Kt,ge,_e,!0);continue}let Qt;if(Kt.key!=null)Qt=it.get(Kt.key);else for(nt=Ye;nt<=Ue;nt++)if(on[nt-Ye]===0&&Fs(Kt,ee[nt])){Qt=nt;break}Qt===void 0?Q(Kt,ge,_e,!0):(on[Qt-Ye]=pe+1,Qt>=rt?rt=Qt:sn=!0,y(Kt,ee[Qt],ae,null,ge,_e,xe,Te,Ie),_t++)}const ar=sn?XI(on):xo;for(nt=ar.length-1,pe=Ft-1;pe>=0;pe--){const Kt=Ye+pe,Qt=ee[Kt],In=Kt+1<Ne?ee[Kt+1].el:fe;on[pe]===0?y(null,Qt,ae,In,ge,_e,xe,Te,Ie):sn&&(nt<0||pe!==ar[nt]?j(Qt,ae,In,2):nt--)}}},j=(Y,ee,ae,fe,ge=null)=>{const{el:_e,type:xe,transition:Te,children:Ie,shapeFlag:pe}=Y;if(pe&6){j(Y.component.subTree,ee,ae,fe);return}if(pe&128){Y.suspense.move(ee,ae,fe);return}if(pe&64){xe.move(Y,ee,ae,me);return}if(xe===Le){r(_e,ee,ae);for(let Ae=0;Ae<Ie.length;Ae++)j(Ie[Ae],ee,ae,fe);r(Y.anchor,ee,ae);return}if(xe===Fa){p(Y,ee,ae);return}if(fe!==2&&pe&1&&Te)if(fe===0)Te.beforeEnter(_e),r(_e,ee,ae),zn(()=>Te.enter(_e),ge);else{const{leave:Ae,delayLeave:Ue,afterLeave:Ke}=Te,Ye=()=>r(_e,ee,ae),it=()=>{Ae(_e,()=>{Ye(),Ke&&Ke()})};Ue?Ue(_e,Ye,it):it()}else r(_e,ee,ae)},Q=(Y,ee,ae,fe=!1,ge=!1)=>{const{type:_e,props:xe,ref:Te,children:Ie,dynamicChildren:pe,shapeFlag:Ne,patchFlag:Ae,dirs:Ue}=Y;if(Te!=null&&Kf(Te,null,ae,Y,!0),Ne&256){ee.ctx.deactivate(Y);return}const Ke=Ne&1&&Ue,Ye=!wu(Y);let it;if(Ye&&(it=xe&&xe.onVnodeBeforeUnmount)&&Qr(it,ee,Y),Ne&6)X(Y.component,ae,fe);else{if(Ne&128){Y.suspense.unmount(ae,fe);return}Ke&&ks(Y,null,ee,"beforeUnmount"),Ne&64?Y.type.remove(Y,ee,ae,ge,me,fe):pe&&(_e!==Le||Ae>0&&Ae&64)?J(pe,ee,ae,!1,!0):(_e===Le&&Ae&384||!ge&&Ne&16)&&J(Ie,ee,ae),fe&&ie(Y)}(Ye&&(it=xe&&xe.onVnodeUnmounted)||Ke)&&zn(()=>{it&&Qr(it,ee,Y),Ke&&ks(Y,null,ee,"unmounted")},ae)},ie=Y=>{const{type:ee,el:ae,anchor:fe,transition:ge}=Y;if(ee===Le){ne(ae,fe);return}if(ee===Fa){A(Y);return}const _e=()=>{i(ae),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(Y.shapeFlag&1&&ge&&!ge.persisted){const{leave:xe,delayLeave:Te}=ge,Ie=()=>xe(ae,_e);Te?Te(Y.el,_e,Ie):Ie()}else _e()},ne=(Y,ee)=>{let ae;for(;Y!==ee;)ae=g(Y),i(Y),Y=ae;i(ee)},X=(Y,ee,ae)=>{const{bum:fe,scope:ge,update:_e,subTree:xe,um:Te}=Y;fe&&Tu(fe),ge.stop(),_e&&(_e.active=!1,Q(xe,Y,ee,ae)),Te&&zn(Te,ee),zn(()=>{Y.isUnmounted=!0},ee),ee&&ee.pendingBranch&&!ee.isUnmounted&&Y.asyncDep&&!Y.asyncResolved&&Y.suspenseId===ee.pendingId&&(ee.deps--,ee.deps===0&&ee.resolve())},J=(Y,ee,ae,fe=!1,ge=!1,_e=0)=>{for(let xe=_e;xe<Y.length;xe++)Q(Y[xe],ee,ae,fe,ge)},se=Y=>Y.shapeFlag&6?se(Y.component.subTree):Y.shapeFlag&128?Y.suspense.next():g(Y.anchor||Y.el),ce=(Y,ee,ae)=>{Y==null?ee._vnode&&Q(ee._vnode,null,null,!0):y(ee._vnode||null,Y,ee,null,null,null,ae),up(),G0(),ee._vnode=Y},me={p:y,um:Q,m:j,r:ie,mt:P,mc:k,pc:V,pbc:S,n:se,o:e};let Fe,Oe;return t&&([Fe,Oe]=t(me)),{render:ce,hydrate:Fe,createApp:YI(ce,Fe)}}function xs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function zh(e,t,n=!1){const r=e.children,i=t.children;if(tt(r)&&tt(i))for(let o=0;o<r.length;o++){const l=r[o];let f=i[o];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=i[o]=Xi(i[o]),f.el=l.el),n||zh(l,f))}}function XI(e){const t=e.slice(),n=[0];let r,i,o,l,f;const c=e.length;for(r=0;r<c;r++){const a=e[r];if(a!==0){if(i=n[n.length-1],e[i]<a){t[r]=i,n.push(r);continue}for(o=0,l=n.length-1;o<l;)f=o+l>>1,e[n[f]]<a?o=f+1:l=f;a<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}const ZI=e=>e.__isTeleport,Ba=e=>e&&(e.disabled||e.disabled===""),Ap=e=>typeof SVGElement<"u"&&e instanceof SVGElement,jf=(e,t)=>{const n=e&&e.to;return gn(n)?t?t(n):null:n},eR={__isTeleport:!0,process(e,t,n,r,i,o,l,f,c,a){const{mc:h,pc:m,pbc:g,o:{insert:w,querySelector:T,createText:y,createComment:d}}=a,_=Ba(t.props);let{shapeFlag:v,children:p,dynamicChildren:A}=t;if(e==null){const b=t.el=y(""),E=t.anchor=y("");w(b,n,r),w(E,n,r);const x=t.target=jf(t.props,T),k=t.targetAnchor=y("");x&&(w(k,x),l=l||Ap(x));const L=(S,C)=>{v&16&&h(p,S,C,i,o,l,f,c)};_?L(n,E):x&&L(x,k)}else{t.el=e.el;const b=t.anchor=e.anchor,E=t.target=e.target,x=t.targetAnchor=e.targetAnchor,k=Ba(e.props),L=k?n:E,S=k?b:x;if(l=l||Ap(E),A?(g(e.dynamicChildren,A,L,i,o,l,f),zh(e,t,!0)):c||m(e,t,L,S,i,o,l,f,!1),_)k||ou(t,n,b,a,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=jf(t.props,T);C&&ou(t,C,null,a,0)}else k&&ou(t,E,x,a,1)}},remove(e,t,n,r,{um:i,o:{remove:o}},l){const{shapeFlag:f,children:c,anchor:a,targetAnchor:h,target:m,props:g}=e;if(m&&o(h),(l||!Ba(g))&&(o(a),f&16))for(let w=0;w<c.length;w++){const T=c[w];i(T,t,n,!0,!!T.dynamicChildren)}},move:ou,hydrate:tR};function ou(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:l,anchor:f,shapeFlag:c,children:a,props:h}=e,m=o===2;if(m&&r(l,t,n),(!m||Ba(h))&&c&16)for(let g=0;g<a.length;g++)i(a[g],t,n,2);m&&r(f,t,n)}function tR(e,t,n,r,i,o,{o:{nextSibling:l,parentNode:f,querySelector:c}},a){const h=t.target=jf(t.props,c);if(h){const m=h._lpa||h.firstChild;if(t.shapeFlag&16)if(Ba(t.props))t.anchor=a(l(e),t,f(e),n,r,i,o),t.targetAnchor=m;else{t.anchor=l(e);let g=m;for(;g;)if(g=l(g),g&&g.nodeType===8&&g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&l(t.targetAnchor);break}a(m,t,h,n,r,i,o)}}return t.anchor&&l(t.anchor)}const lc=eR,Le=Symbol(void 0),$h=Symbol(void 0),Nr=Symbol(void 0),Fa=Symbol(void 0),Ma=[];let Fr=null;function K(e=!1){Ma.push(Fr=e?null:[])}function nR(){Ma.pop(),Fr=Ma[Ma.length-1]||null}let qa=1;function bp(e){qa+=e}function u_(e){return e.dynamicChildren=qa>0?Fr||xo:null,nR(),qa>0&&Fr&&Fr.push(e),e}function W(e,t,n,r,i,o){return u_(O(e,t,n,r,i,o,!0))}function Bn(e,t,n,r,i){return u_(B(e,t,n,r,i,!0))}function Uu(e){return e?e.__v_isVNode===!0:!1}function Fs(e,t){return e.type===t.type&&e.key===t.key}const uc="__vInternal",c_=({key:e})=>e!=null?e:null,Cu=({ref:e,ref_key:t,ref_for:n})=>e!=null?gn(e)||Xt(e)||lt(e)?{i:Ar,r:e,k:t,f:!!n}:e:null;function O(e,t=null,n=null,r=0,i=null,o=e===Le?0:1,l=!1,f=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&c_(t),ref:t&&Cu(t),scopeId:ic,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return f?(Hh(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=gn(n)?8:16),qa>0&&!l&&Fr&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Fr.push(c),c}const B=rR;function rR(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===BI)&&(e=Nr),Uu(e)){const f=ls(e,t,!0);return n&&Hh(f,n),qa>0&&!o&&Fr&&(f.shapeFlag&6?Fr[Fr.indexOf(e)]=f:Fr.push(f)),f.patchFlag|=-2,f}if(fR(e)&&(e=e.__vccOpts),t){t=iR(t);let{class:f,style:c}=t;f&&!gn(f)&&(t.class=ut(f)),Ht(c)&&(F0(c)&&!tt(c)&&(c=Tn({},c)),t.style=_r(c))}const l=gn(e)?1:EI(e)?128:ZI(e)?64:Ht(e)?4:lt(e)?2:0;return O(e,t,n,r,i,l,o,!0)}function iR(e){return e?F0(e)||uc in e?Tn({},e):e:null}function ls(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:l}=e,f=t?gt(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&c_(f),ref:t&&t.ref?n&&i?tt(i)?i.concat(Cu(t)):[i,Cu(t)]:Cu(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Le?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ls(e.ssContent),ssFallback:e.ssFallback&&ls(e.ssFallback),el:e.el,anchor:e.anchor}}function xt(e=" ",t=0){return B($h,null,e,t)}function d_(e,t){const n=B(Fa,null,e);return n.staticCount=t,n}function De(e="",t=!1){return t?(K(),Bn(Nr,null,e)):B(Nr,null,e)}function ei(e){return e==null||typeof e=="boolean"?B(Nr):tt(e)?B(Le,null,e.slice()):typeof e=="object"?Xi(e):B($h,null,String(e))}function Xi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ls(e)}function Hh(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(tt(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Hh(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(uc in t)?t._ctx=Ar:i===3&&Ar&&(Ar.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else lt(t)?(t={default:t,_ctx:Ar},n=32):(t=String(t),r&64?(n=16,t=[xt(t)]):n=8);e.children=t,e.shapeFlag|=n}function gt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=ut([t.class,r.class]));else if(i==="style")t.style=_r([t.style,r.style]);else if(Ju(i)){const o=t[i],l=r[i];l&&o!==l&&!(tt(o)&&o.includes(l))&&(t[i]=o?[].concat(o,l):l)}else i!==""&&(t[i]=r[i])}return t}function Qr(e,t,n,r=null){br(e,t,7,[n,r])}const sR=l_();let oR=0;function aR(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||sR,o={uid:oR++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new S0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:i_(r,i),emitsOptions:j0(r,i),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=pI.bind(null,o),e.ce&&e.ce(o),o}let pn=null;const Yn=()=>pn||Ar,Mo=e=>{pn=e,e.scope.on()},zs=()=>{pn&&pn.scope.off(),pn=null};function f_(e){return e.vnode.shapeFlag&4}let Ya=!1;function lR(e,t=!1){Ya=t;const{props:n,children:r}=e.vnode,i=f_(e);HI(e,n,i,t),jI(e,r);const o=i?uR(e,t):void 0;return Ya=!1,o}function uR(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Fo(new Proxy(e.ctx,MI));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?g_(e):null;Mo(e),jo();const o=ss(r,e,0,[e.props,i]);if(Wo(),zs(),A0(o)){if(o.then(zs,zs),t)return o.then(l=>{Ep(e,l,t)}).catch(l=>{nc(l,e,0)});e.asyncDep=o}else Ep(e,o,t)}else h_(e,t)}function Ep(e,t,n){lt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ht(t)&&(e.setupState=V0(t)),h_(e,n)}let Sp;function h_(e,t,n){const r=e.type;if(!e.render){if(!t&&Sp&&!r.render){const i=r.template||Uh(e).template;if(i){const{isCustomElement:o,compilerOptions:l}=e.appContext.config,{delimiters:f,compilerOptions:c}=r,a=Tn(Tn({isCustomElement:o,delimiters:f},l),c);r.render=Sp(i,a)}}e.render=r.render||Mr}Mo(e),jo(),NI(e),Wo(),zs()}function cR(e){return new Proxy(e.attrs,{get(t,n){return or(e,"get","$attrs"),t[n]}})}function g_(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=cR(e))},slots:e.slots,emit:e.emit,expose:t}}function cc(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(V0(Fo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Mu)return Mu[n](e)}}))}function dR(e,t=!0){return lt(e)?e.displayName||e.name:e.name||t&&e.__name}function fR(e){return lt(e)&&"__vccOpts"in e}const ve=(e,t)=>dI(e,t,Ya);function hR(){return gR().attrs}function gR(){const e=Yn();return e.setupContext||(e.setupContext=g_(e))}function dc(e,t,n){const r=arguments.length;return r===2?Ht(t)&&!tt(t)?Uu(t)?B(e,null,[t]):B(e,t):B(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Uu(n)&&(n=[n]),B(e,t,n))}const vR="3.2.41",mR="http://www.w3.org/2000/svg",Ms=typeof document<"u"?document:null,Tp=Ms&&Ms.createElement("template"),pR={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Ms.createElementNS(mR,e):Ms.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ms.createTextNode(e),createComment:e=>Ms.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ms.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const l=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Tp.innerHTML=r?`<svg>${e}</svg>`:e;const f=Tp.content;if(r){const c=f.firstChild;for(;c.firstChild;)f.appendChild(c.firstChild);f.removeChild(c)}t.insertBefore(f,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function yR(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function _R(e,t,n){const r=e.style,i=gn(n);if(n&&!i){for(const o in n)Wf(r,o,n[o]);if(t&&!gn(t))for(const o in t)n[o]==null&&Wf(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const wp=/\s*!important$/;function Wf(e,t,n){if(tt(n))n.forEach(r=>Wf(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=AR(e,t);wp.test(n)?e.setProperty(Ks(r),n.replace(wp,""),"important"):e[r]=n}}const Cp=["Webkit","Moz","ms"],rf={};function AR(e,t){const n=rf[t];if(n)return n;let r=ii(t);if(r!=="filter"&&r in e)return rf[t]=r;r=ec(r);for(let i=0;i<Cp.length;i++){const o=Cp[i]+r;if(o in e)return rf[t]=o}return t}const kp="http://www.w3.org/1999/xlink";function bR(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(kp,t.slice(6,t.length)):e.setAttributeNS(kp,t,n);else{const o=bx(t);n==null||o&&!p0(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function ER(e,t,n,r,i,o,l){if(t==="innerHTML"||t==="textContent"){r&&l(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=p0(n):n==null&&c==="string"?(n="",f=!0):c==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function Co(e,t,n,r){e.addEventListener(t,n,r)}function SR(e,t,n,r){e.removeEventListener(t,n,r)}function TR(e,t,n,r,i=null){const o=e._vei||(e._vei={}),l=o[t];if(r&&l)l.value=r;else{const[f,c]=wR(t);if(r){const a=o[t]=xR(r,i);Co(e,f,a,c)}else l&&(SR(e,f,l,c),o[t]=void 0)}}const xp=/(?:Once|Passive|Capture)$/;function wR(e){let t;if(xp.test(e)){t={};let r;for(;r=e.match(xp);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ks(e.slice(2)),t]}let sf=0;const CR=Promise.resolve(),kR=()=>sf||(CR.then(()=>sf=0),sf=Date.now());function xR(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;br(IR(r,n.value),t,5,[r])};return n.value=e,n.attached=kR(),n}function IR(e,t){if(tt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Ip=/^on[a-z]/,RR=(e,t,n,r,i=!1,o,l,f,c)=>{t==="class"?yR(e,r,i):t==="style"?_R(e,n,r):Ju(t)?Th(t)||TR(e,t,n,r,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):LR(e,t,r,i))?ER(e,t,r,o,l,f,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),bR(e,t,r,i))};function LR(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Ip.test(t)&&lt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ip.test(t)&&gn(n)?!1:t in e}function Gh(e){const t=Yn();if(!t)return;const n=()=>qf(t.subTree,e(t.proxy));TI(n),Gt(()=>{const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),si(()=>r.disconnect())})}function qf(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{qf(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Rp(e.el,t);else if(e.type===Le)e.children.forEach(n=>qf(n,t));else if(e.type===Fa){let{el:n,anchor:r}=e;for(;n&&(Rp(n,t),n!==r);)n=n.nextSibling}}function Rp(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Gi="transition",pa="animation",xi=(e,{slots:t})=>dc(q0,DR(e),t);xi.displayName="Transition";const v_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};xi.props=Tn({},q0.props,v_);const Is=(e,t=[])=>{tt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lp=e=>e?tt(e)?e.some(t=>t.length>1):e.length>1:!1;function DR(e){const t={};for(const I in e)I in v_||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:f=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:a=l,appearToClass:h=f,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:w=`${n}-leave-to`}=e,T=OR(i),y=T&&T[0],d=T&&T[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:p,onLeave:A,onLeaveCancelled:b,onBeforeAppear:E=_,onAppear:x=v,onAppearCancelled:k=p}=t,L=(I,D,P)=>{Rs(I,D?h:f),Rs(I,D?a:l),P&&P()},S=(I,D)=>{I._isLeaving=!1,Rs(I,m),Rs(I,w),Rs(I,g),D&&D()},C=I=>(D,P)=>{const F=I?x:v,U=()=>L(D,I,P);Is(F,[D,U]),Dp(()=>{Rs(D,I?c:o),Ki(D,I?h:f),Lp(F)||Op(D,r,y,U)})};return Tn(t,{onBeforeEnter(I){Is(_,[I]),Ki(I,o),Ki(I,l)},onBeforeAppear(I){Is(E,[I]),Ki(I,c),Ki(I,a)},onEnter:C(!1),onAppear:C(!0),onLeave(I,D){I._isLeaving=!0;const P=()=>S(I,D);Ki(I,m),FR(),Ki(I,g),Dp(()=>{!I._isLeaving||(Rs(I,m),Ki(I,w),Lp(A)||Op(I,r,d,P))}),Is(A,[I,P])},onEnterCancelled(I){L(I,!1),Is(p,[I])},onAppearCancelled(I){L(I,!0),Is(k,[I])},onLeaveCancelled(I){S(I),Is(b,[I])}})}function OR(e){if(e==null)return null;if(Ht(e))return[of(e.enter),of(e.leave)];{const t=of(e);return[t,t]}}function of(e){return Pu(e)}function Ki(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Rs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Dp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let PR=0;function Op(e,t,n,r){const i=e._endId=++PR,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:l,timeout:f,propCount:c}=BR(e,t);if(!l)return r();const a=l+"end";let h=0;const m=()=>{e.removeEventListener(a,g),o()},g=w=>{w.target===e&&++h>=c&&m()};setTimeout(()=>{h<c&&m()},f+1),e.addEventListener(a,g)}function BR(e,t){const n=window.getComputedStyle(e),r=T=>(n[T]||"").split(", "),i=r(Gi+"Delay"),o=r(Gi+"Duration"),l=Pp(i,o),f=r(pa+"Delay"),c=r(pa+"Duration"),a=Pp(f,c);let h=null,m=0,g=0;t===Gi?l>0&&(h=Gi,m=l,g=o.length):t===pa?a>0&&(h=pa,m=a,g=c.length):(m=Math.max(l,a),h=m>0?l>a?Gi:pa:null,g=h?h===Gi?o.length:c.length:0);const w=h===Gi&&/\b(transform|all)(,|$)/.test(n[Gi+"Property"]);return{type:h,timeout:m,propCount:g,hasTransform:w}}function Pp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Bp(n)+Bp(e[r])))}function Bp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function FR(){return document.body.offsetHeight}const Fp=e=>{const t=e.props["onUpdate:modelValue"]||!1;return tt(t)?n=>Tu(t,n):t};function MR(e){e.target.composing=!0}function Mp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fc={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=Fp(i);const o=r||i.props&&i.props.type==="number";Co(e,t?"change":"input",l=>{if(l.target.composing)return;let f=e.value;n&&(f=f.trim()),o&&(f=Pu(f)),e._assign(f)}),n&&Co(e,"change",()=>{e.value=e.value.trim()}),t||(Co(e,"compositionstart",MR),Co(e,"compositionend",Mp),Co(e,"change",Mp))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=Fp(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Pu(e.value)===t))return;const l=t==null?"":t;e.value!==l&&(e.value=l)}},NR=["ctrl","shift","alt","meta"],UR={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>NR.some(n=>e[`${n}Key`]&&!t.includes(n))},Wt=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=UR[t[i]];if(o&&o(n,t))return}return e(n,...r)},VR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ts=(e,t)=>n=>{if(!("key"in n))return;const r=Ks(n.key);if(t.some(i=>i===r||VR[i]===r))return e(n)},St={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ya(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ya(e,!0),r.enter(e)):r.leave(e,()=>{ya(e,!1)}):ya(e,t))},beforeUnmount(e,{value:t}){ya(e,t)}};function ya(e,t){e.style.display=t?e._vod:"none"}const zR=Tn({patchProp:RR},pR);let Np;function $R(){return Np||(Np=QI(zR))}const m_=(...e)=>{const t=$R().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=HR(r);if(!i)return;const o=t._component;!lt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const l=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},t};function HR(e){return gn(e)?document.querySelector(e):e}var GR=!1;/*!
  * pinia v2.0.23
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let p_;const hc=e=>p_=e,y_=Symbol();function Yf(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Na;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Na||(Na={}));function KR(){const e=T0(!0),t=e.run(()=>Z({}));let n=[],r=[];const i=Fo({install(o){hc(i),i._a=o,o.provide(y_,i),o.config.globalProperties.$pinia=i,r.forEach(l=>n.push(l)),r=[]},use(o){return!this._a&&!GR?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const __=()=>{};function Up(e,t,n,r=__){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&Yn()&&si(i),i}function ho(e,...t){e.slice().forEach(n=>{n(...t)})}function Qf(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Yf(i)&&Yf(r)&&e.hasOwnProperty(n)&&!Xt(r)&&!is(r)?e[n]=Qf(i,r):e[n]=r}return e}const jR=Symbol();function WR(e){return!Yf(e)||!e.hasOwnProperty(jR)}const{assign:Zi}=Object;function qR(e){return!!(Xt(e)&&e.effect)}function YR(e,t,n,r){const{state:i,actions:o,getters:l}=t,f=n.state.value[e];let c;function a(){f||(n.state.value[e]=i?i():{});const h=Bh(n.state.value[e]);return Zi(h,o,Object.keys(l||{}).reduce((m,g)=>(m[g]=Fo(ve(()=>{hc(n);const w=n._s.get(e);return l[g].call(w,w)})),m),{}))}return c=A_(e,a,t,n,r,!0),c.$reset=function(){const m=i?i():{};this.$patch(g=>{Zi(g,m)})},c}function A_(e,t,n={},r,i,o){let l;const f=Zi({actions:{}},n),c={deep:!0};let a,h,m=Fo([]),g=Fo([]),w;const T=r.state.value[e];!o&&!T&&(r.state.value[e]={}),Z({});let y;function d(x){let k;a=h=!1,typeof x=="function"?(x(r.state.value[e]),k={type:Na.patchFunction,storeId:e,events:w}):(Qf(r.state.value[e],x),k={type:Na.patchObject,payload:x,storeId:e,events:w});const L=y=Symbol();Ze().then(()=>{y===L&&(a=!0)}),h=!0,ho(m,k,r.state.value[e])}const _=__;function v(){l.stop(),m=[],g=[],r._s.delete(e)}function p(x,k){return function(){hc(r);const L=Array.from(arguments),S=[],C=[];function I(F){S.push(F)}function D(F){C.push(F)}ho(g,{args:L,name:x,store:b,after:I,onError:D});let P;try{P=k.apply(this&&this.$id===e?this:b,L)}catch(F){throw ho(C,F),F}return P instanceof Promise?P.then(F=>(ho(S,F),F)).catch(F=>(ho(C,F),Promise.reject(F))):(ho(S,P),P)}}const A={_p:r,$id:e,$onAction:Up.bind(null,g),$patch:d,$reset:_,$subscribe(x,k={}){const L=Up(m,x,k.detached,()=>S()),S=l.run(()=>Me(()=>r.state.value[e],C=>{(k.flush==="sync"?h:a)&&x({storeId:e,type:Na.direct,events:w},C)},Zi({},c,k)));return L},$dispose:v},b=Et(A);r._s.set(e,b);const E=r._e.run(()=>(l=T0(),l.run(()=>t())));for(const x in E){const k=E[x];if(Xt(k)&&!qR(k)||is(k))o||(T&&WR(k)&&(Xt(k)?k.value=T[x]:Qf(k,T[x])),r.state.value[e][x]=k);else if(typeof k=="function"){const L=p(x,k);E[x]=L,f.actions[x]=k}}return Zi(b,E),Zi(It(b),E),Object.defineProperty(b,"$state",{get:()=>r.state.value[e],set:x=>{d(k=>{Zi(k,x)})}}),r._p.forEach(x=>{Zi(b,l.run(()=>x({store:b,app:r._a,pinia:r,options:f})))}),T&&o&&n.hydrate&&n.hydrate(b.$state,T),a=!0,h=!0,b}function gc(e,t,n){let r,i;const o=typeof t=="function";typeof e=="string"?(r=e,i=o?n:t):(i=e,r=e.id);function l(f,c){const a=Yn();return f=f||a&&yn(y_),f&&hc(f),f=p_,f._s.has(r)||(o?A_(r,t,i,f):YR(r,i,f)),f._s.get(r)}return l.$id=r,l}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ko=typeof window<"u";function QR(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Pt=Object.assign;function af(e,t){const n={};for(const r in t){const i=t[r];n[r]=Vr(i)?i.map(e):e(i)}return n}const Ua=()=>{},Vr=Array.isArray,JR=/\/$/,XR=e=>e.replace(JR,"");function lf(e,t,n="/"){let r,i={},o="",l="";const f=t.indexOf("#");let c=t.indexOf("?");return f<c&&f>=0&&(c=-1),c>-1&&(r=t.slice(0,c),o=t.slice(c+1,f>-1?f:t.length),i=e(o)),f>-1&&(r=r||t.slice(0,f),l=t.slice(f,t.length)),r=nL(r!=null?r:t,n),{fullPath:r+(o&&"?")+o+l,path:r,query:i,hash:l}}function ZR(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Vp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function eL(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&No(t.matched[r],n.matched[i])&&b_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function No(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function b_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!tL(e[n],t[n]))return!1;return!0}function tL(e,t){return Vr(e)?zp(e,t):Vr(t)?zp(t,e):e===t}function zp(e,t){return Vr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function nL(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Qa;(function(e){e.pop="pop",e.push="push"})(Qa||(Qa={}));var Va;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Va||(Va={}));function rL(e){if(!e)if(ko){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),XR(e)}const iL=/^[^#]+#/;function sL(e,t){return e.replace(iL,"#")+t}function oL(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const vc=()=>({left:window.pageXOffset,top:window.pageYOffset});function aL(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=oL(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function $p(e,t){return(history.state?history.state.position-t:-1)+e}const Jf=new Map;function lL(e,t){Jf.set(e,t)}function uL(e){const t=Jf.get(e);return Jf.delete(e),t}let cL=()=>location.protocol+"//"+location.host;function E_(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let f=i.includes(e.slice(o))?e.slice(o).length:1,c=i.slice(f);return c[0]!=="/"&&(c="/"+c),Vp(c,"")}return Vp(n,e)+r+i}function dL(e,t,n,r){let i=[],o=[],l=null;const f=({state:g})=>{const w=E_(e,location),T=n.value,y=t.value;let d=0;if(g){if(n.value=w,t.value=g,l&&l===T){l=null;return}d=y?g.position-y.position:0}else r(w);i.forEach(_=>{_(n.value,T,{delta:d,type:Qa.pop,direction:d?d>0?Va.forward:Va.back:Va.unknown})})};function c(){l=n.value}function a(g){i.push(g);const w=()=>{const T=i.indexOf(g);T>-1&&i.splice(T,1)};return o.push(w),w}function h(){const{history:g}=window;!g.state||g.replaceState(Pt({},g.state,{scroll:vc()}),"")}function m(){for(const g of o)g();o=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:a,destroy:m}}function Hp(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?vc():null}}function fL(e){const{history:t,location:n}=window,r={value:E_(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,a,h){const m=e.indexOf("#"),g=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+c:cL()+e+c;try{t[h?"replaceState":"pushState"](a,"",g),i.value=a}catch(w){console.error(w),n[h?"replace":"assign"](g)}}function l(c,a){const h=Pt({},t.state,Hp(i.value.back,c,i.value.forward,!0),a,{position:i.value.position});o(c,h,!0),r.value=c}function f(c,a){const h=Pt({},i.value,t.state,{forward:c,scroll:vc()});o(h.current,h,!0);const m=Pt({},Hp(r.value,c,null),{position:h.position+1},a);o(c,m,!1),r.value=c}return{location:r,state:i,push:f,replace:l}}function hL(e){e=rL(e);const t=fL(e),n=dL(e,t.state,t.location,t.replace);function r(o,l=!0){l||n.pauseListeners(),history.go(o)}const i=Pt({location:"",base:e,go:r,createHref:sL.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function gL(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),hL(e)}function vL(e){return typeof e=="string"||e&&typeof e=="object"}function S_(e){return typeof e=="string"||typeof e=="symbol"}const ji={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},T_=Symbol("");var Gp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Gp||(Gp={}));function Uo(e,t){return Pt(new Error,{type:e,[T_]:!0},t)}function yi(e,t){return e instanceof Error&&T_ in e&&(t==null||!!(e.type&t))}const Kp="[^/]+?",mL={sensitive:!1,strict:!1,start:!0,end:!0},pL=/[.+*?^${}()[\]/\\]/g;function yL(e,t){const n=Pt({},mL,t),r=[];let i=n.start?"^":"";const o=[];for(const a of e){const h=a.length?[]:[90];n.strict&&!a.length&&(i+="/");for(let m=0;m<a.length;m++){const g=a[m];let w=40+(n.sensitive?.25:0);if(g.type===0)m||(i+="/"),i+=g.value.replace(pL,"\\$&"),w+=40;else if(g.type===1){const{value:T,repeatable:y,optional:d,regexp:_}=g;o.push({name:T,repeatable:y,optional:d});const v=_||Kp;if(v!==Kp){w+=10;try{new RegExp(`(${v})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${T}" (${v}): `+A.message)}}let p=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;m||(p=d&&a.length<2?`(?:/${p})`:"/"+p),d&&(p+="?"),i+=p,w+=20,d&&(w+=-8),y&&(w+=-20),v===".*"&&(w+=-50)}h.push(w)}r.push(h)}if(n.strict&&n.end){const a=r.length-1;r[a][r[a].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const l=new RegExp(i,n.sensitive?"":"i");function f(a){const h=a.match(l),m={};if(!h)return null;for(let g=1;g<h.length;g++){const w=h[g]||"",T=o[g-1];m[T.name]=w&&T.repeatable?w.split("/"):w}return m}function c(a){let h="",m=!1;for(const g of e){(!m||!h.endsWith("/"))&&(h+="/"),m=!1;for(const w of g)if(w.type===0)h+=w.value;else if(w.type===1){const{value:T,repeatable:y,optional:d}=w,_=T in a?a[T]:"";if(Vr(_)&&!y)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const v=Vr(_)?_.join("/"):_;if(!v)if(d)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):m=!0);else throw new Error(`Missing required param "${T}"`);h+=v}}return h||"/"}return{re:l,score:r,keys:o,parse:f,stringify:c}}function _L(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function AL(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=_L(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(jp(r))return 1;if(jp(i))return-1}return i.length-r.length}function jp(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const bL={type:0,value:""},EL=/[a-zA-Z0-9_]/;function SL(e){if(!e)return[[]];if(e==="/")return[[bL]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${n})/"${a}": ${w}`)}let n=0,r=n;const i=[];let o;function l(){o&&i.push(o),o=[]}let f=0,c,a="",h="";function m(){!a||(n===0?o.push({type:0,value:a}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:a,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),a="")}function g(){a+=c}for(;f<e.length;){if(c=e[f++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(a&&m(),l()):c===":"?(m(),n=1):g();break;case 4:g(),n=r;break;case 1:c==="("?n=2:EL.test(c)?g():(m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&f--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:m(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&f--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${a}"`),m(),l(),i}function TL(e,t,n){const r=yL(SL(e.path),n),i=Pt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function wL(e,t){const n=[],r=new Map;t=Yp({strict:!1,end:!0,sensitive:!1},t);function i(h){return r.get(h)}function o(h,m,g){const w=!g,T=CL(h);T.aliasOf=g&&g.record;const y=Yp(t,h),d=[T];if("alias"in h){const p=typeof h.alias=="string"?[h.alias]:h.alias;for(const A of p)d.push(Pt({},T,{components:g?g.record.components:T.components,path:A,aliasOf:g?g.record:T}))}let _,v;for(const p of d){const{path:A}=p;if(m&&A[0]!=="/"){const b=m.record.path,E=b[b.length-1]==="/"?"":"/";p.path=m.record.path+(A&&E+A)}if(_=TL(p,m,y),g?g.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),w&&h.name&&!qp(_)&&l(h.name)),T.children){const b=T.children;for(let E=0;E<b.length;E++)o(b[E],_,g&&g.children[E])}g=g||_,c(_)}return v?()=>{l(v)}:Ua}function l(h){if(S_(h)){const m=r.get(h);m&&(r.delete(h),n.splice(n.indexOf(m),1),m.children.forEach(l),m.alias.forEach(l))}else{const m=n.indexOf(h);m>-1&&(n.splice(m,1),h.record.name&&r.delete(h.record.name),h.children.forEach(l),h.alias.forEach(l))}}function f(){return n}function c(h){let m=0;for(;m<n.length&&AL(h,n[m])>=0&&(h.record.path!==n[m].record.path||!w_(h,n[m]));)m++;n.splice(m,0,h),h.record.name&&!qp(h)&&r.set(h.record.name,h)}function a(h,m){let g,w={},T,y;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw Uo(1,{location:h});y=g.record.name,w=Pt(Wp(m.params,g.keys.filter(v=>!v.optional).map(v=>v.name)),h.params&&Wp(h.params,g.keys.map(v=>v.name))),T=g.stringify(w)}else if("path"in h)T=h.path,g=n.find(v=>v.re.test(T)),g&&(w=g.parse(T),y=g.record.name);else{if(g=m.name?r.get(m.name):n.find(v=>v.re.test(m.path)),!g)throw Uo(1,{location:h,currentLocation:m});y=g.record.name,w=Pt({},m.params,h.params),T=g.stringify(w)}const d=[];let _=g;for(;_;)d.unshift(_.record),_=_.parent;return{name:y,path:T,params:w,matched:d,meta:xL(d)}}return e.forEach(h=>o(h)),{addRoute:o,resolve:a,removeRoute:l,getRoutes:f,getRecordMatcher:i}}function Wp(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function CL(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:kL(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function kL(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function qp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function xL(e){return e.reduce((t,n)=>Pt(t,n.meta),{})}function Yp(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function w_(e,t){return t.children.some(n=>n===e||w_(e,n))}const C_=/#/g,IL=/&/g,RL=/\//g,LL=/=/g,DL=/\?/g,k_=/\+/g,OL=/%5B/g,PL=/%5D/g,x_=/%5E/g,BL=/%60/g,I_=/%7B/g,FL=/%7C/g,R_=/%7D/g,ML=/%20/g;function Kh(e){return encodeURI(""+e).replace(FL,"|").replace(OL,"[").replace(PL,"]")}function NL(e){return Kh(e).replace(I_,"{").replace(R_,"}").replace(x_,"^")}function Xf(e){return Kh(e).replace(k_,"%2B").replace(ML,"+").replace(C_,"%23").replace(IL,"%26").replace(BL,"`").replace(I_,"{").replace(R_,"}").replace(x_,"^")}function UL(e){return Xf(e).replace(LL,"%3D")}function VL(e){return Kh(e).replace(C_,"%23").replace(DL,"%3F")}function zL(e){return e==null?"":VL(e).replace(RL,"%2F")}function Vu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function $L(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(k_," "),l=o.indexOf("="),f=Vu(l<0?o:o.slice(0,l)),c=l<0?null:Vu(o.slice(l+1));if(f in t){let a=t[f];Vr(a)||(a=t[f]=[a]),a.push(c)}else t[f]=c}return t}function Qp(e){let t="";for(let n in e){const r=e[n];if(n=UL(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Vr(r)?r.map(o=>o&&Xf(o)):[r&&Xf(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function HL(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Vr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const jh=Symbol(""),Jp=Symbol(""),mc=Symbol(""),Wh=Symbol(""),Zf=Symbol("");function _a(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function L_(e,t,n){const r=()=>{e[t].delete(n)};si(r),cs(r),js(()=>{e[t].add(n)}),e[t].add(n)}function GL(e){const t=yn(jh,{}).value;!t||L_(t,"leaveGuards",e)}function KL(e){const t=yn(jh,{}).value;!t||L_(t,"updateGuards",e)}function es(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,f)=>{const c=m=>{m===!1?f(Uo(4,{from:n,to:t})):m instanceof Error?f(m):vL(m)?f(Uo(2,{from:t,to:m})):(o&&r.enterCallbacks[i]===o&&typeof m=="function"&&o.push(m),l())},a=e.call(r&&r.instances[i],t,n,c);let h=Promise.resolve(a);e.length<3&&(h=h.then(c)),h.catch(m=>f(m))})}function uf(e,t,n,r){const i=[];for(const o of e)for(const l in o.components){let f=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(jL(f)){const a=(f.__vccOpts||f)[t];a&&i.push(es(a,n,r,o,l))}else{let c=f();i.push(()=>c.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const h=QR(a)?a.default:a;o.components[l]=h;const g=(h.__vccOpts||h)[t];return g&&es(g,n,r,o,l)()}))}}return i}function jL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Xp(e){const t=yn(mc),n=yn(Wh),r=ve(()=>t.resolve(re(e.to))),i=ve(()=>{const{matched:c}=r.value,{length:a}=c,h=c[a-1],m=n.matched;if(!h||!m.length)return-1;const g=m.findIndex(No.bind(null,h));if(g>-1)return g;const w=Zp(c[a-2]);return a>1&&Zp(h)===w&&m[m.length-1].path!==w?m.findIndex(No.bind(null,c[a-2])):g}),o=ve(()=>i.value>-1&&YL(n.params,r.value.params)),l=ve(()=>i.value>-1&&i.value===n.matched.length-1&&b_(n.params,r.value.params));function f(c={}){return qL(c)?t[re(e.replace)?"replace":"push"](re(e.to)).catch(Ua):Promise.resolve()}return{route:r,href:ve(()=>r.value.href),isActive:o,isExactActive:l,navigate:f}}const WL=we({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xp,setup(e,{slots:t}){const n=Et(Xp(e)),{options:r}=yn(mc),i=ve(()=>({[ey(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ey(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:dc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),ku=WL;function qL(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function YL(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Vr(i)||i.length!==r.length||r.some((o,l)=>o!==i[l]))return!1}return!0}function Zp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ey=(e,t,n)=>e!=null?e:t!=null?t:n,QL=we({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=yn(Zf),i=ve(()=>e.route||r.value),o=yn(Jp,0),l=ve(()=>{let a=re(o);const{matched:h}=i.value;let m;for(;(m=h[a])&&!m.components;)a++;return a}),f=ve(()=>i.value.matched[l.value]);Ti(Jp,ve(()=>l.value+1)),Ti(jh,f),Ti(Zf,i);const c=Z();return Me(()=>[c.value,f.value,e.name],([a,h,m],[g,w,T])=>{h&&(h.instances[m]=a,w&&w!==h&&a&&a===g&&(h.leaveGuards.size||(h.leaveGuards=w.leaveGuards),h.updateGuards.size||(h.updateGuards=w.updateGuards))),a&&h&&(!w||!No(h,w)||!g)&&(h.enterCallbacks[m]||[]).forEach(y=>y(a))},{flush:"post"}),()=>{const a=i.value,h=e.name,m=f.value,g=m&&m.components[h];if(!g)return ty(n.default,{Component:g,route:a});const w=m.props[h],T=w?w===!0?a.params:typeof w=="function"?w(a):w:null,d=dc(g,Pt({},T,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(m.instances[h]=null)},ref:c}));return ty(n.default,{Component:d,route:a})||d}}});function ty(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const D_=QL;function JL(e){const t=wL(e.routes,e),n=e.parseQuery||$L,r=e.stringifyQuery||Qp,i=e.history,o=_a(),l=_a(),f=_a(),c=sI(ji);let a=ji;ko&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=af.bind(null,X=>""+X),m=af.bind(null,zL),g=af.bind(null,Vu);function w(X,J){let se,ce;return S_(X)?(se=t.getRecordMatcher(X),ce=J):ce=X,t.addRoute(ce,se)}function T(X){const J=t.getRecordMatcher(X);J&&t.removeRoute(J)}function y(){return t.getRoutes().map(X=>X.record)}function d(X){return!!t.getRecordMatcher(X)}function _(X,J){if(J=Pt({},J||c.value),typeof X=="string"){const Y=lf(n,X,J.path),ee=t.resolve({path:Y.path},J),ae=i.createHref(Y.fullPath);return Pt(Y,ee,{params:g(ee.params),hash:Vu(Y.hash),redirectedFrom:void 0,href:ae})}let se;if("path"in X)se=Pt({},X,{path:lf(n,X.path,J.path).path});else{const Y=Pt({},X.params);for(const ee in Y)Y[ee]==null&&delete Y[ee];se=Pt({},X,{params:m(X.params)}),J.params=m(J.params)}const ce=t.resolve(se,J),me=X.hash||"";ce.params=h(g(ce.params));const Fe=ZR(r,Pt({},X,{hash:NL(me),path:ce.path})),Oe=i.createHref(Fe);return Pt({fullPath:Fe,hash:me,query:r===Qp?HL(X.query):X.query||{}},ce,{redirectedFrom:void 0,href:Oe})}function v(X){return typeof X=="string"?lf(n,X,c.value.path):Pt({},X)}function p(X,J){if(a!==X)return Uo(8,{from:J,to:X})}function A(X){return x(X)}function b(X){return A(Pt(v(X),{replace:!0}))}function E(X){const J=X.matched[X.matched.length-1];if(J&&J.redirect){const{redirect:se}=J;let ce=typeof se=="function"?se(X):se;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=v(ce):{path:ce},ce.params={}),Pt({query:X.query,hash:X.hash,params:"path"in ce?{}:X.params},ce)}}function x(X,J){const se=a=_(X),ce=c.value,me=X.state,Fe=X.force,Oe=X.replace===!0,Y=E(se);if(Y)return x(Pt(v(Y),{state:typeof Y=="object"?Pt({},me,Y.state):me,force:Fe,replace:Oe}),J||se);const ee=se;ee.redirectedFrom=J;let ae;return!Fe&&eL(r,ce,se)&&(ae=Uo(16,{to:ee,from:ce}),z(ce,ce,!0,!1)),(ae?Promise.resolve(ae):L(ee,ce)).catch(fe=>yi(fe)?yi(fe,2)?fe:H(fe):M(fe,ee,ce)).then(fe=>{if(fe){if(yi(fe,2))return x(Pt({replace:Oe},v(fe.to),{state:typeof fe.to=="object"?Pt({},me,fe.to.state):me,force:Fe}),J||ee)}else fe=C(ee,ce,!0,Oe,me);return S(ee,ce,fe),fe})}function k(X,J){const se=p(X,J);return se?Promise.reject(se):Promise.resolve()}function L(X,J){let se;const[ce,me,Fe]=XL(X,J);se=uf(ce.reverse(),"beforeRouteLeave",X,J);for(const Y of ce)Y.leaveGuards.forEach(ee=>{se.push(es(ee,X,J))});const Oe=k.bind(null,X,J);return se.push(Oe),go(se).then(()=>{se=[];for(const Y of o.list())se.push(es(Y,X,J));return se.push(Oe),go(se)}).then(()=>{se=uf(me,"beforeRouteUpdate",X,J);for(const Y of me)Y.updateGuards.forEach(ee=>{se.push(es(ee,X,J))});return se.push(Oe),go(se)}).then(()=>{se=[];for(const Y of X.matched)if(Y.beforeEnter&&!J.matched.includes(Y))if(Vr(Y.beforeEnter))for(const ee of Y.beforeEnter)se.push(es(ee,X,J));else se.push(es(Y.beforeEnter,X,J));return se.push(Oe),go(se)}).then(()=>(X.matched.forEach(Y=>Y.enterCallbacks={}),se=uf(Fe,"beforeRouteEnter",X,J),se.push(Oe),go(se))).then(()=>{se=[];for(const Y of l.list())se.push(es(Y,X,J));return se.push(Oe),go(se)}).catch(Y=>yi(Y,8)?Y:Promise.reject(Y))}function S(X,J,se){for(const ce of f.list())ce(X,J,se)}function C(X,J,se,ce,me){const Fe=p(X,J);if(Fe)return Fe;const Oe=J===ji,Y=ko?history.state:{};se&&(ce||Oe?i.replace(X.fullPath,Pt({scroll:Oe&&Y&&Y.scroll},me)):i.push(X.fullPath,me)),c.value=X,z(X,J,se,Oe),H()}let I;function D(){I||(I=i.listen((X,J,se)=>{if(!ne.listening)return;const ce=_(X),me=E(ce);if(me){x(Pt(me,{replace:!0}),ce).catch(Ua);return}a=ce;const Fe=c.value;ko&&lL($p(Fe.fullPath,se.delta),vc()),L(ce,Fe).catch(Oe=>yi(Oe,12)?Oe:yi(Oe,2)?(x(Oe.to,ce).then(Y=>{yi(Y,20)&&!se.delta&&se.type===Qa.pop&&i.go(-1,!1)}).catch(Ua),Promise.reject()):(se.delta&&i.go(-se.delta,!1),M(Oe,ce,Fe))).then(Oe=>{Oe=Oe||C(ce,Fe,!1),Oe&&(se.delta&&!yi(Oe,8)?i.go(-se.delta,!1):se.type===Qa.pop&&yi(Oe,20)&&i.go(-1,!1)),S(ce,Fe,Oe)}).catch(Ua)}))}let P=_a(),F=_a(),U;function M(X,J,se){H(X);const ce=F.list();return ce.length?ce.forEach(me=>me(X,J,se)):console.error(X),Promise.reject(X)}function V(){return U&&c.value!==ji?Promise.resolve():new Promise((X,J)=>{P.add([X,J])})}function H(X){return U||(U=!X,D(),P.list().forEach(([J,se])=>X?se(X):J()),P.reset()),X}function z(X,J,se,ce){const{scrollBehavior:me}=e;if(!ko||!me)return Promise.resolve();const Fe=!se&&uL($p(X.fullPath,0))||(ce||!se)&&history.state&&history.state.scroll||null;return Ze().then(()=>me(X,J,Fe)).then(Oe=>Oe&&aL(Oe)).catch(Oe=>M(Oe,X,J))}const j=X=>i.go(X);let Q;const ie=new Set,ne={currentRoute:c,listening:!0,addRoute:w,removeRoute:T,hasRoute:d,getRoutes:y,resolve:_,options:e,push:A,replace:b,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:o.add,beforeResolve:l.add,afterEach:f.add,onError:F.add,isReady:V,install(X){const J=this;X.component("RouterLink",ku),X.component("RouterView",D_),X.config.globalProperties.$router=J,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>re(c)}),ko&&!Q&&c.value===ji&&(Q=!0,A(i.location).catch(me=>{}));const se={};for(const me in ji)se[me]=ve(()=>c.value[me]);X.provide(mc,J),X.provide(Wh,Et(se)),X.provide(Zf,c);const ce=X.unmount;ie.add(X),X.unmount=function(){ie.delete(X),ie.size<1&&(a=ji,I&&I(),I=null,c.value=ji,Q=!1,U=!1),ce()}}};return ne}function go(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function XL(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let l=0;l<o;l++){const f=t.matched[l];f&&(e.matched.find(a=>No(a,f))?r.push(f):n.push(f));const c=e.matched[l];c&&(t.matched.find(a=>No(a,c))||i.push(c))}return[n,r,i]}function Qn(){return yn(mc)}function Tr(){return yn(Wh)}const wt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},qo=e=>(pt("data-v-3b3ad7ec"),e=e(),yt(),e),ZL={key:0},eD=qo(()=>O("div",null,null,-1)),tD=qo(()=>O("span",null,"\u9996\u9875",-1)),nD=qo(()=>O("div",null,null,-1)),rD=qo(()=>O("span",null,"\u6536\u85CF\u5939",-1)),iD=qo(()=>O("div",null,null,-1)),sD=qo(()=>O("span",null,"\u6211\u7684",-1)),oD={key:1,class:"home-fixed"},aD={__name:"App",setup(e){const t=Tr(),n=ve(()=>!(t.path!=="/"&&t.path!=="/focus"&&t.path!=="/note"&&t.path!=="/video"&&t.path!=="/activity"));return(r,i)=>(K(),W(Le,null,[r.$route.meta.show||r.$route.path=="/me"?(K(),W("nav",ZL,[B(re(ku),{to:"/",class:ut({zzz:re(n)})},{default:et(()=>[eD,tD]),_:1},8,["class"]),B(re(ku),{to:"/fav",class:ut({zzz:r.$route.fullPath=="/me?from=/fav"||r.$route.fullPath=="/fav"})},{default:et(()=>[nD,rD]),_:1},8,["class"]),B(re(ku),{to:"/mine",class:ut({zzz:r.$route.fullPath=="/me?from=/mine"||r.$route.fullPath=="/mine"})},{default:et(()=>[iD,sD]),_:1},8,["class"])])):De("",!0),B(re(D_)),r.$route.meta.show||r.$route.path=="/me"?(K(),W("div",oD)):De("",!0)],64))}},lD=wt(aD,[["__scopeId","data-v-3b3ad7ec"]]),O_="/assets/XU.9d5b2658.png",rl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA/CAQAAAD9VthUAAADJUlEQVRYw+2YT0hUURTGf/7FDDViTOYpSJorodq1EhUEFxMkxewiECQKITCzFhOuBDetBKE2EhjhcpJaqJtatA6VghyCLBz/NKMOqJnOaIvOXGbeTDPvzns6mzl3ceHN/b7vnHPfu3POhYIVrGCnbkXaiEouY2DgxkWIVYIEWWDv5F2tpRc/exynjD389FJ7ctLNTBFLI5w4YkzRfBJRj3GQRTo+DhjTyUL2vb/OK2qSnnxjniCrhHDhxuCKKeYIt3nrTORPklI+j4/WNKta8TGftA2P7UuXM5lAGcCbJY9eAgnrJym3Jz+RsKODlFlAlDGY8JZM2BEfUDQhOjRwHYQUciBX8W6iQrFEkya2iSXBRunORbyaDSHYpCUHfAubgt+gWh8+orzvyjF7XSp7I7pQN7sCHbbx7gwLxy5uPeALAa5QaUO+khXhea4Dq2BHYH02z40+4dmhwjrII6BlSmzKl7AsXJ7/LSlOedIjs5+YTfkYfhNnVitmTTzudOAfo1O41tKEmdYaBLBFqQPypWwJX4O15BsyB4g6IB8loD5mS/LxZUGHSpWgKSyL0edJ/pzM2w7JR0y8WeTXZa5zSP6CzGFr8quZk6VthimsLPLBzG+qtrkzy5vNJd/pPlUOiFexL3yWN/OLALwOyHuFa8H6mf9G5hsOyMfP+lnrkGvi8bapudC3GraFS6PiKyIooFGb8qPC88NSkZ7Q2cT71nob4vWqF36gBzzDTwFO2ZCfEo5f+iVbr2oUhnIUH1IMg/rgYj6pZtGTg7hHNaYfrBYa5uuEkCoUe7Q/t3ixGqEx90LpUEiO8GngfBypxL+08+HcT2iXpy01Wy1Mm247Htmr1P8ookPGM57cdYyrfDnmQJtqNv/1+bP0p5SNDfQzl3T7E+ap2n+bDjTyMSWiMIvM8JoZFgmn/DqDAbQ75QDc5KvFm63v3FXXVQ46UMo9FrJIf+aOqTtw0AGAiwzwXpUQ8fGbOYa4mvaSLosDRTm5cR4DAxdbrLPOBocZ1rbzjrPqKH7GqVtiBtognw48hPw4EOGYCJfIkxnccqx7KFjBCmbH/gL3V+pzb1Kp5gAAAABJRU5ErkJggg==",uD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAQAAABJXchjAAAB1ElEQVRo3u2Zv1LCQBDG9whhFAeNM+LYeSUldnaGJxCfAHgCobMTn4D4BMITQGdp6Cylszw7BYrQ4B+Qs0DNLXI27lgw+6uyc8vku2OT+TYLwDDMcgQOd3whAbQahouJnucWaW45CSNlFeF5bhv8zyAY1JAE6d6AJNt5vX9hxk58uXkG5e/gcONhfBevZdqQJzx/P9V8GcVhIr7URygRRz5tFTgFMzJEzHrmgkYRKOJSVBYRbmDcSiU7ZtqsRqrhEhc+ejr25Ht1tgUgHqZBFOHffa39nUR30OTXEsMwDMMwq953ZE91XXgAoESt38GJu+ezqvBI7hlOKrjzMERky3BlGN2C6QOzDagSbl1NDkz7aBhdKCF1qN/SZdLzl07R4rZ19H9V4EQ2ES2UFmCTTqpBvYWWNvD5Pj0SOZgXZuXp1kwbh+vbkBNrFAp0mDwZPvI7gWEYhmGY1bb8nkyVtATQvWlncRyw44tjoLH8Pz6mmqMGc5ywYMp3i7pNuPXmoGLxmJmG8S3fS7yODTOaviY6hTn5dHeslvcdEh3RPu4UaKtAS5vl7+J/DrdutCLc0CJiGkA862nh4nEqlBMPffGorE/H74M4x0+Q1MXPQRzDMDY+AHXyiz68e6KfAAAAAElFTkSuQmCC";const qh=e=>(pt("data-v-4a3e8f08"),e=e(),yt(),e),cD=qh(()=>O("div",{class:"home_fixed"},null,-1)),dD={class:"home_nav"},fD={class:"input_classify"},hD=qh(()=>O("img",{src:O_,alt:""},null,-1)),gD=[hD],vD=qh(()=>O("img",{src:rl,alt:""},null,-1)),mD=[vD],pD={class:"classify"},yD={key:0,class:"bar animate__animated animate__fadeInUp"},_D={key:0,class:"bar animate__animated animate__fadeInRight"},AD={key:0,class:"bar animate__animated animate__fadeInRight"},bD={key:0,class:"bar animate__animated animate__fadeInRight"},ED={key:0,class:"bar animate__animated animate__fadeInRight"},SD={__name:"HomeView",setup(e){return Z(!1),(t,n)=>{const r=Ge("RouterLink"),i=Ge("RouterView");return K(),W(Le,null,[cD,O("div",dD,[O("div",fD,[O("div",{class:"release_notes",onClick:n[0]||(n[0]=o=>t.$router.push({path:"/release"}))},gD),O("div",{class:"search",onClick:n[1]||(n[1]=o=>t.$router.push({path:"/search"}))},mD),O("div",pD,[O("img",{src:uD,alt:"",onClick:n[2]||(n[2]=o=>t.$router.push({path:"/classify"}))})])]),O("nav",null,[B(r,{to:"/focus",class:ut({active:t.$route.path==="/focus"})},{default:et(()=>[xt("\u5173\u6CE8 "),this.$route.path==="/focus"?(K(),W("div",yD)):De("",!0)]),_:1},8,["class"]),B(r,{to:"/",class:ut({active:t.$route.path==="/"})},{default:et(()=>[xt("\u63A8\u8350 "),t.$route.path==="/"?(K(),W("div",_D)):De("",!0)]),_:1},8,["class"]),B(r,{to:"/note",class:ut({active:t.$route.path==="/note"})},{default:et(()=>[xt("\u7B14\u8BB0 "),t.$route.path==="/note"?(K(),W("div",AD)):De("",!0)]),_:1},8,["class"]),B(r,{to:"/video",class:ut({active:t.$route.path==="/video"})},{default:et(()=>[xt("\u89C6\u9891 "),t.$route.path==="/video"?(K(),W("div",bD)):De("",!0)]),_:1},8,["class"]),B(r,{to:"/activity",class:ut({active:t.$route.path==="/activity"})},{default:et(()=>[xt("\u6D3B\u52A8 "),t.$route.path==="/activity"?(K(),W("div",ED)):De("",!0)]),_:1},8,["class"])])]),B(i)],64)}}},TD=wt(SD,[["__scopeId","data-v-4a3e8f08"]]),pc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAQAAACQ9RH5AAAD10lEQVRYw72YvXLbRhSFz11IMxq5wUysJo2XHbgpCHUuwS6l3CVVoCewUroi+QSxn4D0E4TpkopMlXReNySdFFx2mbFmAjUcTWRhXUgWQWDxs4CQ7UDu4uO5e7j37iXUGtw98lkAaLmc1nsD1VkkfPwMfv+gbl78Lf8XsMedd9pNfBDFpytl+xZmD3bGe1jApbH9W6zBXqCDTNgCL2gd7AyMOzZoGezxnV6taF5fsyWYJZTp0e2ovmay08vWO73LDvDNbBeBuL+at6R4Xy8A1NdMTfQC9TWzJnqbaKZmegGguyZur5k105t+qq6Zmuqtq5k11Zv+hP3wKIq5e8gPfd2ji3y9ac0Yaamja6kiK/Adilzdg088lYcAxOeriWErQpbJUBTFEhG91/KTulHpn0Ffco7jx8/AyQcv+p1mvRnNpqG0gmSb2+ld7iaAu8djnFXbmU8v/prmpUs2q2joyfZHFTnA13+gWmaJ9KsPk7wvL9XTK/q20nv8g+eXb0mEKK8fIij8Ek/KChyP0wXraR9u6RvPKXnW7qEiSL0hCblVxf7MqUE5OHrg8I1emZNYJ+w01RsoKC3ti7eimjR2yQffi4U62JsjlyM8+lhIAHNADBJeipyTDp4/PAYn+Pg7WhligGHi8VfnqxWFOGobncJG8ffOZXTyG75rF53Gor9cOcDHf9pFZ7ELCThAu2gz9h7cHjoP+wBuB52PTYAfH12E3QM/LroYmwKb0E+vLv+sgQ3xughrLH2Ej1kiv0Tbjm2SAPYygAFrLPYWMj7VuyThHvn2d+gdVqv4dCErVpkrpfuJKdz67ptYofvmTJdT3h4lgqujJn8p0lZ19bXfBHyTDO2pFZgS4GvrZtKTZHC5HXg3Xdp7WkZ4QFPPDtxruMO7KPlWYL2b/r4WeFMr1L6bOEDmDRW73WemCQdmT7MST3P3+Ez36ApqOzV54EYeJn29qQgu9jR3j1/ShXbvTtvjgZgsRllf/1fia2br6e7LJ2sME7dIjqFYi9DW18zG0yIUa3qdvbqCY5yBl/iaVfW0F3RnGBdcYtPwjXWos572gu6MzSjI3K+M8PuuZomvWdk5nQOFfrPtxB39Ngtns+7M42Xn9UGxp9lPxh2axKOVAhAh9IY0pFTDhQJas2nxeW1QTMkQ+tkLZtxfnO9y7EotQ6PyM+t2U5x7RdXzuL809LHu4JR7xmlZsd1kuqzruR6Vtc68gMbZFoy5YWP8O92ea7W/1Kw0o3y+7MSZtckyqkILsTsRWmihxTsvtC72wu5aaKHFv2LMXdgPj3scNQd3669tdXwGC3nbTJqKWbcAAAAASUVORK5CYII=";const wD=e=>(pt("data-v-048d7540"),e=e(),yt(),e),CD={class:"creator_info"},kD={class:"name"},xD={class:"like_title"},ID={class:"like"},RD={class:"likecount"},LD=["src"],DD=wD(()=>O("div",{class:"fav"},[O("img",{src:pc,alt:"",width:"21"})],-1)),OD={__name:"MenuCard",props:{r:Object,show:Boolean},setup(e){return(t,n)=>{const r=Ge("van-image"),i=Ge("van-skeleton");return K(),W("div",{class:"menu",onClick:n[0]||(n[0]=o=>t.$router.push({path:"/menu",query:{id:e.r.id}}))},[O("div",CD,[B(r,{round:"",width:"25rem",height:"25rem","lazy-load":"",src:e.r.a.p},null,8,["src"]),O("strong",kD,le(e.r.a.n),1),O("i",{class:ut(["rank",{aaa:e.r.a.lvl>=5}])},"LV."+le(e.r.a.lvl),3)]),B(r,{width:"100%","lazy-load":"",src:e.r.img},null,8,["src"]),e.show?(K(),Bn(i,{key:0,title:"",avatar:"",row:3})):De("",!0),O("div",xD,[O("div",ID,[O("div",RD,[(K(!0),W(Le,null,We(e.r.collect_users,o=>(K(),W("div",{class:"img",key:o.id},[O("img",{src:o.p,alt:""},null,8,LD)]))),128)),O("span",null,le(e.r.collect_count_text),1)]),DD]),O("h2",null,le(e.r.n),1)])])}}},PD=wt(OD,[["__scopeId","data-v-048d7540"]]),Er="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABJCAQAAAA0uKhpAAAEyElEQVRo3u1asXbaSBS9MzI+SUiykxOJpcv4D+QvsPgCy91uZfIFJtXuVoZqd6s43XbB3XaGMhVyt531B1Y6n8CGcREO52B7tnCMRiMBkkCwhR8N5ugNlzf3vbnvjYFHe7TljKR5iPFtWzLJACJkQETfT7d4Hr+5gBgrudiTLmHRz6UgPk4nnghm+W3Vyb60437Uk91+OxcgxraP7hr6kpq1Jy0dlOngiLhzvQJ4cb+5gFKBSQDFWOk96im50vzSSgnIsnEGnoGHAVr9NlBx7z6m/BHf/Sa1eJyMGJwj2SbVTInB4D5H2ZF/kSfZ/IzGi+tv/8yNUOVYNnUiwkeXeJNAiPv43XHqYm9RDKUgp/AfiM9YicOW+3F26VtH5sGRAh9uTu6BxCJZx/FMUAFak06SX5XfOrrfLDah4loy8jphCxhhNjUPaUlzaDbne1W51da8DhOLmDlUl32dKluq3LqMLH1p2Wn8zIb6bdaQ8diWWZdhIKUgtbTVuMpve1NP3zi4CtL5WbbsKTnp9WsaIyK/086ULMw8s6QlzTOWJelh2ep3/tiIbJcaeLOR/Ug0m9ZJDq9GZNtYcnw+rvNst3pKIJpTDqn8MXbSsmAVVuU3F1Mmif4rgAKmo9SF9jrhAFcBPoTMMR2AAkSpAkZr3YLsRuEecQEKwJmmu7fe+ACAEPCmfxwClNnhhpHTTYhW2VUqyBtqqOeKvwlAWx2FMjVKwiKYWiuvmthyegwTTglXzuhNdRohoDdU/qCIjU2ZEgqaSXQWT3BONxiXBKPXlFxP9+9/ECs5pHdhhPjGYEwzXX6m1FfL0ibgMK7sjaATXy1LmwBUctTSTIUf0trY38iO7YXxGXgUINMYSYex9W9Y2HyT8/vTPjxS2VZj3YC2FfEjOwABGNu6DFXbZEeIdcanFPYsQX8HoIAQqmorHa+V0GoX66mNzHBBH1mMxD9SG6Eqn04/xuNnT0mYfE750+hqDXBsKEpItr50lM6VsdKFErzEyU2B7PnOH+A+y+6V7YFyzPJSr9gCEIUjRViS6cObvk/eKR681CuUzNEZXStsLpQJ2sh/RhQmVct81C2IPe/hquwZ/DH70cjkplJICagcR6dQGbrtIiBpcC5i+jo+XInkG1Dvr7Bbsw7RVrX0ZFc/F8iCERQAWRt4K6s8akQCoxbvlMnCmQQgUFtFxxadmUmxtZvUuNMZM4kDdRdxxvjylQdnqmonteQ5Ak12H3h4G61Ky0HS6jLu3s6KuTFrCa0qMcPd7o7FauDI1r8nuRbS5tCX+aLEtNHxojl2wZBWCgcAXp8sA2nlcOLHSRZIOhyrvar6mgtSYXDyQbLsAuEkQBpW5t6rmk5EpWeAY6R9cNQp7yAc/z3BT8/x7XyWeCd/R24XT/v1lQMCRp1IqQScMht9iquFF78jkkuyNSiu/Yxd2WlsYty60C70Mia6ke3xkadFiRmNh61j7OUvpE0iAOW7OfI00UiOUukS/To8gAch69FPpcBBdiVF8mycLuESLVF+LTaaB9BVMNnFfGF7OtnNd29i5CP3eDzqlD/DRkI7KQV+G/w6Hudb2cifcSP/ZVe+gq2B+fPm569LaHCybCGo8ltHHhIOyADns/7t4NEebX32H3CSkC/MYw4NAAAAAElFTkSuQmCC",os="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAACSElEQVRYw93XT4jVVRTA8c+9JKSBYFCatjPB5WxyFRGl0FAimjD8ZAYhpBYFbYpWgdBGyJ2ICxnJJji4UFyYFoT5h6FFCDVuYqQgGmiaGYqhGGFqeC3mBjP5Zt77PaZ5D8/ud8+f+/2dyz33HHpEUrPFRlVtxgD241lsxRzu4SucTxHfreDbh6N4AbuwCZP4FlcwkiL+aAnSqKo3cAJbWvzERbydIiaL3zacxqEWfr/j/RRxtilIo6o24BwGa2T0F/Qj4zM8VcN3BK+niL/hkSWK4ZoQysZfFpDHa/oOoVGOcTEjjaoaLITdkCMpIlKjqh7FD9jeJZAJ7Mw42EUIeBqvZbzaA2XkQMaeHgDpy9jRAyDbMzb2AMhjGVM9APJrxlgPgIxlXOsBkM8zPsH9LkLM4dOcImZwsosgH6WImVw+PsTtLkDcLHsvawOexCieWSeIcTyXIqaV53uxMYmYwov4aR0gfsRL/0IsAykwP2NveRH/z9d2X4qYaKdn3Y1beGKtCxeeTxHj/1Xkph11xPclM7+tIcR0ycR4M2Vesb2PGMPLmF0DiFn0p4i7KxnkVWeNiG/wSik6ncqfBeLOaka55eATMVrmm06q7xz2p4ivWxnmdqKliOs4jPkaEPM4lCJutGOc242aIq6iwkIb5n9hIEV80W78XCfPKeJSmUdWg1nAUIq4XCd2rnvoKSLwZhmOHihBOJYiLtSNmzu5BiliGO80gXgrRXzcSczc6Z1MEafw3pKld1PEma41E42qOt6oqg88LPIPCyCgssfbHJ8AAAAASUVORK5CYII=",zr=gc("dm",()=>{const e=Z(JSON.parse(localStorage.getItem("history_search"))||[]);function t(d){e.value=[...new Set([d,...e.value])],localStorage.setItem("history_search",JSON.stringify(e.value))}function n(){e.value=[],localStorage.setItem("history_search",JSON.stringify([]))}const r=Z(JSON.parse(localStorage.getItem("history_note"))||[]);function i(d){r.value=[{id:d},...r.value],localStorage.setItem("history_note",JSON.stringify(r.value))}function o(d){r.value=r.value.filter(_=>_.id!=d),console.log(r.value),localStorage.setItem("history_note",JSON.stringify(r.value))}const l=Z(JSON.parse(localStorage.getItem("note_fav"))||[]);function f({id:d,img:_,w:v,h:p,content:A,author_icon:b,author_name:E,like:x}){l.value=[{id:d,img:_,w:v,h:p,content:A,author_icon:b,author_name:E,like:x},...l.value],localStorage.setItem("note_fav",JSON.stringify(l.value))}function c(d){l.value=l.value.filter(_=>_.id!=d),localStorage.setItem("note_fav",JSON.stringify(l.value))}const a=Z(JSON.parse(localStorage.getItem("purchase_list"))||[]);function h({id:d,image:_,list:v}){a.value=[{id:d,image:_,list:v},...a.value],localStorage.setItem("purchase_list",JSON.stringify(a.value))}function m(d){a.value=a.value.filter(_=>_.id!=d),localStorage.setItem("purchase_list",JSON.stringify(a.value))}function g(){console.log(123),a.value=[],localStorage.setItem("purchase_list",JSON.stringify(a.value))}const w=Z(JSON.parse(localStorage.getItem("focus_author"))||[]);function T({id:d,image:_,name:v,rank:p,intro:A}){w.value=[{id:d,image:_,name:v,rank:p,intro:A},...w.value],localStorage.setItem("focus_author",JSON.stringify(w.value))}function y(d){w.value=w.value.filter(_=>_.id!=d),localStorage.setItem("focus_author",JSON.stringify(w.value))}return{history_search:e,addHistroySearch:t,clearHistory:n,history_note:r,setNoteHistory:i,deleteNoteHistroy:o,note_fav:l,setNoteFav:f,deleteNoteFav:c,purchase_list:a,addList:h,deleteList:m,clearPurchase:g,focus_author:w,addFocusAuthor:T,deleFocusAuthor:y}});const BD=e=>(pt("data-v-2cff86b2"),e=e(),yt(),e),FD={class:"creator_info"},MD={class:"name"},ND={class:"like_title"},UD={class:"like"},VD={class:"likecount"},zD=["src"],$D=BD(()=>O("span",null,null,-1)),HD={key:0},GD={key:1},KD={class:"fav"},jD={__name:"NoteCard",props:{note:Object,show:Boolean},setup(e){const t=zr();return(n,r)=>{const i=Ge("van-image");return K(),W("div",{class:"menu",onClick:r[2]||(r[2]=o=>n.$router.push({path:"/noted",query:{id:e.note.id}}))},[O("div",FD,[B(i,{round:"",width:"25rem",height:"25rem","lazy-load":"",src:e.note.author.p},null,8,["src"]),O("b",MD,le(e.note.author.n),1),O("i",{class:ut(["rank",{aaa:e.note.author.lvl>=5}])},"LV."+le(e.note.author.lvl),3)]),B(i,{width:"100%","lazy-load":"",src:e.note.image_u},null,8,["src"]),O("div",ND,[O("div",UD,[O("div",VD,[(K(!0),W(Le,null,We(e.note.collect_users,o=>(K(),W("div",{class:"img",key:o.id},[O("img",{src:o.p,alt:""},null,8,zD)]))),128)),$D,re(t).history_note.filter(o=>o.id==e.note.id).length==0?(K(),W("span",HD,le(e.note.like_count)+"\u4EBA\u70B9\u8D5E",1)):De("",!0),re(t).history_note.filter(o=>o.id==e.note.id).length!=0?(K(),W("span",GD,le(e.note.like_count+1)+"\u4EBA\u70B9\u8D5E",1)):De("",!0)]),O("div",KD,[re(t).history_note.filter(o=>o.id==e.note.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:r[0]||(r[0]=Wt(o=>re(t).setNoteHistory(e.note.id),["stop"]))})):De("",!0),re(t).history_note.filter(o=>o.id==e.note.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:r[1]||(r[1]=Wt(o=>re(t).deleteNoteHistroy(e.note.id),["stop"]))})):De("",!0)])]),O("h2",null,le(e.note.title),1)])])}}},WD=wt(jD,[["__scopeId","data-v-2cff86b2"]]);function P_(e,t){return function(){return e.apply(t,arguments)}}const{toString:B_}=Object.prototype,{getPrototypeOf:Yh}=Object,Qh=(e=>t=>{const n=B_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Oi=e=>(e=e.toLowerCase(),t=>Qh(t)===e),yc=e=>t=>typeof t===e,{isArray:il}=Array,eh=yc("undefined");function qD(e){return e!==null&&!eh(e)&&e.constructor!==null&&!eh(e.constructor)&&Yo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const F_=Oi("ArrayBuffer");function YD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&F_(e.buffer),t}const QD=yc("string"),Yo=yc("function"),M_=yc("number"),N_=e=>e!==null&&typeof e=="object",JD=e=>e===!0||e===!1,xu=e=>{if(Qh(e)!=="object")return!1;const t=Yh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XD=Oi("Date"),ZD=Oi("File"),eO=Oi("Blob"),tO=Oi("FileList"),nO=e=>N_(e)&&Yo(e.pipe),rO=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||B_.call(e)===t||Yo(e.toString)&&e.toString()===t)},iO=Oi("URLSearchParams"),sO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _c(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),il(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let f;for(r=0;r<l;r++)f=o[r],t.call(null,e[f],f,e)}}function th(){const e={},t=(n,r)=>{xu(e[r])&&xu(n)?e[r]=th(e[r],n):xu(n)?e[r]=th({},n):il(n)?e[r]=n.slice():e[r]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&_c(arguments[n],t);return e}const oO=(e,t,n,{allOwnKeys:r}={})=>(_c(t,(i,o)=>{n&&Yo(i)?e[o]=P_(i,n):e[o]=i},{allOwnKeys:r}),e),aO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lO=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},uO=(e,t,n,r)=>{let i,o,l;const f={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)l=i[o],(!r||r(l,e,t))&&!f[l]&&(t[l]=e[l],f[l]=!0);e=n!==!1&&Yh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},cO=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},dO=e=>{if(!e)return null;if(il(e))return e;let t=e.length;if(!M_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},fO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yh(Uint8Array)),hO=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},gO=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},vO=Oi("HTMLFormElement"),mO=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ny=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),pO=Oi("RegExp"),U_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_c(n,(i,o)=>{t(i,o,e)!==!1&&(r[o]=i)}),Object.defineProperties(e,r)},yO=e=>{U_(e,(t,n)=>{const r=e[n];if(!!Yo(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},_O=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return il(e)?r(e):r(String(e).split(t)),n},AO=()=>{},bO=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Se={isArray:il,isArrayBuffer:F_,isBuffer:qD,isFormData:rO,isArrayBufferView:YD,isString:QD,isNumber:M_,isBoolean:JD,isObject:N_,isPlainObject:xu,isUndefined:eh,isDate:XD,isFile:ZD,isBlob:eO,isRegExp:pO,isFunction:Yo,isStream:nO,isURLSearchParams:iO,isTypedArray:fO,isFileList:tO,forEach:_c,merge:th,extend:oO,trim:sO,stripBOM:aO,inherits:lO,toFlatObject:uO,kindOf:Qh,kindOfTest:Oi,endsWith:cO,toArray:dO,forEachEntry:hO,matchAll:gO,isHTMLForm:vO,hasOwnProperty:ny,hasOwnProp:ny,reduceDescriptors:U_,freezeMethods:yO,toObjectSet:_O,toCamelCase:mO,noop:AO,toFiniteNumber:bO};function kt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Se.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const V_=kt.prototype,z_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{z_[e]={value:e}});Object.defineProperties(kt,z_);Object.defineProperty(V_,"isAxiosError",{value:!0});kt.from=(e,t,n,r,i,o)=>{const l=Object.create(V_);return Se.toFlatObject(e,l,function(c){return c!==Error.prototype},f=>f!=="isAxiosError"),kt.call(l,e.message,t,n,r,i),l.cause=e,l.name=e.name,o&&Object.assign(l,o),l};var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},EO=typeof self=="object"?self.FormData:window.FormData;function nh(e){return Se.isPlainObject(e)||Se.isArray(e)}function $_(e){return Se.endsWith(e,"[]")?e.slice(0,-2):e}function ry(e,t,n){return e?e.concat(t).map(function(i,o){return i=$_(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function SO(e){return Se.isArray(e)&&!e.some(nh)}const TO=Se.toFlatObject(Se,{},null,function(t){return/^is[A-Z]/.test(t)});function wO(e){return e&&Se.isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator]}function Ac(e,t,n){if(!Se.isObject(e))throw new TypeError("target must be an object");t=t||new(EO||FormData),n=Se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,d){return!Se.isUndefined(d[y])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&wO(t);if(!Se.isFunction(i))throw new TypeError("visitor must be a function");function a(T){if(T===null)return"";if(Se.isDate(T))return T.toISOString();if(!c&&Se.isBlob(T))throw new kt("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(T)||Se.isTypedArray(T)?c&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function h(T,y,d){let _=T;if(T&&!d&&typeof T=="object"){if(Se.endsWith(y,"{}"))y=r?y:y.slice(0,-2),T=JSON.stringify(T);else if(Se.isArray(T)&&SO(T)||Se.isFileList(T)||Se.endsWith(y,"[]")&&(_=Se.toArray(T)))return y=$_(y),_.forEach(function(p,A){!(Se.isUndefined(p)||p===null)&&t.append(l===!0?ry([y],A,o):l===null?y:y+"[]",a(p))}),!1}return nh(T)?!0:(t.append(ry(d,y,o),a(T)),!1)}const m=[],g=Object.assign(TO,{defaultVisitor:h,convertValue:a,isVisitable:nh});function w(T,y){if(!Se.isUndefined(T)){if(m.indexOf(T)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(T),Se.forEach(T,function(_,v){(!(Se.isUndefined(_)||_===null)&&i.call(t,_,Se.isString(v)?v.trim():v,y,g))===!0&&w(_,y?y.concat(v):[v])}),m.pop()}}if(!Se.isObject(e))throw new TypeError("data must be an object");return w(e),t}function iy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Jh(e,t){this._pairs=[],e&&Ac(e,this,t)}const H_=Jh.prototype;H_.append=function(t,n){this._pairs.push([t,n])};H_.toString=function(t){const n=t?function(r){return t.call(this,r,iy)}:iy;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function CO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function G_(e,t,n){if(!t)return e;const r=n&&n.encode||CO,i=n&&n.serialize;let o;if(i?o=i(t,n):o=Se.isURLSearchParams(t)?t.toString():new Jh(t,n).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class sy{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const K_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kO=typeof URLSearchParams<"u"?URLSearchParams:Jh,xO=FormData,IO=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),wi={isBrowser:!0,classes:{URLSearchParams:kO,FormData:xO,Blob},isStandardBrowserEnv:IO,protocols:["http","https","file","blob","url","data"]};function RO(e,t){return Ac(e,new wi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return wi.isNode&&Se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function LO(e){return Se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DO(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function j_(e){function t(n,r,i,o){let l=n[o++];const f=Number.isFinite(+l),c=o>=n.length;return l=!l&&Se.isArray(i)?i.length:l,c?(Se.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!f):((!i[l]||!Se.isObject(i[l]))&&(i[l]=[]),t(n,r,i[l],o)&&Se.isArray(i[l])&&(i[l]=DO(i[l])),!f)}if(Se.isFormData(e)&&Se.isFunction(e.entries)){const n={};return Se.forEachEntry(e,(r,i)=>{t(LO(r),i,n,0)}),n}return null}function OO(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const PO=wi.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,l,f){const c=[];c.push(n+"="+encodeURIComponent(r)),Se.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),Se.isString(o)&&c.push("path="+o),Se.isString(l)&&c.push("domain="+l),f===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function BO(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function FO(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function W_(e,t){return e&&!BO(t)?FO(e,t):t}const MO=wi.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let l=o;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(l){const f=Se.isString(l)?i(l):l;return f.protocol===r.protocol&&f.host===r.host}}():function(){return function(){return!0}}();function sl(e,t,n){kt.call(this,e==null?"canceled":e,kt.ERR_CANCELED,t,n),this.name="CanceledError"}Se.inherits(sl,kt,{__CANCEL__:!0});function NO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const UO=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VO=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||t[n]&&UO[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},oy=Symbol("internals"),q_=Symbol("defaults");function Oa(e){return e&&String(e).trim().toLowerCase()}function Iu(e){return e===!1||e==null?e:Se.isArray(e)?e.map(Iu):String(e)}function zO(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}function ay(e,t,n,r){if(Se.isFunction(r))return r.call(this,t,n);if(!!Se.isString(t)){if(Se.isString(r))return t.indexOf(r)!==-1;if(Se.isRegExp(r))return r.test(t)}}function $O(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function HO(e,t){const n=Se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,l){return this[r].call(this,t,i,o,l)},configurable:!0})})}function ba(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}function Sr(e,t){e&&this.set(e),this[q_]=t||null}Object.assign(Sr.prototype,{set:function(e,t,n){const r=this;function i(o,l,f){const c=Oa(l);if(!c)throw new Error("header name must be a non-empty string");const a=ba(r,c);a&&f!==!0&&(r[a]===!1||f===!1)||(r[a||l]=Iu(o))}return Se.isPlainObject(e)?Se.forEach(e,(o,l)=>{i(o,l,t)}):i(t,e,n),this},get:function(e,t){if(e=Oa(e),!e)return;const n=ba(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return zO(r);if(Se.isFunction(t))return t.call(this,r,n);if(Se.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(e,t){if(e=Oa(e),e){const n=ba(this,e);return!!(n&&(!t||ay(this,this[n],n,t)))}return!1},delete:function(e,t){const n=this;let r=!1;function i(o){if(o=Oa(o),o){const l=ba(n,o);l&&(!t||ay(n,n[l],l,t))&&(delete n[l],r=!0)}}return Se.isArray(e)?e.forEach(i):i(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){const t=this,n={};return Se.forEach(this,(r,i)=>{const o=ba(n,i);if(o){t[o]=Iu(r),delete t[i];return}const l=e?$O(i):String(i).trim();l!==i&&delete t[i],t[l]=Iu(r),n[l]=!0}),this},toJSON:function(e){const t=Object.create(null);return Se.forEach(Object.assign({},this[q_]||null,this),(n,r)=>{n==null||n===!1||(t[r]=e&&Se.isArray(n)?n.join(", "):n)}),t}});Object.assign(Sr,{from:function(e){return Se.isString(e)?new this(VO(e)):e instanceof this?e:new this(e)},accessor:function(e){const n=(this[oy]=this[oy]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=Oa(o);n[l]||(HO(r,o),n[l]=!0)}return Se.isArray(e)?e.forEach(i):i(e),this}});Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Se.freezeMethods(Sr.prototype);Se.freezeMethods(Sr);function GO(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,l;return t=t!==void 0?t:1e3,function(c){const a=Date.now(),h=r[o];l||(l=a),n[i]=c,r[i]=a;let m=o,g=0;for(;m!==i;)g+=n[m++],m=m%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),a-l<t)return;const w=h&&a-h;return w?Math.round(g*1e3/w):void 0}}function ly(e,t){let n=0;const r=GO(50,250);return i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,f=o-n,c=r(f),a=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:f,rate:c||void 0,estimated:c&&l&&a?(l-o)/c:void 0};h[t?"download":"upload"]=!0,e(h)}}function uy(e){return new Promise(function(n,r){let i=e.data;const o=Sr.from(e.headers).normalize(),l=e.responseType;let f;function c(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}Se.isFormData(i)&&wi.isStandardBrowserEnv&&o.setContentType(!1);let a=new XMLHttpRequest;if(e.auth){const w=e.auth.username||"",T=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(w+":"+T))}const h=W_(e.baseURL,e.url);a.open(e.method.toUpperCase(),G_(h,e.params,e.paramsSerializer),!0),a.timeout=e.timeout;function m(){if(!a)return;const w=Sr.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),y={data:!l||l==="text"||l==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:w,config:e,request:a};OO(function(_){n(_),c()},function(_){r(_),c()},y),a=null}if("onloadend"in a?a.onloadend=m:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(m)},a.onabort=function(){!a||(r(new kt("Request aborted",kt.ECONNABORTED,e,a)),a=null)},a.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,e,a)),a=null},a.ontimeout=function(){let T=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const y=e.transitional||K_;e.timeoutErrorMessage&&(T=e.timeoutErrorMessage),r(new kt(T,y.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,a)),a=null},wi.isStandardBrowserEnv){const w=(e.withCredentials||MO(h))&&e.xsrfCookieName&&PO.read(e.xsrfCookieName);w&&o.set(e.xsrfHeaderName,w)}i===void 0&&o.setContentType(null),"setRequestHeader"in a&&Se.forEach(o.toJSON(),function(T,y){a.setRequestHeader(y,T)}),Se.isUndefined(e.withCredentials)||(a.withCredentials=!!e.withCredentials),l&&l!=="json"&&(a.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&a.addEventListener("progress",ly(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",ly(e.onUploadProgress)),(e.cancelToken||e.signal)&&(f=w=>{!a||(r(!w||w.type?new sl(null,e,a):w),a.abort(),a=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f)));const g=NO(h);if(g&&wi.protocols.indexOf(g)===-1){r(new kt("Unsupported protocol "+g+":",kt.ERR_BAD_REQUEST,e));return}a.send(i||null)})}const cy={http:uy,xhr:uy},dy={getAdapter:e=>{if(Se.isString(e)){const t=cy[e];if(!e)throw Error(Se.hasOwnProp(e)?`Adapter '${e}' is not available in the build`:`Can not resolve adapter '${e}'`);return t}if(!Se.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:cy},KO={"Content-Type":"application/x-www-form-urlencoded"};function jO(){let e;return typeof XMLHttpRequest<"u"?e=dy.getAdapter("xhr"):typeof process<"u"&&Se.kindOf(process)==="process"&&(e=dy.getAdapter("http")),e}function WO(e,t,n){if(Se.isString(e))try{return(t||JSON.parse)(e),Se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Qo={transitional:K_,adapter:jO(),transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Se.isObject(t);if(o&&Se.isHTMLForm(t)&&(t=new FormData(t)),Se.isFormData(t))return i&&i?JSON.stringify(j_(t)):t;if(Se.isArrayBuffer(t)||Se.isBuffer(t)||Se.isStream(t)||Se.isFile(t)||Se.isBlob(t))return t;if(Se.isArrayBufferView(t))return t.buffer;if(Se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return RO(t,this.formSerializer).toString();if((f=Se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ac(f?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),WO(t)):t}],transformResponse:[function(t){const n=this.transitional||Qo.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&Se.isString(t)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(f){if(l)throw f.name==="SyntaxError"?kt.from(f,kt.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wi.classes.FormData,Blob:wi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Se.forEach(["delete","get","head"],function(t){Qo.headers[t]={}});Se.forEach(["post","put","patch"],function(t){Qo.headers[t]=Se.merge(KO)});function cf(e,t){const n=this||Qo,r=t||n,i=Sr.from(r.headers);let o=r.data;return Se.forEach(e,function(f){o=f.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function Y_(e){return!!(e&&e.__CANCEL__)}function df(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sl}function fy(e){return df(e),e.headers=Sr.from(e.headers),e.data=cf.call(e,e.transformRequest),(e.adapter||Qo.adapter)(e).then(function(r){return df(e),r.data=cf.call(e,e.transformResponse,r),r.headers=Sr.from(r.headers),r},function(r){return Y_(r)||(df(e),r&&r.response&&(r.response.data=cf.call(e,e.transformResponse,r.response),r.response.headers=Sr.from(r.response.headers))),Promise.reject(r)})}function Ja(e,t){t=t||{};const n={};function r(a,h){return Se.isPlainObject(a)&&Se.isPlainObject(h)?Se.merge(a,h):Se.isPlainObject(h)?Se.merge({},h):Se.isArray(h)?h.slice():h}function i(a){if(Se.isUndefined(t[a])){if(!Se.isUndefined(e[a]))return r(void 0,e[a])}else return r(e[a],t[a])}function o(a){if(!Se.isUndefined(t[a]))return r(void 0,t[a])}function l(a){if(Se.isUndefined(t[a])){if(!Se.isUndefined(e[a]))return r(void 0,e[a])}else return r(void 0,t[a])}function f(a){if(a in t)return r(e[a],t[a]);if(a in e)return r(void 0,e[a])}const c={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f};return Se.forEach(Object.keys(e).concat(Object.keys(t)),function(h){const m=c[h]||i,g=m(h);Se.isUndefined(g)&&m!==f||(n[h]=g)}),n}const Q_="1.1.3",Xh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xh[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const hy={};Xh.transitional=function(t,n,r){function i(o,l){return"[Axios v"+Q_+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,f)=>{if(t===!1)throw new kt(i(l," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!hy[l]&&(hy[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,l,f):!0}};function qO(e,t,n){if(typeof e!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],l=t[o];if(l){const f=e[o],c=f===void 0||l(f,o,e);if(c!==!0)throw new kt("option "+o+" must be "+c,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+o,kt.ERR_BAD_OPTION)}}const rh={assertOptions:qO,validators:Xh},Wi=rh.validators;class $s{constructor(t){this.defaults=t,this.interceptors={request:new sy,response:new sy}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ja(this.defaults,n);const{transitional:r,paramsSerializer:i}=n;r!==void 0&&rh.assertOptions(r,{silentJSONParsing:Wi.transitional(Wi.boolean),forcedJSONParsing:Wi.transitional(Wi.boolean),clarifyTimeoutError:Wi.transitional(Wi.boolean)},!1),i!==void 0&&rh.assertOptions(i,{encode:Wi.function,serialize:Wi.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();const o=n.headers&&Se.merge(n.headers.common,n.headers[n.method]);o&&Se.forEach(["delete","get","head","post","put","patch","common"],function(T){delete n.headers[T]}),n.headers=new Sr(n.headers,o);const l=[];let f=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(f=f&&T.synchronous,l.unshift(T.fulfilled,T.rejected))});const c=[];this.interceptors.response.forEach(function(T){c.push(T.fulfilled,T.rejected)});let a,h=0,m;if(!f){const w=[fy.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,c),m=w.length,a=Promise.resolve(n);h<m;)a=a.then(w[h++],w[h++]);return a}m=l.length;let g=n;for(h=0;h<m;){const w=l[h++],T=l[h++];try{g=w(g)}catch(y){T.call(this,y);break}}try{a=fy.call(this,g)}catch(w){return Promise.reject(w)}for(h=0,m=c.length;h<m;)a=a.then(c[h++],c[h++]);return a}getUri(t){t=Ja(this.defaults,t);const n=W_(t.baseURL,t.url);return G_(n,t.params,t.paramsSerializer)}}Se.forEach(["delete","get","head","options"],function(t){$s.prototype[t]=function(n,r){return this.request(Ja(r||{},{method:t,url:n,data:(r||{}).data}))}});Se.forEach(["post","put","patch"],function(t){function n(r){return function(o,l,f){return this.request(Ja(f||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}$s.prototype[t]=n(),$s.prototype[t+"Form"]=n(!0)});class Zh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(f=>{r.subscribe(f),o=f}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},t(function(o,l,f){r.reason||(r.reason=new sl(o,l,f),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Zh(function(i){t=i}),cancel:t}}}function YO(e){return function(n){return e.apply(null,n)}}function QO(e){return Se.isObject(e)&&e.isAxiosError===!0}function J_(e){const t=new $s(e),n=P_($s.prototype.request,t);return Se.extend(n,$s.prototype,t,{allOwnKeys:!0}),Se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return J_(Ja(e,i))},n}const Hn=J_(Qo);Hn.Axios=$s;Hn.CanceledError=sl;Hn.CancelToken=Zh;Hn.isCancel=Y_;Hn.VERSION=Q_;Hn.toFormData=Ac;Hn.AxiosError=kt;Hn.Cancel=Hn.CanceledError;Hn.all=function(t){return Promise.all(t)};Hn.spread=YO;Hn.isAxiosError=QO;Hn.formToJSON=e=>j_(Se.isHTMLForm(e)?new FormData(e):e);let JO={baseURL:"https://apis.netstart.cn/douguo/"};const rn=Hn.create(JO);rn.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});rn.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)});const gy=e=>rn.get("home/recommended/"+e+"/10"),XO=e=>rn.get("home/notes/"+e+"/20"),ZO=()=>rn.get("home/events/getlists"),eP=e=>rn.get("home/ffeeds/"+e+"/20"),tP=()=>rn.get("recipe/search/hot"),ff=({keyword:e,order:t=0,type:n=0})=>rn.get("recipe/search",{params:{keyword:e,order:t,type:n,offset:0,limit:20}}),nP=()=>rn.get("recipe/flatcatalogs"),vy=e=>rn.get("note/detail/"+e),my=e=>rn.get("note/related/"+e+"/0/20"),rP=e=>rn.get("recipe/flatcomments/"+e+"/0/20"),iP=e=>rn.get("user/info/"+e),sP=e=>rn.get("user/urecipes/"+e+"/0/20"),oP=e=>rn.get("user/ufavorites/"+e+"/0/20"),aP=e=>rn.get("user/usernotescalendar/"+e+"/0/20"),lP={class:"recommend animate__animated animate__fadeInUp"},uP={class:"recommend_list"},cP={__name:"RecommendView",setup(e){const t=Z([]),n=Z([]),r=Z(0),i=Z(!1),o=Z(!1),l=Z(!1),f=()=>{l.value=!0,gy(r.value*10).then(c=>{console.log(c),t.value=[...t.value,...c.data.result.list],i.value=!1,l.value=!1}),r.value+=1,r.value>=10&&(o.value=!0)};return gy(r.value).then(c=>{console.log(c),n.value=c.data.result.banner}),(c,a)=>{const h=Ge("van-image"),m=Ge("van-swipe-item"),g=Ge("van-swipe"),w=Ge("van-list");return K(),W("div",lP,[B(g,null,{indicator:et(()=>[]),default:et(()=>[(K(!0),W(Le,null,We(n.value,T=>(K(),Bn(m,{key:T.id},{default:et(()=>[B(h,{width:"100%",height:"100","lazy-load":"",src:T.i},null,8,["src"])]),_:2},1024))),128))]),_:1}),O("ul",uP,[B(w,{loading:i.value,"onUpdate:loading":a[0]||(a[0]=T=>i.value=T),finished:o.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:f},{default:et(()=>[(K(!0),W(Le,null,We(t.value,T=>(K(),W(Le,{key:T.id},[T.type===1?(K(),Bn(PD,{key:0,r:T.r,show:l.value},null,8,["r","show"])):T.type===3?(K(),Bn(WD,{key:1,note:T.note,show:l.value},null,8,["note","show"])):De("",!0)],64))),128))]),_:1},8,["loading","finished"])])])}}};const dP={},fP={key:0,class:"bar"},hP={key:0,class:"bar"},gP={key:0,class:"bar"},vP={key:0,class:"bar"};function mP(e,t){const n=Ge("RouterLink"),r=Ge("RouterView");return K(),W(Le,null,[O("nav",null,[B(n,{to:"/favfocus",class:ut({active:e.$route.path==="/favfocus"})},{default:et(()=>[xt("\u5206\u7EC4 "),this.$route.path==="/favfocus"?(K(),W("div",fP)):De("",!0)]),_:1},8,["class"]),B(n,{to:"/fav",class:ut({active:e.$route.path==="/fav"})},{default:et(()=>[xt("\u83DC\u8C31 "),e.$route.path==="/fav"?(K(),W("div",hP)):De("",!0)]),_:1},8,["class"]),B(n,{to:"/favnote",class:ut({active:e.$route.path==="/favnote"})},{default:et(()=>[xt("\u7B14\u8BB0 "),e.$route.path==="/favnote"?(K(),W("div",gP)):De("",!0)]),_:1},8,["class"]),B(n,{to:"/favcourse",class:ut({active:e.$route.path==="/favcourse"})},{default:et(()=>[xt("\u8BFE\u7A0B "),e.$route.path==="/favcourse"?(K(),W("div",vP)):De("",!0)]),_:1},8,["class"])]),B(r)],64)}const pP=wt(dP,[["render",mP],["__scopeId","data-v-d92eee6b"]]),yP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAhFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8qm6wAAAALHRSTlMAzGedxwR9whwIUhC4XLxNPRZxayi2jyMUVUgpsqymODF3DECKh72Xg2hiR6YkdaAAAAIcSURBVFjD5JXploIwDIXLYCs7KLgAboi4vv/7zUlkGCYE2vnt/aOH5Fza235BfJScamdNaqccE59kbmk1r/U+G/DRarbRGtmWkWydTwxdUfo1oTSCnnjaxw2gKdGkCD2BO9mTQs9aaLSGrnTy5GdskHybo3vVUmi11Cz8iEmf9UZnjPI4VpZ7chyaw91LwSuE6kEY6QC9IV/z8U6fzIxOSIrP1hTU7sJQd+hWXCXDdyxMjba4/nIMsqcw1nMEuQInjWtuJHFqFQPIVvC4Fv9QzSKHkN34NMpyyxZuiJwZZE5ot/MnHKK1YZC7QHNFOxfK6kkNTrRC5AaQXSlk8YzM15gid0XkKGQ5gzgRHQz5GzkCmWR9IuUliaci1kl2yBHIKN9W4LX20gvwQTyFHEZ6ITljPrbfY9rGnEjiTQ+5jGtQ6CP/7AOdFPfC7BeyB7k/uC+fzBncHblPjw45hGzlMjPOE0QeRsuxVfz8eTGjIJIDTiMG+Fe7kJydBl0aTHLs/MnfPxnltN0Zu7ctNxFtAXeoEUTlyIc7YadiA3fpuxwzRQEABKKoVq0Wo+D9zyiIaTD5XtNkGnD568Ogdh2kHc277PMP+PPvDf+QFkRc0KYBaGTu4TaxpQ6pViP/KEcVyhEXyCjZGUo2NxG+reFGi1s/2Yxye6wadj9CBMgVFmp4zOLBj0dRORz7cT1CjhcIvNLgJQuvfXgR9dNa13sj8LHX86kAAAAASUVORK5CYII=",X_="/assets/mine_icon.bcd93380.png",_P="/assets/mine_badge.50fdd109.png",AP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAdiSURBVFhHrZdrUJRVGMeXzLumpGlj93Syi5qACAheQxtEKSK0Bp3U9IPf+lCT0xenu2MzTWQ2k1NWjsoAoiggJirsLrsroKUz5TjlLUUCb1AsLKy777//c973XXaXFRH98J9z3nff85zfeS7nnLVo1fHojWAo0m/3Sha/fRp6IwVjS2B/Ovy2ePVOs8fDF/bd3cgCGoQ1juKEqqXkHScM/Gabzn4S+8lUCpXIwQKVAI2/mSuLNIGfNqQN9kBkEcbPjp8dMeyv5gTsw8HJDalnvteVEJD6nhJvoTqRsDI+HEQkE8UZbU+Ko2dkQg5SIRAYMaAgKKeAiegh1XKFDnpKgJSXKBs9JuB2AqnvuhYSLLEbGaJLARi1KnNlfKcpL9EQpclE9hk0msz3opl8Z8BI+ATunsIYQLDpMH4a1sQ43Q/7S0DNUpz7YQr+2UHjrsV8p8NoNkLeS5jAAGk5uSatcypXHwOflSDWHJxYF4PfVifh1xXxaN6ykEDpBCFA9QwuggntEO8RSoBoOGDX6N8xjMoLVgkkL5wxNMDKqXgdZz9IxKnls3B1ZTaurcqBKysel7ek0VuL+E0CgTmRVJ4J4iSUtEG27xDGMCYDHfSKk0CV6Tj1ziSczk7GlaUZaM5+DY3Z9NLyFajbsAYXD+Sg89h8GmK1qAQPtROsnmDM3wwYDlYxN9zsmMww0DNlL6Ny8ThcXbIYLZkL8W92Gs5kZePvjZtRl/8dKn9agaYKCVkiNBcN06taUJnfHkbPVfld42J0GOViY6DsB44p7E8CDs1B3coJuLxwNloWpuJ8VhrObvwYjvytsBVtQINzLRpKJqNh91MM2XT4bPQQJ5FtQrPL5ilhp4z34SCabCcKRuY3YaSEFQx/YP8mPeTlSuFgCe/JwMnsCTg5LwGXPvwSx7dvh61gPc4feBPuqnh4Hc/hRtkjuF76GMfqFalVxnIiA8ZoI8Jw4fpmGMu5jE0vACKE/PCmMwUdlNcpoUsF9magev2r2P/9Vyjb+Rn+LMmCu/xptB4YDXdFNI2Ow5WioWjf/6RKfK3qRfitU28DI5LQ8Tc5UhjisATWW30nTmLLvYSlC1cqmqvfRmHuYvxVvgzuQ1Ph/WUE3GUD4N5vQcfBAdCOjMb1XcPgqXiCNggkE3HPktZno6cCAHFBfQNIwmVLDobRJR/AzsEiOSAVPd/VpsJDL10qGI/OqmfgtY5D6/7B8JRGwb3XAm/5QGgVI3GjcBDaysbpHqK3ZeP0VRK+SgD1yUOTWZ45L4FCPSMHoPowlq2+Gj18kkt0d00CblpjUL97DP6rfBTeyrFwF9+P9t0WePZEoaOsP7SDw9BaNBjufWO4AIJI8lJiK1JFqXdinxtsGAzDo0j1U1YPnbwXGEM1SeiwT8GlvdForxhDb4yCp6gfPARqK7YwdBb4Dg7Bjfz+aN03liEmiAEhE6sED8AYz8ozYTuwfNDlHQHh5EpBUE62LGOP7Vk07BqOjvJR0Mqj0blnAKEItIdeKomCt2wwru+MItCDXPUkdQnTaFuqrMtDAsNWtgIevt1gpNzkxNbfGRDBUPINrxZabRzaqsajqXAoJ46Gr3QE2sVDRVFoI1Rn8X3wlwxD4zYLWkpGcRw3Rjn5eTGTxDaBpFU2CRo5gcPehUIJEI05mVO1MWi3TkBj/hB6YyQnHw53AUOVz4TOs0ArGAZv8Ric3zqcIU1ivs2FZp1JIFaqWrTuGeVxpkY3mJ4VCqQSvS4WHgEqZMj2jYRvL/ebgn7AjkHwbHsIf3w9Gh0n34LvxEqCpzOZ53LvSVF5IkDq2FBX3m6n9q0kECKzL0CUAHHn9NXFMYcmoj5vMNqLH0DnrkFo/rE/ar8YiOZjq4Erm6HVf44GaybaXWk8VHUYPSWMvAnd9G4l8UJQP9AKDI2wr66nNQSyTsSFHQPRRK9c3vk4cHot0JiLtvpc+FpycfH4alx3ZTCZZ+kwAiIbnsqZPsNQKrd0oIC4D3mqn8e5vGi0HskAGjbBd/4bdDZ8C/+NrThx+H2cKHyFFcnckb874lkJl4SKJ/0dhUndAE0pGFEY0NFpPGh5gDqXoOP3dcCFTcC1AjhLP8LqzDnY/mkWOmsJKjdK8QyrSa8ownTVvBgOmiyCQmAERDymxtGYkUPyrPGA9VYvQKt9EZpsOThz6D2synkBqbNSsCYrBRcOL+P9Z7aCCcwtnjEfegPTTQpG+hyvvKRLbPkIdNOVBO+xNDQefgN5m+bik3cXYPmCh1H5Myuqdp4OrxYlCsuZPgEpAMY9cEsUw3Kpl8QmFFsfqwe18+E9mon68nS0uBbwmiLXE6lG8Y5AhcHcSchCZUAEP5t2lC3Dc3KU0AOai6XNZ6lCAZY2tJoMADOh+ualSNIBTPsmqPpfZsCoNjxMXQPuxkvh4nh12WffsGWGUOOR4rslTJgERKDMvgLrE5yMESj2xaaERUGYCg9TDzJDZ4LpFdQHcZwkrJ4n4VL/DgzqXkoHYt/0Um8lY+RgVF7hhaub4vA/7MMICtxahf0AAAAASUVORK5CYII=",bP="/assets/mine_copy.017abb21.png",EP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAR1SURBVFhH7VhHSyxLFH4bNy7FnHMCE4oYF2JEFMWAaSeCOS9cKoqKiijoDzCAAVy4UTeKC8GFmBUDuhQEFQMoZs/lO3RJ63Vmapy5d3yP98FHdVV1ha/OOVXV/Q/9R/C/EGPg7e1NeTIcJreIscT8CNd6eXlRnr4PvYVcXV3R+fk5nZ2d0cXFBafI60O0AdGXsIihlpEWcnp6SsXFxRQdHU1hYWEUGhr6IdVF9fviOTIyktLT02lyclIZ5fuCpIRcXl6Sv78/OTo6kpOTEzk7O5ODgwPn9SHaqp9dXFy4Lzs7O+rr6+OxvutmUkLa2trI0tKSAgICeMCRkREaHh7mVJajo6Pv6djYGHNiYoIKCgrIw8ODgoKC2FW/goyVpITA/G5ubtTY2KiUGI7Hx0de/ZWVFfL09GQxMzMzdHNzw3X6QqMQsQoYLDk5mWxtbamzs5PLUCfD19fX92fg/v6eamtrKSQkhAIDA9ldQR8fH6avry8zKiqKmpubub0sNAoRnTw/P7MQxIQQIjuAEACgTWxsLC+IiA3EiYg5lIm8jY0NWVtbs9vJQqcQYRG1EH0gxExNTZGVlRW7aG9vL83NzbErzc7Ocio4Pz9PLS0tbCHE5fT0NLfXBWkh2GkMEVJfX899pKSkcF4X0tLSyN7enl1MBnpZpKOjg8v0gRBSXl7OQgoLCzmvDWgDt4KLYQFk8MddS6CyspL7yM3N5Twme3t7ywKxK2LCT09P73VFRUV8vgghYj6a8NdiRAjJycnhPDA+Pk5mZmZkYWFB5ubmtLCwoNQQWwSu1dDQwPkfKwTlYE9PD1VUVNDg4CDvkOL9PyIkKSnJ6ELQ72eoJ5ufn89CDHYtAfhtfHw87+/GiBG1RSBGWAYTFaIBCMH7dXV1Sol26BSCAYRFWltblVL9UV1drVOIAPJ5eXnGFQKUlpayRWJiYmh5eZmOjo5of39figcHB3R8fMyfAOgjMzOT+zSJkK2tLd4KMRFXV1e+5OGE/oru7u6/ERdCLy8vTjMyMrhPkwgBFhcXKSEhgS91mBzuRhD1majD9QKXQUwc4pD6+flxncmFABh4b2+PdnZ22EqC29vbnO7u7tLS0hIFBwezqPb2dn4XFAdcVlYW92VSITK4u7ujiIgIvtHiwBOoqanhK0d2djbnf4QQDPQZDw8PXI4fCvgWh5ChoSGllqisrIzPBX13LSyADIwipL+/n8+auLg4jiPEg7e3N4WHh/PWjRsvnhErQggmDqqFqPvFyQ4hVVVVSol2GOxaGByuhG8NrDgGFzsVdjnEBSg2gdTUVKWlduByidtyU1OTUqId3xaiXr319XUaGBig7u5u6urq4hTEPQrED4uSkpJ3MfjI2tzcpNXV1Q9cW1ujjY0N7gu7HhZA/atIG4we7JqAqw7cDasMy2kjLIkYw7e7LIziWtog/B84OTmhxMREdjsQB+tXhOUQS9fX19xOBn/NImpAkPoKo+bh4aHG/1vaYBIhMtBl6c/4sULUkBH1rxCiG0S/AMBk250tt5AKAAAAAElFTkSuQmCC",SP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAATySURBVFhH7VhHSF1bFHXmTDCWJJbYO0owWAdK7CUSsUuciSI40JFOxIIjURE1ZGZDB7aBWKJgnDkRQcU6VGwDKwZ725+1/z2Pa8t7577n5/P5Czbn3v3uuXevs9s5z4z+I/ifiClwf3/PYgpoJmJKI0zxHqOIqHF1dUXX19dScnNzo8w2HkaH1tDQEOXk5FBCQgLFx8frBPd/kri4OEpMTKS6ujo6Pz9X3qYdRhFpamqiN2/ekIODAzk5OfH4/v17Fjs7O7K3t/+jfPjwgd69e0chISHKG7XDYCIilMS4tbVFLi4u5OzsTKmpqVRbW0vV1dVUU1PDgmtIVVXVs4LfSktLycvLi2xtben79+/8Xq2Q9ogg0t/fzx7w9/en4+Nj1mlBQUEBE/n69aui0QZpIre3tzyWl5dzWMTExPC9ABIYz0Du7u6eFfyG4gC0t7dzmPn4+PC9VmjyCIyNjY1lAyorK1kPnZ+fny434C1HR8cngt/wTG9vL89bXl5mnY2NDV9rhaZk39jYIG9vbzbo169frNve3iYzMzOysrJioxAuGJ8Tc3Nzqq+v53nAx48fWa/Ok8flXR80ERkdHWVDXV1d6ezsTNESl9H5+XlaXFx8URYWFmhlZUWZ8TcKCwvZW9nZ2YpGHpqIlJWVcelEvwBkV+8xOjs7ORThZa3QlCNIcIRQc3OzoiUOseHhYRoZGdEreA6N9PT0lOfu7+/T27dvOVThNS2QJrK5ualrgDMzM6yDcRYWFrpmaIhYWlpSUlISzweCgoI4T1pbWxWNHAwmIsKnr6+PVy8gIEC3tZibm6PAwEDu0GFhYXolNDSUPn36RBUVFTwfKCkp4QXKyMhQNMSl2lBIE0FiYkWzsrL4XuDk5IQb49HREY/6BM+pgVDDAsHT4luiZxkCqdBCE4uOjua6r84PUwB5IvZes7OzrHsVjwBra2u8N3J3d2fP/PjxgxoaGnSC3tDS0kKHh4fKjKeYnJykxsbGB4K5GNHdQQTXwKsRGRwcZNeDCEaEGBIUHxdJjOuIiAjdWUNdmrGxFPNEh8e1tbU19yVPT0/Ok7y8PH7+1Yh0dHTwh7AVwZkCZRhnCiFfvnzRdfzHobe+vs6GYhGioqIoJSWF5+BcAklOTubKhcaYnp7Oc16NSFdXF8cxqo66o6uB3SyMAdmJiQlO7NXVVcrNzWVvwNiDgwPl6YcoKiriRcjMzOR7tTf1QYpId3c3eyQ4OPiBMerqsre3R76+vmw0CKEsu7m58QLAyLa2NuXJp4aCCEJOeEQGmomgygBwP4jAKGHY7u4uff78mYmgpMI4kOvp6eHfkT+Yh+fFCAgiaWlpfC8Do4nACHH2UJMBlpaWaGxsjKanp+ny8pJ1oggAmCME+MeJIM7VHhEk9EF44jGErri4mMNP3d0NhXSyY8Wwzfj9+7eiNR3y8/O5HH/79k3RGA4pIj9//iQPDw8W7Ll2dnZ4EwnBwQoCHXIEo6Ei5kVGRnKRwL5LFlJELi4uKDw8nD+GQ5UgBUGPQNfXIpiLYgDB8QCbUFkYRATxL+IYfwOhoaEiIZ7RyTEid2QE89WCkEUzHRgY4O8YknNqSBFRJyoOQDhMjY+P8/5JVjAXMjU1xYLm+VKjNARSoSUgu1oy0PpuaSL4EPoGSqnwFEZZeQ4v6Q2BUR5RGyYrpoYmIv8+EP0FqSC8mKYwqDkAAAAASUVORK5CYII=",TP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAqCAYAAAAOGC2lAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAA5ySURBVGhDzVlpVFRH2p4/M+eb/ElyNO6o0TlmJk7OxKPITgNNszX7YgMKKIssCmYSV4w6E/3MxIlRNJpEjRvJfFHUuMYYk4hRY8TIGJcg0EBvgEA3NA0N9Pp8b1XfVoMmkQn05OG81L1Vl1tVz33X4jdwCexCy/DgtQCh697IQ4/0f6Affqy/P5zP/eB5O+x2m3DNwAZtcBExP4TdaqPF0IKEe1eCUeDYOmCGBb32XlhsfdRnZhQJo/b/EjEW5wJ6YVdVo/f8p2g7shvKfZuhLN1KsgWK/VugJFHsL+Gt8oMSqGhcVepo+bO734KKRLNnE9Qkml0laNy9Gepdb0G9cyNU773pkB307I5NUO6k9+x5B4ZThwD5TcBihJUoMsJEK+mjKytfH4NLiTGbLbDahMnbNVCXvonqRbHQZIrQlR2I3vlidGUFwED3TPTz/NA11x/GDH/0zPFBb6oPemb7oTfFF8YUTxhlXjAme6E30QNdCe4wxk5Hb+wMdMdM52KImobuyGnoinQnmQmD1APtITPQGu6Bm3GBqH19BUy3LtM36uXEWOwWx9oIQ04MNxlBLFYHKYbvynFzZTaa5gehZ4EvTAv8YMkLhJWIseSKYc0Rwzw/GCZqTdnUZhFpcwPQk05tRiCM6exahO40EYxpfkQWkUck9SWSyIi8RG+SmTAmEiEJHuiJ94AxnsZi/WCOFqEn3BedYb5oiPDCFVkgadCHgMkAGxHD1skw5MTYyLHZbHZqmfFYYKr5DvWr89CWF4a+Qn9YFvqhPdcfbdkBnAxLbjARFABbTgD0WWFoz4qBcV4Q9JkBUGWGon5eIGrSAlA9W4TqZF/Up/qjJS0MTbNCoE2SwJBCpCUFwJLihbbk6ZAn+qAlyRN6RlSsL2lRINRhAWiLEqM3PhTaCF98T2QZzh6jxZodzscVPsbKNIX5E/Yh+nRQb1uDloJomBeGwFroi75cEfpK18N0aie0C+Jhzg2BuYC0INcLzUtmAwfegSo7FHeXZgDlB4GLB4BLh4GvD8PO7ssPQLOhGIZ33oR133ZoZvmjbxYRFPUXaIozafwkmnOiiRQPWKMC0JgYARzZj5aiDBiJkC7SnJZQL9TQPVqaHcSQDxx6jaGJmMYwdF//ClUvxZD5hMFa5AdbIZkCmUr3hVO0GD30uzeiNTMCXQv8oS/wgPw12tjtM6heLMOd118B6q6gZe8G1P6zGNWbX4WqZA3atq5F9bJ8KLesA5pvoD49DN1JgdDGe6Pt2HEykR60v/EqdNH+MEklkOelA023oXhlLvSR3ugM8YQuzBM14T7oPllGH5DM3eQKH0PEOH1ac9kO3M33h41IMRd5w1wYCn1OCLovHUdXw22g4Qrka/JwN0tEZuUJ+d/mEhlfovaleCj/+Qos109AMzcY+mQRdHOC0DVbTNpBJigLRsP8RNBLoFw+Fy2x7qiTBQEKNapOHUPnwX1kUpFojY6ApmQdei6X41ayFO1STxhCvaElrWmS+KLq7wtplZ3kC10RrmkSShE4qtcXoSvfm7TFi0gJIB8jgZ454MtHoPj4PahPbIe98gzqimJgyfZB3eocoPYi6godxJhunkNDngxNGVLyNf6omyfCXXK8luQANMjCYbz2FZreWwslRSfNAiJVeQdXi4tgu/YlFDIZFJFhMJ45Dt3OHaiLCYQufCb0YV5oD/OGjgj6cp6U1FtHeY0LiGHJnI17ejuqXk0hMnxhIROyFAVSS6E5l8LwhYPQH9+Cmy/FAZVfouPjt1CX6UfPLwCqKlBLIb3uzULYlbdhOn0MlpMfwfTZTvR9tQfWY++iMz+FfEsoOna9ja4Lh3En0Q8t/3gDui+OojItlr7IBfJrCyGXRQK3bqGxeDlaw4iUCHd0UAjvDJ+OjlB3fDIrnFKrHteYEoON2S0RU7M6FaZCCs0PEjOfwuvlMvSceBvNWSFQrV9EJnUGtWszUbmCrr+vgJKcsnpDEcz136Lq/dfx/TurUUNOvPrdv6OB/ExjbiraZRKolxeSllzHN6nBaD95CK1b1uLfccHoPXsAjf94DdcLSQOvVUKTk84JcRJjIGJaw2bgi9xZ5Ot6uJsZEmKam5tRUlKCrVu3QqttF3rpw62e/bDGcGIOo+f4VnTlSNBCEajz481ESDk++98V9EdXoSBTatrwVzKJctRnxUEj80YHhenOdDHlMRTiUwPRkxwEVQ5tTFGNS0UUze58C+2ieWiIEnEH3Xh4Lyq2lZC2HUVjEvk2IqJDyrSGksNwdyiD/4K6TatolZTo0e//mBhnIuTEg/cikQgjR47EqJFj4O1LztHiSOzkq+YQMYLGFN43pZ6LB2E8sY2uxbDlSqBcmAw7JYENVz+lDV5BQ5EMjW8shr2iHO3ZCTBTJmyZK0Jvmi+6KV/pTvFB3xwxFCmkHee+gIrCMepvkHlJ0UKRR/nyHEoqL0L7bQV0b1PpIPUmvzINhogZMIZ6optEHu6JjjP/R6uk+ol+DxoxNhaXCRUVFXjqqafw/PPP47nnnsOIkeNQfv4iH6tfNRvGRX4wFd0npivXFz0XStFBPkabT5EkL5i0SEoRIg/Qy8k0/o26BYnQEDG2WxVQFC+GalkGtZlQrcyCqjgbjbTxztlBaKMsVvn6etqbGR2nDkMdG4L2GE9Up1AkrLpGAacV8kUFaKSMl5lPX+hM9IrJ+YaSti0mM2v+nuKEGeRlBt+UFAoFJkyYwIn589Q/Y6zbs/juBoVignJV+kPEdOdRMndmC4XUtWgr8AfyQ2CZH4IWyoBbdm8AvjsHVX4YtK/lwkbOF9o2SsQUtAkl0NpI902wnj2KllSKchS2a8jfwNAGzfrVFJ79YaByoCbOC7qDu0gzz6AmKQa6ECoZJB4wi33QJvbHjYRodH9OSaOtmwpKFkQHMSqp1Wrs2bMHixcvxgsvvIApU6ZgKhHzx6kvYsnS5fho77tQF1NUImLMRf6U9QaQiIgkMWkISTaZB5mVLTsI1kwxkEFF4mwJ2uZEwZwpoVpJAk2aBI2U1bbFB+NufJBDqBjUJZFZpRLZlLvoZWG4K41Gc1IYzHGUGlC9ZEgUoSnKn0woCJ3REnRFUAki9YMmQoSq5Ch0UvSCXU+EUMlCe2G2MGBi+pvQ8ePHERQUhGeeeQbDhw3HmLFj4DZhPNeaKWRKbhMnY/RYN4x96ne4s1wG06tSWJZFwLRMCuNLEnQUiNFKBaQmxxNNORQlMgKgpbroLl23zyMnS4Vj+1zaPBWRd0k0REBLAhGSSMLaBPpbKgOak3zQTiQ1zaLxRKqd4mgscjqaI1+EOtoDDdHeaIj1gZzqJXmkD6oSJVBsWArT7c9pFwauJVxbhCz9P9aYS5cuQSKRYNSoURgzZgwnYtq0aZBKI5CXNx+rVq3CkiVLkLsgHzFxMXjxTxOQGfAnFIun4I3IGdgQ5YnLG5ahs/woNJ+VQXH6EOqOfIiGI/9C3eEPuchJ6g+VknyAOmrlh/ZDfnA/aknkLJs9SM/w9gNBSlFb5nxmH2oP7EXNR3uo3YcaLntxp6wU2vOfATo1UWHlJzBMS/pIWB7q/OyPRUx/LVm5ciUnZPz48Rg+fDhSU1PxzTffwGAwCE88AvSKi+VnMIdMYdSI32P8hGFE5nAsW1ZEg8xxszlYoGRLdeQ9gyvOORhsvLBlhJioZedmZupjJwFODFhj0tLSMHr0aIwYMQLBwcGor68XRh5Gb28vPiz9F8rLLwk9DlTXNMDHJwhu4/5A2jYBCfEyYYQoYbUVteyYkf2wxTrbR4uVhLbar59Vr46xH/YzYWe8jBh2Ysdrf+eYYwkcAyImPT0dEydOhJubG9asWQOrcPDENerBt/IvDmzfvh3/87vf4pkRwzFp0rMoLCjAjW8r+RjDmuV/wx/GT8Jkt4mkSffJ4e9iNdZgyoPvZNe87CcNZSJk5g/isYlZsWIFNx8m27ZtE3ppHoGcR+EW1SVisRjPTppEfzcC40ePwPOTJ2PpX5cITwB7duzG5IkT4DZ6JIqXOvrtzgULYut3P1hi54SQkLZQhyAOPBYxly9f5v5k7Nix5BOW8T6Lhb34hyz/GMxWC95//334ePtQNjyKO+q4uLh7R50rli8ns3Lj/efPn+d99HL2i8/Bfvj9L5FHvYPjwXaAxISGhnLzYT6F+Q2Gn9KUHyOM/e26deswafIkToJUKoXJZOLvCgkJwbhx4xAYGCg87cDjkv/LMUBiKisreThmJnT27Fmh96cX/NBYv9tdu3aRz5nEtTA3N5f3Xbt2jedCzKl//jnLLVyNxzQl5+ZkMhk3oaSkJH7/i3B/XmzevJm/l2nip59SsUhITk7mxWdMTAy/Z2twncY8JjEMRqORf0W2gUOHDgm9vwBsj8I+zWYzoqOj8cQTT9xz5p988gmGDRuGJ598El1dXbzPNcSwOZhreExiTp8+zXMWViWrVCqhd/Cg0WhQVlaG9nbHmY1Wq+V1FjOno0epfhEw9OQwQhgx9+f5SWI2bdrEtYU5XVchNjaWE8OctOswQGJefvll7nSzsrKEnqFHfn4+J8aVczoIGYCPycjI4BHJGTlcgUWLFvGPkZCQIPS4CgMghi2S5RYeHh48VF+5coUne4MtX3/9NS9CWXLHcibm11j54VoMgJjr16/zqMSSMUYQ056hFObPWG7DolJ1dbWwClfhZ4jpHwGuXr3KnS8Lo0yefvrpIRN2Vuzr64tz584Js7sSA9CYXwN+lQnerwGMGNeQMwBi2L9ETp48yTNS1rLz3RMnTuDUqVNDKseOHbv37xjXYQDEFBQUcEfI8grmhFkYfZTTHGxh/iYlJUVYhavgzGUc2vmTxLAzFHbA7e7ujpkzZ3Jh1yx8O++HQqZOnYqNGzcKq3Al7mvNz/oYVsfodLp7wu6HWvR6vTC7q/EYxLguGvya4CQG+H+2DLwartqD+AAAAABJRU5ErkJggg==",wP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAPhSURBVFhH7VdJKHVhGP73LMQ1X0Nk2siUKRIyJyUyS6ZCUYQQmaJsbWxIyN1ds2RlIbJRFhaGsrTDwjy9et7OuXH77/XdyX9+3aeevvO955zvfM/3Dt93/tAvgV2I0mAXojSYJOT9/V26Uh4U7xHRxTNJyO7uLg0NDVFrayvV1dUxGxoazGZjY6Puur6+nvtNTU3U3NxMExMTdHFxIX35ewgLWVhYIBcXF/L19SVXV1fy9PQkb29v8vDwMItqtZoCAwO5xTigfI1vuLu7U1BQEJ2cnEgzMO4dISEYID4+ngICAigpKYkqKyupurqaysvLqaqqivuixPM1NTWUlZVF/v7+FB4ezvaysjIqLS3lFkxISGDB8JAIhITc3d1RaGgor9be3p5ktQwajYYnmpeXJ1m+or+/n++XlJRIFuMQEnJ9fc3uhuu3trbY9vb2xhQFnoVn5Xemp6c5RLOzs+n4+Jg6Ojqot7eXurq66OzsjIXgPrwkAmEhEOHj42NVIcizoqIiFuPk5ERubm7k6OhItbW1NDo6yhGA8BWBsBCIsLYQTDw/P5/29/c5LyoqKljYwcEBDQ8P/z9C4JGcnBzu66Ovr4/vQ6AI/qkQJDPC6m/o7OzkEmz1HDEkBJMzxM8wJAShdXl5yVUMttnZWe53d3fz/R/ziP7kDfH19ZXbz0Lk0MGO7uzszAUFbVtbGw0MDJCXl9fPCTFGfTEyAQhBeS0sLKTFxUVKTEzkTTA2Npbm5ua4/EKIzUMLEzI2WVBfGChjZmaGq1ZaWhr3n56e6Pb2lh4fH7mPZEdo2Wwf2d7elqyWAUJwdsvIyJAsX4HN0SZCIAK7+8bGBq/sw8MDryBaUwlMTU3x4mRmZrI3Tk9P6fz8nHd1AEJsUrUgIiQkhOLi4ig1NZWSk5OZOESaypSUFIqKiuJDaEFBAW9+Dg4OHGrY4cfGxmhwcNA2OQIhYWFh3OKDIJLVVMrvYZzg4GAuvyMjI7qFQiWbnJxkcfCYVavW1dUVD4r/g/HxcVpZWWEuLy+bxc3NTWpvbyc/Pz9dsiPk8J37+3vu9/T08BGluLiY+wAKiCEICbm5ueFjPP4fVldXJatlmJ+f59BJT0/nSoVJvry8cP49Pz9TS0sL56VVz1pAbm4uC0E4xMTEUGRkpEXEDxVCKSIigqKjo9mGvJHvY+EQbthPRCAs5OjoiEMBlQQ0J09UKtWXFuVVHgNjwkOwyc+gKMih9h2EhQAYdGdnhzfFtbU1Xa6IEmEptyDyRavV6sZaWlridn19nQ4PD6WvisEkIUqGRUI+H0dsRVHYPaI02IUoDb9ECNEHx620Gds6QbsAAAAASUVORK5CYII=",CP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAUKSURBVFhH7VhHSyRbFH5/wTHnhDkzgooJN6aFYeEwCwMIKgo6iCCCujAMqAsRBEFMiCgYB1woIsyMCcNKRV24MWDEhDoGTGf4ztT1tW23dlWP83iP90FRVV/d23W+c84991T/Rf8R/C/kNTw8PEhXT6/fCr9dCIy+v7+X7p7jrUTpLeQ1w+7u7uj29vbNo6K3EBiqauTJyQkNDg5ScXExpaamUkxMDB9JSUn06dMnam5uprW1NWn0L/wOkYqF4OVIIZFG5+fnVFFRQc7OzmRlZUWWlpZkYWHBZzs7O+bMzMzIyMiIueTkZJqfn+e5gL5i9BIigAh4enqy4Q4ODnwdGRlJOTk5VFtby0dBQQF9+PCB/Pz8WJi1tTXZ2NhQaWkpR1Vf6J1alZWV7GF43MnJiaqqqmhjY0N6+hxIvb6+PgoICOA5JiYmFBsbS1dXV9IIZdBLSHl5ORkaGpKtrS1FRUXR7u6u9EQ3fP78mdMN84OCgvQSo1hIT08PR8Le3p7S09Ml9nWor4XOzk5OM4jJyspi7ubmhs9yoEgIFraHhwfnenR0tMRqXrCbm5v07ds36U4zGhoaHgvBly9fmJO7+BUJQRkVa+Ly8lJinwPPfHx86N27d/T9+3fmUOXUSzaAQoDF7+LiIjHyIFvI8fExeXl5cTRqamqY0+a9/f19cnd3J3Nzc+ru7pbYX8AciBJzt7a2OL0Qlf7+fubkQLaQrq4uNgyeRtoAwih1HB4ecinGWkKlAlTHqYv5+PEjl3BsnoDgdYFsIfn5+WyYeBkAYzQJQUQQPRjX29vLnOo4IUIY3NHRwU5ydXV9wusCWUKQ84mJiWxYSUkJc3jZS0K8vb15vEgXTUIEt7i4+Lj2VldXmdMVsoT8+PGDIiIi+GV1dXXMCc9pErK3t8fVDUJaW1sl9m+oz93e3iZHR0def7Ozs8zpCllCLi4uWAgWJZo/QBiiSQjKdHBwMAtHuiB1VKEuBBsqxmFfmZiYYE5XyBJyfX1NcXFxbJhqxVI1Rh3wbGBgIM9B/peVlT0Zi2vRa62srDxujgsLC8zht3WB7MWelpbGBqEhFNAmRBhxcHBAKSkpXCQwF3sGyi2gOndkZIRbHjSeR0dHzGlzkDp0FiKMqq6u5l04NDSUUwfQJgQQ84CioiLe9DD//fv3tLy8zLwYgw4ZTWRYWBjfA28mZG5ujsMPr42PjzP3khBAVUx7eztvkgYGBtz1CuAr0t/fnyOG1h7Q1AFog+zUAmAA8jghIUFinhr7GpaWlig7O5uGhoYkhqipqYlTD9E6PT1lTtdoAIqEoG+C55Am9fX1zMl5qTp2dnbYMSjTubm5zMn92FIkBMjLy2Pvoe5PTU1JrHzA++Hh4fw5gOPs7Ix5uY5RLAQvDAkJYS/iO1203y8B6afqaVQmFA1EFmtmbGyMeSXRVSwEEL2UKKsZGRm8aeqCtrY2MjY25pRCpRoYGGBeaYrqJQRAaqD/Qv1HqiE9MjMzeRdHv4T8RxeMv4AmJye5R0N1gvEQ4evrS6Ojo/xb2HCVQrYQbdWppaWFRZiamrIglGjcI+0QNZwRNaQinuEam6rqmsBv/yMREaLEy5H/jY2NFB8fT25ubiwEXscawBlisK4KCwtpfX2d5wBChDiU4LcI0fRypNzMzAx9/fqVhoeHaXp6+onx6lAqQEDvNSIX+hqsDX9UCET8a4WoGv5WIoA/nlpvA6KfbpvcqnYGQ5UAAAAASUVORK5CYII=",kP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAR3SURBVFhH7ZjZK7VbHMfPH2DIPM9T5nm40JtIpGRIuUGSFIWklCGRKBmuRG8uKFJuuKBkyA1KiFxJSYYMZSYy/07f31nP2z7oba9lO+ntfGu19vPba69nfZ7fsNaz/6I/RP+DfDd9Kcjd3R3t7+/T0dER3d/fC+vX6EtAtre3qbq6mqKiosjNzY18fHwoLi6OWltb6fr6mse8vr5ybygZHGRycpJCQ0PJwcGB7O3tycXFhezs7MjKyoqsra0Z6PLyUow2nAwKgjAKCgoiZ2dn8vX1pZ6eHlpfX6fV1VWqrKwkJycnBkpNTRW/MJw+BfI2PKqqqtgTgMDi36q/v58hjY2NaXZ2lm0fhZhK2BkUJCQkhMPp58+fwvJe2dnZDJuTkyMs7/Wfg2i6ubmhtbU18vf35yc+MzNDV1dXdHJywu309JTOzs54XHNzM9na2lJ0dDTd3t7Sw8ODmOVzUgbBU2tqaiJPT08yMTHhREZIBQYG8kKRCxYWFmRpack9Gsagirm7u3MzMzNjD4aHh9Po6KiYWU3SIJrb6+rqyMbGhhwdHXnhqEwos4DB4vCdBoEeYBgHAG9vb/Lw8GAwjIUNn8fHx3luFSl55PHxkRfg6upKRUVFdHx8TIuLi+Tn58cw09PTdHh4SDs7O7S7u8sNn/f29qihoYGrV2xsLIfd5uYmJSYmct6kp6eLO8hLCQSLwhM0NzfnuIewcOwZePobGxts+0jDw8NkZGTE+4mm3t5e9mB8fLzyCUAJZG5ujkMJi4aen5+5HxgYoL6+vl/XHwmbYWNjI3tC08TEBD+YiIgI9q6KlECwYIRWcHCwsLzXy8vLu/ZWmg0VD7nm5eX1L0AZKYG0tLRw4qalpQnLe6EovG26wjVA0CNXkFvw8vLyshghJ71BdBdSWFjIVai0tFRY5KVBaPNiM0WeqJZhJY8kJyczSHt7u7CoCbmkgaBywcudnZ18LSslEIQBkhMVCPoo/vURQLTf5uXlMUh5eTlfy0oJxNTUlG+6sLDA17+rUr+Trkdqa2vZyziLQbqhrI+kQQ4ODhgEpRcbHYSbynpFyxFNOGhiTuwlKpIGmZ+f56RE+cWrLKQKoqupqSn2MpL+/PxcWPWXNMjg4CDfMDIy8tcujEV9FmRlZYUPlNhPtra2hFV/SYO0tbUxyI8fP4TFMCBYPM5q8PbS0pKw6i9pkLKyMgbJyMgQln8km5xaOGq/u7i44OM85h4bG2ObjKRBMjMz+WYVFRXCoi5dT+JEnZCQwLt7V1cX22QkDRITE8MgHR0dwqKfPvKYrkegrKwsPs7X1NQIi/6SAnl6eqKwsDCu9yMjI8KqLkDogpSUlHA1LCgoEBb9JQWCKhUQEMCVpbu7W1gNp/z8fAbJzc0VFv0lHVrFxcUcWjhyJyUlUUpKCvcqDWc2rceLlvb6ixctWUmD4MUIr6mAQWLCO4hrfMbTVG2YD6VX9UQtBaLFM0JsaGiIz0doSM7PNPxPXF9fz38jqUpvkLeJ+d0kHVrfVX8ICNHfEamdWaOv9yIAAAAASUVORK5CYII=",xP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAQGSURBVFhH7Zi5SyVBEMb3b1Dwvm8RwRvxRETwxlgDTQTFyEDwDEQzEQxEvDBSTEzU1NADBK9AEBQvVEzEA1HEo5avXtfQuru+aZf3dlj8oJiZejX9+jdd3V0zP+g/0TeI0/QNAj0+PtLFxQWdn5/T8fExHR0dvbOTkxO209NTt4b77+7uVMvm+jLIxMQEZWdnU1xcHEVHR1sWFRVFkZGRbDiHif9Pht8Rn5aWRi0tLXR1dcX/8fb2xkc7+hLI4OAg+fv7U1hYGAUHB1NERAR3CFDx8fHcKfjCw8M5JjQ01K0hDm0GBgZSXl6e+if7Mga5vr6m5ORk7mhjYyPt7OzQwcEBdXR0cIcyMjJof3+ftra22La3t23Z7u4uTU1NUWxsLPn6+vK5iYxB1tfXrTTCPBANDw/z08zMzFSer6m0tJRHua2tTXnsyRhkZWWFnxpSCBNUNDQ0xCAYEcgkvxH7+vrK5wBBO52dnXxtV8Ygq6urFsjh4aHy/h2IrrKyMueDwPfy8qKu6N25qLy83Dsgy8vLFBMTwyuUPkc+gtgR0gmmQ2NEgoKCqL29XXns6UsgmOjuQH43IljNlpaWaGNjQ3lc0mEqKiqcCzI3N0e5ubm8PMtegX1jYGDAinMsiKivr4/3HMwrLKvYLAGDzuK6rq5ORbrkSJDNzU2rBEEHkVrQw8MDtba2MhzumZycZD/kSJCmpiaOLSoqosvLS3p+fqb7+3sGeXp6ooaGBk4x1GwiR4Kkp6dTUlISpaSkUGFhIRUUFFB+fj7XUrCsrCwud1CTnZ2d8T2OBEGMFJHonBSQ6LjMFyzlPj4+VtoJCGo3E3kUpLi4mDuLUZienqbx8XEu/8fGxmh2dpZTC/vGyMgI3d7e8j2OBMEkxoqVkJBA8/PzyuvS3t4ez43ExESamZlRXhcI2vHKzm4HBOUHJnRJSQk/YaRTbW0t9fb2UnNzM6cc0guQKOFFjgSB8BpbXV1NISEhFBAQQH5+ftYxNTWV24P0DdFRIHrZgXPs7jIn6uvrOe1ubm74d8RJrFeLRhMQHN0JMRLnSBBInrR+hGFzFFDxQY4FEclTx9yRjusQXgfBqy7qJyyb+GYl+gwEnQQATIAERDfIayBra2sWiMmI2BVWOLTj8RIFn26QVtixFxcXlZdodHSUO5CTk6M85gI86jK009/fr7z2ZAwC1dTUWO8YKEMqKysZAIAoEquqqjhF8EXEnWE5xhHxgEC7eF/Rv9DYkRGITEgUeHjjwx9iY8Nmh51bviziicKw8dk1xKMtLCSox0T6QvCZjEEk9/FesbCwQN3d3dTT08NH3bq6un7xfWaIR3rq8w7yCMi/kMdAPjYs1+LTr+3Yx3sw4vpv9kT0E0sXTVbE93dPAAAAAElFTkSuQmCC",IP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOHSURBVFhH7VjHSmRBFJ1/MOecwLA0Z8WNIP6CfoDgTvAHXBgQUbAxoRvBhIIrE+rCgAsDrgTBhYKIighiPMO5VI094viq7NdMj+OBQ71XdNV9p26oqv6BL4JvIYGG/1vIy8uLevINb+fxZV5rIW6JcBufDi0Ken5+ltYN+gprIWNjY6ivr0dNTQ0qKipQWVnpM6uqqtDY2Ij9/X1lxd7zVkKam5sRFhaGiIgIREVFSesWOV9iYiK2t7fFlt+EHB8fIyQkBHFxcbJ6nZ2daG9v95kdHR3o6uoSz8TExKCkpERZtIOxkPHxcfFGbm6u6nEXOzs7CA0NRUJCAs7Pz1WvOYyFDA4OiqHU1FQcHR3h4eEBt7e3rvDx8RFbW1uIjY1FSkoKrq6ulFVzWAmhRzIyMiS8MjMzkZWV5TOzs7Pl4/nMRWKeNDQ04OnpSVl+xUd5YyxkaGhIhKSlpUksMzn5rhkeHv7buyk5jrlHb0dHRyM+Pl5YXV2tLJvBSkhwcDBKS0uxtraGiYkJTE5OYnp6GlNTU79aW3Ic5yLn5ubQ1tYmgiIjI7G+vq6sO8NKCFeuuLhY9fgPZWVlIqa/v1/1OMNKCN1Pj2jonZ3xbEuOJTU4j84BbpAMue7ubnk3gXWOeNd5bVx/lA01OP7i4kIq1fX1NW5ublBeXi6bZF9fn/qVM6yEcJXeE2JCfrxuNebn51FXV4eioiIUFBQgLy8P+fn5UhFZUP6aEO8V/xP5O2J0dFQSWlcteoB5QQEs8ayKOrT0mI/gmhD9kU4k7u7uZOW5Z/AA2tPTg4GBAXg8HoyMjIiH/JojTkJMcXJyIptgUlISFhcXVe8ramtrpbAEvJDLy0vk5OTIxtfS0oKzszPh6emptEx2FpaAF0I0NTVJXvCQSM/QQ8nJyXJMSU9Pl/z5J4QQra2tIoLzMuHZUhwF+U0ID41uCyEYZpubm3LsWV1dxcbGhpRi5giLgCmsPMLJvY8obgh5D9zZ6aHe3l7V4wxjIcPDwwgKCpJ7ur/BZOcB1S+hNTMzI6vEmD48PJQ+b4+QboBzs5oxV2ZnZ1WvM4yFECyZvMXRCMOMOaPvFG6ROzoTnfee+/t7ZdkZVkJ2d3flPES30ygF0ahb5HwM38LCQhwcHCirZrASorG3t4eFhQUsLS1heXnZZ66srMgOT/L/gLcwCdtPCQlEfAsJNHwRIcBP3afqXhJT/KEAAAAASUVORK5CYII=",RP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAQaSURBVFhH7ZdZKHVRFMe/R97M8zzP4s0QMj0JZUjKm1d5ICSR8oAi5dVUniQpGeJBPIkSpcwpw4t4UOZxff2XvW8Hl7MP7tft6/5qde5e+5x9zn+vtfde9w/9J9iEWBs2IdaG1Ql5eXlhM8qPhXznpV/x/PzMZhRdIb/9oUYw8m5DQvB7cXGRZmdnaXp6mmZmZviqYrh3amqKbXJy0qyhb25ujpaWlsQb1VFOrZubG0pOTiYnJydyd3cnT09PNvxWNdzv7e395qo1+Ly8vMjR0ZFqa2vFm9VQjsjAwAB5eHhQVFQUhYeHU0xMDEVHR3NbxXB/bGys6QpffHw8/4bFxcVxG2MGBQVRcHAwHR4e8rtVUBbS1dXFM5aSksLtq6srur6+ptvbW7a7uzu2h4cHur+/f2OPj4/8TEFBAfn5+VF9fT23MYZ8Hvb09ETr6+vk7+9PAQEBtL29zfepoCtE7iAdHR2cHjk5OdyWoF91UVZUVJCdnR01NTVx29xziAIiAsGbm5vCq49yRLq7uzm1EhMTaW9vj32YfaAq5vT0lIaHhzlynzE+Ps5phYggOqooL/aVlRVekCEhIRQaGko1NTWi5xXVqHzG2dkZ5eXlka+vL0cDKYzUVUVZCBgdHeVFihx2dXXlKKkAkTJ6x8fHfH1PRkYGTxTGRvru7u6KHjUMCQFYlFVVVTxzzs7O3P6M91FqbW0lFxcXGhkZEZ5XhoaGeFuPiIigsbEx4TUWZUNC5MAIOWbOzc2NDzJVysrKeMNobm7mttxISktLebzKykpuA/QZ2UgMR0SCRY/0QrqpUlRUxOlTV1fHbSmksLCQhSBiEmzFECHv0UNZiHZm5ufnWQRO4J2dHeHVp7y8nOzt7U3br/zIxsZGXuBJSUl0cXHBPmCxiFxeXlJbWxuFhYWRj48PZWdni56vkR+ztrZGLS0tdHJywj65AWxtbZlO88zMTJqYmGC/EZSFoNZKS0vjswR7fGBgIJ2fn4verzGXHjjttbM9ODjI46J6wCbS0NAgetRQFtLX18c7S2RkJOf40dGR6NFH5juQot4LAaiqS0pKODKo53611pK0t7dzZZqamio8xunv7+eicWFhQXg+sr+/bypRVldXhVcfZSGotbAu0tPThcc4xcXFnDbV1dXC85GDgwOOCFJ3Y2NDePVRFtLT08PnRkJCAvX29rIwRKmzs1PXUDnjis0B22x+fj5XBXge46APV9yHMwZpBTG/Vv1qc3h5eZkcHBx4pjCrOKGxBUOciuEgxGJGnQYx8s8U0lVrWOzot0ithcUKULlie8zKyqLc3FyuiWRb1XC/9hlESWuoubDgLV5r/UtUT3XwLSF4AaIkT15LGMa2uBAt5j7iJybH1F5VsOrUMoJNiLVhE2JdEP0Fs5Gbzci2OTIAAAAASUVORK5CYII=",LP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOmSURBVFhH7VjLK21RGL8TxUAi7/f7VUSEiBLK25hM/ANGkhQReSYZGDD3GHqNlMdABgyVkmRgYoBS5O13+31nLx377tux9z7u2d386mvts/Y6a63f/h7r+9Yv/Cf4IeI0/BB5fX0VeXl58ao8Pz+LmIVpIm9vbxgdHUVDQwOam5s/pKmpySvCuWpra9Ha2orr62ttVc8wTeTy8hKZmZkIDQ1FUlIS0tLSkJycjNjYWFuinyswMBAbGxvaqp5hybR2d3fR39+Puro6WbiwsBDDw8Po7e21JJyrvb0dKSkpyM3NRV9fH2ZnZ02ZmC1nHx8fR2RkpJiDXayurspcpaWlWo852CIyNDSEqKgotLS0aD3WsbS0hIiICBQUFGg9Ln/8KmwRGRwclK+oiJhZWI/l5WWEh4eLmVqBLSIDAwOiEWVaisje3h7Ky8tRU1OD6upqVFVVfRK+m5mZkbEKi4uLEkCKioq0Hhc451c+kFeIMGwSasHu7m74+/uLtqKjo6V1l5CQEOTn5+Ph4UHGE4pIcXGx1uOCT4nc3t5ienpazhtGM7ZjY2MiExMT8nt/f1/GKjhKIzzpzeL9/V1aR5oWcX9/j6enJ0k72Kp3auOqVXCkaa2srCArK0v8IC8vTw65kpISHB8fy3sjOJLI1NQU/Pz8xLH5nudDcHAwNjc35b0RHEmEvrK1tSWpzM7ODra3t3FwcCBm9rdNKSLUnDt8SsQKFhYWEBYWZkhE709G63wbkbOzM5yenuLk5OQPoa/c3NxoI11QRMrKyrQeF4w2/c+IzM3NSRpO31AHIp+VBAUFST3jDkVEnzT6nAhrioyMDKSnp4vwWUliYqIUTu7wORF+bX2uRVxcXHyYF1u9PD4+aiNdoLM7TiNW4EjTIvSRxggco8Y5gog3KkSfRi1mtiyGVGHFgy8nJwcBAQGor68X/9CDqTsrSx5+/G9XV5fU5ix1SaSiouJTrW6kWaM+W0R4SRAXFycZK7XCUMvfMTEx0rLuYHRiyn5+fi4XDbysoBYZ1TiOz4xkjY2NEs302e9XYYvI2tqaRC1ugBvjF+3o6MD6+rpUhvzq8fHxcjuSmpqKhIQEIcurn5GREUxOTsrVEjXDPp4xbW1t2uzmYIsIMT8/Lxdq3MDR0ZHW6wKJVlZWChmSyM7ORk9PD+7u7rQRkGeaKIl3dnZaqmkI00Q8RSNuxD0a0TEPDw8leby6upK+74BtjTgFtol40tC/wo9GnAXgN5zoQldf16tdAAAAAElFTkSuQmCC";const nn=e=>(pt("data-v-00175c1c"),e=e(),yt(),e),DP={class:"mine"},OP=nn(()=>O("div",{class:"mine_fixed"},null,-1)),PP={class:"set_transmit"},BP=nn(()=>O("img",{src:yP,alt:""},null,-1)),FP=[BP],MP=nn(()=>O("div",{class:"transmit"},null,-1)),NP={class:"user_info"},UP=nn(()=>O("img",{class:"user_info_img",src:X_,alt:"",width:"100rem"},null,-1)),VP={class:"name_rank"},zP={class:"name"},$P=nn(()=>O("div",{class:"rank"},[O("img",{src:_P,alt:"",width:"55rem"}),O("i",null,"Lv.1")],-1)),HP=nn(()=>O("div",{class:"complete_info"},[O("img",{src:AP,alt:""}),O("b",null,"\u8865\u5168\u8D44\u6599 +500\u7ECF\u9A8C")],-1)),GP=nn(()=>O("div",{class:"user_intro"},[O("div",{class:"age_possession"},[O("b",null,"\u53A8\u5A18"),O("b",{class:"age"},"\u8C46\u9F84 0.1\u5C81"),O("b",{class:"possession"},"IP\u5C5E\u5730 \u5E7F\u4E1C")]),O("h3",null,"\u5403\u8D27\u4E0D\u662F\u5728\u5403\u5C31\u662F\u5728\u5403\u7684\u8DEF\u4E0A\uFF0C \u6CA1\u65F6\u95F4\u5199\u7B7E\u540D")],-1)),KP={class:"focus_fav"},jP=nn(()=>O("span",null,"\u5173\u6CE8",-1)),WP=d_('<div class="fans" data-v-00175c1c><b data-v-00175c1c>0</b><span data-v-00175c1c>\u7C89\u4E1D</span></div><div class="be_collected" data-v-00175c1c><b data-v-00175c1c>0</b><span data-v-00175c1c>\u88AB\u6536\u85CF</span></div><div class="be_learned" data-v-00175c1c><b data-v-00175c1c>0</b><span data-v-00175c1c>\u88AB\u5B66\u505A</span></div><div class="empirical_value" data-v-00175c1c><b data-v-00175c1c>0</b><span data-v-00175c1c>\u7ECF\u9A8C\u503C</span></div>',4),qP=nn(()=>O("div",{class:"enjoy_get"},[O("img",{src:bP,alt:""})],-1)),YP={class:"user_function"},QP=nn(()=>O("div",null,[O("img",{src:EP,alt:""}),O("span",null,"\u521B\u4F5C\u8005\u4E2D\u5FC3")],-1)),JP=nn(()=>O("div",null,[O("img",{src:SP,alt:""}),O("span",null,"\u8349\u7A3F\u7BB1")],-1)),XP=nn(()=>O("div",null,[O("img",{src:TP,alt:""}),O("span",null,"vip\u4E13\u4EAB")],-1)),ZP=nn(()=>O("div",null,[O("img",{src:wP,alt:""}),O("span",null,"\u53A8\u5177")],-1)),e2=nn(()=>O("img",{src:CP,alt:""},null,-1)),t2=nn(()=>O("span",null,"\u6700\u8FD1\u6D4F\u89C8",-1)),n2=[e2,t2],r2=nn(()=>O("img",{src:kP,alt:""},null,-1)),i2=nn(()=>O("div",null,[O("img",{src:xP,alt:""}),O("span",null,"\u8BFE\u7A0B\xB7\u7535\u5B50\u4E66")],-1)),s2=nn(()=>O("div",null,[O("img",{src:IP,alt:""}),O("span",null,"\u94B1\u5305")],-1)),o2=nn(()=>O("div",null,[O("img",{src:RP,alt:""}),O("span",null,"\u4F18\u60E0\u5238")],-1)),a2=nn(()=>O("div",null,[O("img",{src:LP,alt:""}),O("span",null,"\u8BA2\u5355")],-1)),l2={class:"user-mask"},u2={class:"warper"},c2={class:"word"},d2=nn(()=>O("div",{class:"mine-image-top"},[O("h1",null,"\u7B14\u8BB0")],-1)),f2={class:"mine-image"},h2={methods:{deleterme:function(){console.log("\u6CE8\u9500\u767B\u5F55"),localStorage.removeItem("logintrue"),this.$router.push({path:"/"})}}},g2=Object.assign(h2,{__name:"MineView",setup(e){var f;const t=zr(),n=Qn(),r=Z((f=JSON.parse(localStorage.getItem("logintrue"))[0])==null?void 0:f.userid),i=Z(""),o=Z(JSON.parse(localStorage.getItem("user_file"))||[]),l=c=>{console.log(c.file);let a=new FileReader;a.readAsDataURL(c.file),a.onload=()=>{i.value=a.result;let h={userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,dataURL:i.value},m=[];o.value==null?m=[h]:m=[h,...o.value],localStorage.setItem("user_file",JSON.stringify(m))},o.value=JSON.parse(localStorage.getItem("user_file")),location.reload()};return(c,a)=>{const h=Ge("van-uploader"),m=Ge("van-image");return K(),W("div",DP,[OP,O("div",PP,[O("div",{class:"set",onClick:a[0]||(a[0]=g=>c.deleterme())},FP),MP]),O("div",NP,[UP,O("div",VP,[O("h1",zP,le(r.value),1),$P,HP])]),GP,O("div",KP,[O("div",{class:"focus",onClick:a[1]||(a[1]=g=>c.$router.push({path:"/focusAuthor"}))},[O("b",null,le(re(t).focus_author.length),1),jP]),WP]),qP,O("div",YP,[QP,JP,XP,ZP,O("div",{onClick:a[2]||(a[2]=g=>re(n).push({path:"/record"}))},n2),O("div",{onClick:a[3]||(a[3]=g=>c.$router.push({path:"/purchase"}))},[r2,O("span",null,[xt("\u91C7\u8D2D\u6E05\u5355"),O("span",null,"("+le(re(t).purchase_list.length)+")",1)])]),i2,s2,o2,a2]),O("div",l2,[O("div",u2,[O("div",c2,[O("h1",{onClick:a[4]||(a[4]=(...g)=>c.release&&c.release(...g))},"+ \u53D1\u5E03\u7B14\u8BB0")])])]),B(h,{"after-read":l,style:{position:"fixed",bottom:"70rem",left:"39.5%",opacity:"0","z-index":"2000"}}),d2,O("ul",f2,[(K(!0),W(Le,null,We(o.value,g=>(K(),W("li",null,[B(m,{width:"150rem",height:"100","lazy-load":"",src:`${g.dataURL}`},null,8,["src"])]))),256))])])}}}),v2=wt(g2,[["__scopeId","data-v-00175c1c"]]);const m2=e=>(pt("data-v-0de267f5"),e=e(),yt(),e),p2={class:"animate__animated animate__fadeInUp"},y2={class:"focus"},_2={class:"creator"},A2={class:"name_time"},b2={class:"author_info"},E2={class:"name"},S2={class:"release_time"},T2={class:"time"},w2={class:"like_intro"},C2={class:"like_transmit"},k2={class:"left"},x2=["src"],I2=m2(()=>O("div",{class:"right"},null,-1)),R2={__name:"FocusView",setup(e){Z(0),Z(!1);const t=Z([]);return eP(0).then(n=>{console.log(n.data.result.rfs),t.value=n.data.result.rfs}),(n,r)=>{const i=Ge("van-image");return K(),W("div",p2,[O("div",y2,[(K(!0),W(Le,null,We(t.value,o=>(K(),W(Le,{key:o.id},[O("div",_2,[B(i,{round:"",width:"30rem",height:"30rem",src:o.u.p},null,8,["src"]),O("div",A2,[O("div",b2,[O("span",E2,le(o.u.n),1),O("i",{class:ut(["rank",{highRank:o.u.lvl>=5}])},"LV."+le(o.u.lvl),3)]),O("div",S2,[O("span",T2,le(o.act),1)])])]),B(i,{width:"100%",src:o==null?void 0:o.img},null,8,["src"]),O("div",w2,[O("div",C2,[O("div",k2,[(K(!0),W(Le,null,We(o.collect_users,l=>(K(),W("img",{src:l.p,alt:"",key:l.id},null,8,x2))),128)),O("span",null,le(o.collect_count_text),1)]),I2]),O("h3",null,le(o.t),1)])],64))),128))])])}}},L2=wt(R2,[["__scopeId","data-v-0de267f5"]]),Z_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAAD7klEQVRo3s2aT08bRxjGf1kvNvkDIjUhrirVDa2o7aDSP5TUqriiqFwSVSin1IeqEpHaz5D0GySXVmp7qJpDDoRbqQS9tOJAQEgpF1tNVUeoKTjYDthyBYtjnIO7Wi+2g2d3hvXvOPKsHs/zzsw7884JnKERIkSQfvoIEMAP7GNgsEOOPBkyHDj58AnhHr1EGSRM9xG/22OdNCmK6gR1EWWEQaE+VdKskaIsW1CAUeKccWhwiSVWMWQJ8nGJcU7ijl0WWabiXlCYSQaQwxZzrLsRpDPBGHJZYYHnzgS9whSvIp9NZnjWOj5aMUiCPlTQw7tssC0m6CLX6EIVOsPkybYv6AOuoKESjRglNtsTdJErDlZw8T1iiFzjKPmaxM41xaNjSYrw5HAs+RpmVkJh7DQaFyHJrr3JHmxTBDhOAkyhtx6hy0Q4bnro5q/mIxSWviq3xxjhZoJ8TOIVk5ZTlmVx3vFM0GkM/rGPUIBxvGTcnEymoFHX+Y47TjJaL6iLOF4Tr61/NUFRx8mpPM4QtQSNiPXt881ffvTZ95dOyd1iRsxZ1ssnYpvpDx9fHQ+eff+tL2Kl7OqONEFneYihATHRvX3o/xx74Ny3iZVP3+uRttlGa5ZdcPOVD4cffPljXJJ5g6Ch1S/cTvD7ExPp6ek3JAgKo2mEjjwUt8F5OeZ1E9IIyYpJKeaFNILy5q0E84Ia/XLXN5fm9Wsqzl4uzOvT1KSsfn9i4vH0DXHzAs4EtbWQDpz7JvHdmLggv8odc0o0i/ArPoE9fSZ+MtpXJ+fP9NVZwS77OoaDXLF69E8KxTvzN5PCXzb09m7+xDiozD34/Pds2UFXQ2eH87KN+uqXX/MOO+/o5HhbnhiHRlnkdPIdYJRFXifTAUZZZHQy7LnNiArF2/O3khL+1R4ZnQPW3USRFKNM1jnQgceigop7ko0ySdeS/GQ7C53tGPRHuQyF4tczkbsS5VRJmfv2dd4U6xs7/VHw/r/FCjL5m7vWdUxUrG+2/LBgVJHLbzw1j9IpSp6f7UukrLN9mSXPBS3VinxmPrRqv5w9dnZZrb8fAoNFTwUtmlmHlTEus+WZnC2WrYzRpMKcZ4LmrNJn/cV5gVO85oGcFTN+7CMEsNCsYKSYTRbsSX49z5lRkdK+LGVlxl6B9TVMvw2Gj6k8BRXusWFvaqyXbZMXv+RzuJnO8uhwY7OKYpYSQ8olVfmZtcZmX4tAyxFRalyF2WZyWlelszwhYi+tSQ3le41mvVwQbJPkdXqUTPSfDodyO4JglzW6pS+VK9znPzc3PR31GMUcxY56rlOjox40mXTUky+LXmJc6IxHcfZNWdGzwRc+NyakROUhowAAAABJRU5ErkJggg==",e1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAADlElEQVRo3u2awWvTUBzHfy9pG1YbkWZjtiqrOJZuWJF1KBVFseBpxYt/hVcP+w9223V49CZ4Ez3IwCEoFNEIUtetdeCKo5Gt8WDGRrMkz4NOSdu899ImzaXfa/Le++T3+73f7/eSAIw00kjBCvU7cFqIpFACj/MSxLD4dzIdDlDb1LBqadvtoQFNC2OXccpOUyZW7W92o6YHDCSno/M0FCeWqdSaAQF5hfm3hG6Vt3Z8BpLF6O1+YE7E1Y8VNvcxAWVz/DwWBtw9uqVs1en38fQQPncN8hAZeD8LKHM2trc7oIWmBWERSz5mGc1cI7uOJ0dO7D4+42vei/OZZEMz+gKSxcjiScrzUQKfmajvW67h7z4yci8AHADAIirNxTwD5Qp+xk4HksTnPbosOwPXgyyheFIyWnvMFpJF9yfwS1xeFpmBovlgosehWOQOI1A2Y88Mo/PBKTnNBMQXhtWMRXoERldJmE2R3LVSvFmkL9Q+Wlota2w26mxOuoDwAqmaFBejcfpCCXhUevCE0UZNostkkUuRJmDB8RZHnSmyAwhlht3U8zlyUPsK9Lj0fnmFEnOdbZ8DaC5GdphXXZpJSLRN0Ok0zlljwjiJOW3kBEqHAQSiK1AkFAuB5ApkCmHw8O5AfCIUCxGCWgyDB4uMLWw4GgF5AkJ6GAjOVZ0WMkIxyoErkKWFwWMZ7hYKBQha7jH0izZW22VbQ2t5yEOqawuLVNrgpdWHxfgY9ZG15XUPpaPlClQ1siq5Iypr5Wc+7zF1wyDloaZ/SxWk0wzdg7VDPHVwFWA6RK8Ur1yl3TNxnuVIgMlAdKf90a27p8b9cVjn+7Su0oE+skz0dv34kOW+48N3r0nXTaVr/R5n+5K/rT6paGw8ZSiubDbyAQesMlO131RtdRhAVr3X+/2e7Qd+g9rBuwsrPdNkz8RvSDa6ELS7aiozEEBrT4qhyeBwuEr1s8eOkVNQcLVfq5Q9t7BVA78IpoNEurlGKLXul/atZIPPgOCvs5BuviR97SB+69CMZINPQ9w/HNDaz78eUu6hKVvgcj4dmitHn2gfh3n6NK1dSeekwVyHALXtD1Xlp0WFZmp6tWQDBCT1DQNW035V+87oVlbNTnE3vJ/+EVhNpGyqHuLMi2ZTeMFLL2B7gukDCABAFrkpfJGGZTdBNb94/79hgF8tokmcBgkEPvH/VwvLAA21QD/+sR14eR5ppJH6028RWRPYhiFQGwAAAABJRU5ErkJggg==";const t1=e=>(pt("data-v-bcfe5122"),e=e(),yt(),e),D2={class:"note animate__animated animate__fadeInUp"},O2={class:"note_left"},P2={key:0,class:"note_activity"},B2={key:1,class:"note_dsp"},F2={class:"author_info"},M2={class:"icon_name"},N2={class:"icon_like"},U2=t1(()=>O("img",{src:Er,alt:""},null,-1)),V2=["onClick"],z2={class:"info"},$2={class:"author_info"},H2={class:"icon_name"},G2={class:"icon_like"},K2=["onClick"],j2=["onClick"],W2={key:2},q2={key:3},Y2={key:0,src:Z_,alt:"",width:"15"},Q2={key:1,src:e1,alt:"",width:"18"},J2={class:"note_right"},X2={key:0,class:"note_activity"},Z2={key:1,class:"note_dsp"},eB={class:"author_info"},tB={class:"icon_name"},nB={class:"icon_like"},rB=t1(()=>O("img",{src:Er,alt:""},null,-1)),iB=["onClick"],sB={class:"info"},oB={class:"author_info"},aB={class:"icon_name"},lB={class:"icon_like"},uB=["onClick"],cB=["onClick"],dB={key:2},fB={key:3},hB={key:0,src:Z_,alt:"",width:"15"},gB={key:1,src:e1,alt:"",width:"18"},vB={__name:"NoteView",setup(e){const t=zr(),n=Z(0),r=Z(!1),i=Z(!1);Z([]);const o=Z([]),l=Z([]),f=()=>{XO(n.value*20).then(c=>{console.log(c),c.data.result.list.forEach((a,h)=>{h%2==0?o.value=[...o.value,a]:l.value=[...l.value,a]}),r.value=!1}),n.value+=1,n.value>=10&&(i.value=!0)};return(c,a)=>{const h=Ge("van-image"),m=Ge("van-list");return K(),Bn(m,{loading:r.value,"onUpdate:loading":a[0]||(a[0]=g=>r.value=g),finished:i.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:f},{default:et(()=>[O("div",D2,[O("div",O2,[(K(!0),W(Le,null,We(o.value,g=>{var w,T,y,d,_,v,p;return K(),W(Le,{key:g.id},[g.type===2?(K(),W("div",P2,[B(h,{width:"180",height:`${((w=g.activity)==null?void 0:w.image_h)/((T=g.activity)==null?void 0:T.image_w)*180}`,"lazy-load":"",src:g.activity.image},null,8,["height","src"]),O("h2",null,le(g.activity.name),1)])):g.type===200?(K(),W("div",B2,[B(h,{width:"180",height:`${((y=g.dsp)==null?void 0:y.img_h)/((d=g.dsp)==null?void 0:d.img_w)*180}`,"lazy-load":"",src:(_=g.dsp)==null?void 0:_.logo},null,8,["height","src"]),O("div",F2,[O("div",M2,[B(h,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:g.dsp.user.user_photo},null,8,["src"]),O("span",null,le(g.dsp.user.nick),1)]),O("div",N2,[U2,O("span",null,le(g.dsp.like_count),1)])])])):(K(),W("div",{key:2,class:"note_card",onClick:A=>{var b;return c.$router.push({path:"noted",query:{id:(b=g.note)==null?void 0:b.id}})}},[B(h,{width:"180",height:`${((v=g.note)==null?void 0:v.image_h)/((p=g.note)==null?void 0:p.image_w)*180}`,"lazy-load":"",src:g.note.image_u},null,8,["height","src"]),O("div",z2,[O("h2",null,le(g.note.title),1),O("div",$2,[O("div",H2,[B(h,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:g.note.author.p},null,8,["src"]),O("span",null,le(g.note.author.n),1)]),O("div",G2,[re(t).history_note.filter(A=>A.id==g.note.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:Wt(A=>re(t).setNoteHistory(g.note.id),["stop"])},null,8,K2)):De("",!0),re(t).history_note.filter(A=>A.id==g.note.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:Wt(A=>re(t).deleteNoteHistroy(g.note.id),["stop"])},null,8,j2)):De("",!0),re(t).history_note.filter(A=>A.id==g.note.id).length==0?(K(),W("span",W2,le(g.note.like_count),1)):De("",!0),re(t).history_note.filter(A=>A.id==g.note.id).length!=0?(K(),W("span",q2,le(g.note.like_count+1),1)):De("",!0)])])]),g.note.video_url?(K(),W("img",Y2)):(K(),W("img",Q2))],8,V2))],64)}),128))]),O("div",J2,[(K(!0),W(Le,null,We(l.value,g=>{var w,T,y,d,_,v,p,A,b;return K(),W(Le,{key:g.id},[g.type===2?(K(),W("div",X2,[B(h,{width:"180",height:`${((w=g.activity)==null?void 0:w.image_h)/((T=g.activity)==null?void 0:T.image_w)*180}`,"lazy-load":"",src:(y=g.activity)==null?void 0:y.image},null,8,["height","src"]),O("h2",null,le((d=g.activity)==null?void 0:d.name),1)])):g.type===200?(K(),W("div",Z2,[B(h,{width:"180",height:`${((_=g.dsp)==null?void 0:_.img_h)/((v=g.dsp)==null?void 0:v.img_w)*180}`,"lazy-load":"",src:(p=g.dsp)==null?void 0:p.logo},null,8,["height","src"]),O("div",eB,[O("div",tB,[B(h,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:g.dsp.user.user_photo},null,8,["src"]),O("span",null,le(g.dsp.user.nick),1)]),O("div",nB,[rB,O("span",null,le(g.dsp.like_count),1)])])])):(K(),W("div",{key:2,class:"note_card",onClick:E=>{var x;return c.$router.push({path:"noted",query:{id:(x=g.note)==null?void 0:x.id}})}},[B(h,{width:"180",height:`${((A=g.note)==null?void 0:A.image_h)/((b=g.note)==null?void 0:b.image_w)*180}`,"lazy-load":"",src:g.note.image_u},null,8,["height","src"]),O("div",sB,[O("h2",null,le(g.note.title),1),O("div",oB,[O("div",aB,[B(h,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:g.note.author.p},null,8,["src"]),O("span",null,le(g.note.author.n),1)]),O("div",lB,[re(t).history_note.filter(E=>E.id==g.note.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:Wt(E=>re(t).setNoteHistory(g.note.id),["stop"])},null,8,uB)):De("",!0),re(t).history_note.filter(E=>E.id==g.note.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:Wt(E=>re(t).deleteNoteHistroy(g.note.id),["stop"])},null,8,cB)):De("",!0),re(t).history_note.filter(E=>E.id==g.note.id).length==0?(K(),W("span",dB,le(g.note.like_count),1)):De("",!0),re(t).history_note.filter(E=>E.id==g.note.id).length!=0?(K(),W("span",fB,le(g.note.like_count+1),1)):De("",!0)])])]),g.note.video_url?(K(),W("img",hB)):(K(),W("img",gB))],8,iB))],64)}),128))])])]),_:1},8,["loading","finished"])}}},mB=wt(vB,[["__scopeId","data-v-bcfe5122"]]),n1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAACOlBMVEX/xTD/xTH/zS7/yy7/zC7/yi7/xjL/xzH/yy//xzL/zDD/xjL/yDD/xjL/xzL/xTD/xzD/yi//zC3/yDL/yC//yjD/yDD/xDD/yS7/wDD/zS3/yTD/zCz/xjL/yC//zSz/zSz/yS7/zSz/xTL/yDD/0Sn/xzD/wzD/yy7/zyr/yjD/xzD/zyz/zyj/yyz/zyz/xzH/yi7/yTH/yTD/zS3/zSv/yS//xzT/xjH/0Cr/xDL/zyv/0Cv/xzj/yDD/0Cv/yTD/yDD/xTD/zyX/zyv/yy//zyr/zyv/xzH/zSr/yyz/yDP/zyz/yyz/yy7/zyr/xzD/yy//xzH/yDD/yDAAAAD/zyr/yy7/yjD/0Sr/yzD/zC3/yjD/zCz/zzD/xzD/xjD/zyz/zSv/yy7/zyv/zS3/zC//zyr/zC3/yDH/yi//xzL/yC7/yDD/zC3/zCv/xyj/yy3/zir/zyr/xzH/zy3/0Cz/zC7/0Cr/ziz/yy7/xzD/zyD/yTD/yyv/yy3/zi3/yi//zS3/yjD/yDD/xyz/zyj/zyr/ziz/zyv/ziv/zyz/zi3/xzD/zyz/zSz/xjH/yi3/yDH/zCz/yi//zy3/zyv/yir/0Cn/zC3/yDL/xjH/yS7/xzL/xjL/zir/xzH/yTH/xzD/yDH/yy3/zC3/yjD/yDD/zyz/zCz/yi//0Cv/ziv/zC//yy//yi7/zC7/yTD/yC//yy7/zS3/zS7/ziz/zSz/zi3/yS//zSv/zyr/zyv/0CrBrorlAAAAmnRSTlMwvn/vz+7+3u+fX+/e3/6wIL+/j5+fn2CAEI9fb5D+f+7+gICPb39A3n/+/t5Av/7u/v7+7p/+QLD+YO+/IK/vUO6AMJ/+z4/+gIBvf0CPMEC/z2+QAJ/+v39Ar2/+EKBfgP6+vv6/rp/+n4Bwv++gIP7+YN9Q7v6f/nCAEH9wv7/P3zD+QCD+v1/+b6BgQP7+n96//p/+MP7+mHwe2wAAB4xJREFUWMOtmPufG2UVxhdEqoB18QJY5GKVxRYVwkB05Y6uBiVahBpBN8DCAOEixKpjuBXYcSmx7WgNqdN26yQzs7OZhsxMJ5nZ2ez+bz7nvBOwtJl2d3mb37af7+ec55zznJNM7P2M3sR5/8cHB957750Ptgx680Acx/1O59/lLYIOxn0iafbvtwY6XI/p9WXNLm4JxInhY9v2D7YCKnI4eADNFrcAOlDniDQCnSekTNBCHK9QzQhj63px06A7WekOZwbS/s2CFqIaSzTLHD87pCzQh0JqUmhg+76v7N8caCEWPdSx+wMZICv0i5sCHYxqkFrTNBYIJCV8bjOghRp3dYc4smzZoVVVwuImQK+i9CvgcEADC5lZYbh/46CF2tzKqKllSwcntJTQO7ph0MG4hoA0Gd0oQyA9pNcL/7VR0EKtRsPR10QHCdJHQL22QZBoaiQmyzJYpA+e57kvXjho4S//+OmzcW009wNdti1dVwTI85751R+emM8GLRze9/Pnv7ccdSNhZzFVTCOF7NC3qgTqISa34SbJu7977NE95bNAv9730G9/9te1tffXunirURzFQiGuvY3a+8CUQs/1ejMzAC0lwenACR545d637t/zMejxu9bXh8O1aWCazeVuFHVXWSAMmQaJZn3L0gWnh3+uC06Q5IPAcRxTMs32n6cE6G7CnJoeioCAibrArJKfyX0KR9fT4nulngtQwi8IWiBJtzuq2f4NgR4fgoOAAOLEupEQaIVKL8PPfN0Kq1T7EiuEt0SYgEPCM/BeAug+BHRqyCzBieL6XFyDPh0UnwcWAnnE8nIzxEnyAtRqOQjKNM2KcVt54vtDFmg4/C9FFI0C0jSMWceeJYsNRQ+VSp6XA6eRJI1GsDuQJMkkjGmYhjE/sW99ffoU6dNtvr/cbDbrUVqzDhuab+mWooQYfA8cjzEUDz5SAHnMtkqpFX488ZP/TENqBMOJLXdvjVajlTn4YqfT57Q4omq15PVKpFCj0UgaKL6TJ30kDgegmyfK961PrwmBmn+KuremqXX64GgD2U+1LoVUMdIoBxIpJDGn3UZqBeMIxL6JdRYlQzQRDX1c0wZ9mXxRR/URDykEksgs3zgd5LmLkBnHY/yS+uhvQzQQIlprNlGyOo2HJnYQpLYsMa6j0oMDFjCSRCCHEzO+Izp713QaELXiqGgyLzPZDyFRlcfVLdGQNTAdUAgkjshsVyqL3x7N2tPDJrdQPaqvxnVxNvB6tYTSCoF6Xu6EO5MkS/kG5oykbjnIzDRueemToX06DSj6uKtt6msfJBqzEknkul5CSgdLeZKI5gOJofhT/28ju7j6EWKKYdWdWCPTl0lsX4BIoFwuYY3QQa2W0Fo11Kkz/Wjn8vIydfUK2we3kMwGUmWrRjwovhjWPOXV4sQqFfXBTxvbLkoM9Y9XsBL7jKGu9nUo1CuJZnRZaVF6EZHx4NkOuZMowtA0mwWyWSCF2hGgGTc1kHyem5GH7K1zWe0v0ESR6GquvE6cKtWewsEnRyVL8g5zGPTGuT374XqdJepo7B7UjbyCQjI0BJS43wooHsY47TM4Z26RnfFcjde9Ru5hW8JAlJBqTzVDwfLCz9DSTlr3c66jG+b4rOZmRGIK2hrT6qXGSMMxMka09FTWXruBiy8Ss30Oh0AlSoxWBwY/n1bsjcwFWRaXlXBY4YylKmc2Qz4UJLsdJ7geINUsZ4IOx+IWpqWIgBQLIXmwj1xaemoiKaBZbc9ngr6p9fENhpzIEj1ELcS1X6IOCsg+uInU9rWZoB3kjH17lnxRbKFemAYEjw1OY1zzEs+Z+lgm6EBqaGhGxae7gYyxRC1E6xUUR4wHmvreTNCNomSzVDI/FD7EyywHpQNoBM8nR8NWPJIFKsM/7M5gFlpb7GchLY/cTG4kNeJpwWB5vZYzQEWtwxcaLVeLpsMjR8uNTP80PJZ2h8NWPZ8Bersvc2o+ez5JTfMqunEJue3mFaTyei08lQHawVZEpeeaoafdHvlHo7G0FIhxlVRVUhFQpXBdBugdm7rRh1cr1NdeOBozcYBA6Hy67kH6UQboRixqMkbdElOPC41AJ5AbrXuSR1LJQOgdGQ8qk0ADbOlwdFm5PbeXOiPdeg5Pmdj2hvGNsaBivyNTRL6u0E0klmuOzpiEeighiqNil92CTV04Pj8W9LY2EIcVbk/F67FCJ0YBCSOSaAVV6JQpFK4eC9ohag+LVcRtxTrnvv41vj1bPB5m+/ZKhXM7/tWxoK9oYt/76Y3GqV05uXfv5FUNWkNssaaqqscAWix8eSzoj2InoqupalC55D7yd/GnySdpOsS88lvcvv1LY0Gpw/JXKtK6d+WeT/645xVJRNQWpJMnT44F3SHOfN/6SKniIHrkiTMH/NorVFH8Y4vGonGycPlY0AuwWJCwzHCiffeys7+5HLoCBTONYxzQP784FnSUSiYc9gsvn/vb1KFtFYR03CgsLl46OX5EXqdxhc6fv2b8706HthUK4BQufTTLIYuXwBg/d3Hmz1eTU9sK27dfdPN5vvhNFo9ewC9zP7xn4z/WfWa/+l3g+x+exq55slUSywAAAABJRU5ErkJggg==",pB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAMAAADUivDaAAAAyVBMVEVQlp9Qn59Qlp5QlZ9QlZ5Qk59QlZ9Qj59QlJ9Rlp5Ql59Qlp9Qk5xQk59QlJ1Qlp9Qj59QlZ9Qlp9QlZ9Qlp9QlZ1Ql59QmJ9Qlp9SnJxQlZ9QlZ1Ql59Ql59Qlp9QlpxQk5tQl55Qj58AAABQlp1Ql5eHt71xqrGy0dWSvcPI3+He7O2oys/////I3uF7sLfe6+1xqbGny898sLeHtr292Nv0+PlbnaWRvcOdxMmcxMmGt73p8vOdw8nT5edQlp+919tmo6unys8y9ognAAAAJnRSTlPPEKCQkFCAMHBff+9QQHCvEGCPMN+Av49QH+9gnyC/UECQIABwIKPGSpUAAAKGSURBVFjDxZhvV5swHIWh0k1l2KAUt1RqpVPrFN3WFWrXEeP3/1AjQEf+N8Gz433T9JA+hMtN8kud+Zvl/G8EuJ5Vugb9EODyfApRKxifXwI7BDiZIkHxBBgjwDFEUkUXqRFCCah1mu5HhDoAGclkDwKM0F7xT8Mi0ggZKErViBlERvLPVIgjZKwjOeIjslAgQ6TQBuGnIsLMScpTICAukKVGPCJE1pqwCNvHqO0ADOIU9dCYRqSKTkVBf1EMw9F5+ZxnP3dtnGcr+TBqBFA4kWdZtrt3WbXX0mE4mtexzDpEQdq/+B5f/yFiOWJV/ep72/5N4ai1cIcACjO31a9eKVwpdgEt4hN/4WlNtCE3fl03IrjH6nPJ9hy2CI8jrDONNkxXr0XwVpQ6xFYwgyD4Wf6gQ7Dh8BuE4GbxUlYiT5+Vje5J+560Vljws0Ik8vfxjRhIuZNLe32pETN1NO8odx5VC6ASUUcTU9G8s0YI0cTWCOLmQh/NDiG185bceEnhNkhjp3SK/KFSVNtyK0cAWbTwVhNN3hBfGvDSPJtdwD1zBB8OTzrZbzSEnH+QoXzJKTDGJJrPuFEdzaZZqJYcceGjo4nU0ewWvvkJf2lhFk0UdpsAlCAW1IhK3e7ebEVj7lqVjRJ3vPyHonCjdjNhGAjrdsKdEnpbHvfZlg+YnR1Ae4KfvLlEQYArlEb2iDGHAPZ1DlNfECX2dkz40jWwRsRCAW1vaSCU8WewzzDYw0QS9Xiv3JEmGdi/V/FgtWcgUJho4vEu8XSAD+48GETC2ilABpEa0Ph+GHdzVX7UdUNJETg9dOn7hAPofNYeuN3hVdwduKdXQ7ffsd9NgkqJ+75/PhjpL0FJZhLjSb3/AAAAAElFTkSuQmCC",hf=(e,t)=>rn.get(`home/videos/${e}/${t}`),zu=e=>rn.get(`https://apis.netstart.cn/douguo/recipe/detail/${e}`);var Vo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",f="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",a=500,h="__lodash_placeholder__",m=1,g=2,w=4,T=1,y=2,d=1,_=2,v=4,p=8,A=16,b=32,E=64,x=128,k=256,L=512,S=30,C="...",I=800,D=16,P=1,F=2,U=3,M=1/0,V=9007199254740991,H=17976931348623157e292,z=0/0,j=4294967295,Q=j-1,ie=j>>>1,ne=[["ary",x],["bind",d],["bindKey",_],["curry",p],["curryRight",A],["flip",L],["partial",b],["partialRight",E],["rearg",k]],X="[object Arguments]",J="[object Array]",se="[object AsyncFunction]",ce="[object Boolean]",me="[object Date]",Fe="[object DOMException]",Oe="[object Error]",Y="[object Function]",ee="[object GeneratorFunction]",ae="[object Map]",fe="[object Number]",ge="[object Null]",_e="[object Object]",xe="[object Promise]",Te="[object Proxy]",Ie="[object RegExp]",pe="[object Set]",Ne="[object String]",Ae="[object Symbol]",Ue="[object Undefined]",Ke="[object WeakMap]",Ye="[object WeakSet]",it="[object ArrayBuffer]",nt="[object DataView]",_t="[object Float32Array]",Ft="[object Float64Array]",sn="[object Int8Array]",rt="[object Int16Array]",on="[object Int32Array]",ar="[object Uint8Array]",Kt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",In="[object Uint32Array]",ai=/\b__p \+= '';/g,lr=/\b(__p \+=) '' \+/g,li=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dl=/&(?:amp|lt|gt|quot|#39);/g,fl=/[&<>"']/g,GA=RegExp(dl.source),KA=RegExp(fl.source),jA=/<%-([\s\S]+?)%>/g,WA=/<%([\s\S]+?)%>/g,xg=/<%=([\s\S]+?)%>/g,qA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YA=/^\w*$/,QA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$c=/[\\^$.*+?()[\]{}|]/g,JA=RegExp($c.source),Hc=/^\s+/,XA=/\s/,ZA=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eb=/\{\n\/\* \[wrapped with (.+)\] \*/,tb=/,? & /,nb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rb=/[()=,{}\[\]\/\s]/,ib=/\\(\\)?/g,sb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ig=/\w*$/,ob=/^[-+]0x[0-9a-f]+$/i,ab=/^0b[01]+$/i,lb=/^\[object .+?Constructor\]$/,ub=/^0o[0-7]+$/i,cb=/^(?:0|[1-9]\d*)$/,db=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hl=/($^)/,fb=/['\n\r\u2028\u2029\\]/g,gl="\\ud800-\\udfff",hb="\\u0300-\\u036f",gb="\\ufe20-\\ufe2f",vb="\\u20d0-\\u20ff",Rg=hb+gb+vb,Lg="\\u2700-\\u27bf",Dg="a-z\\xdf-\\xf6\\xf8-\\xff",mb="\\xac\\xb1\\xd7\\xf7",pb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yb="\\u2000-\\u206f",_b=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Og="A-Z\\xc0-\\xd6\\xd8-\\xde",Pg="\\ufe0e\\ufe0f",Bg=mb+pb+yb+_b,Gc="['\u2019]",Ab="["+gl+"]",Fg="["+Bg+"]",vl="["+Rg+"]",Mg="\\d+",bb="["+Lg+"]",Ng="["+Dg+"]",Ug="[^"+gl+Bg+Mg+Lg+Dg+Og+"]",Kc="\\ud83c[\\udffb-\\udfff]",Eb="(?:"+vl+"|"+Kc+")",Vg="[^"+gl+"]",jc="(?:\\ud83c[\\udde6-\\uddff]){2}",Wc="[\\ud800-\\udbff][\\udc00-\\udfff]",Xs="["+Og+"]",zg="\\u200d",$g="(?:"+Ng+"|"+Ug+")",Sb="(?:"+Xs+"|"+Ug+")",Hg="(?:"+Gc+"(?:d|ll|m|re|s|t|ve))?",Gg="(?:"+Gc+"(?:D|LL|M|RE|S|T|VE))?",Kg=Eb+"?",jg="["+Pg+"]?",Tb="(?:"+zg+"(?:"+[Vg,jc,Wc].join("|")+")"+jg+Kg+")*",wb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wg=jg+Kg+Tb,kb="(?:"+[bb,jc,Wc].join("|")+")"+Wg,xb="(?:"+[Vg+vl+"?",vl,jc,Wc,Ab].join("|")+")",Ib=RegExp(Gc,"g"),Rb=RegExp(vl,"g"),qc=RegExp(Kc+"(?="+Kc+")|"+xb+Wg,"g"),Lb=RegExp([Xs+"?"+Ng+"+"+Hg+"(?="+[Fg,Xs,"$"].join("|")+")",Sb+"+"+Gg+"(?="+[Fg,Xs+$g,"$"].join("|")+")",Xs+"?"+$g+"+"+Hg,Xs+"+"+Gg,Cb,wb,Mg,kb].join("|"),"g"),Db=RegExp("["+zg+gl+Rg+Pg+"]"),Ob=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bb=-1,zt={};zt[_t]=zt[Ft]=zt[sn]=zt[rt]=zt[on]=zt[ar]=zt[Kt]=zt[Qt]=zt[In]=!0,zt[X]=zt[J]=zt[it]=zt[ce]=zt[nt]=zt[me]=zt[Oe]=zt[Y]=zt[ae]=zt[fe]=zt[_e]=zt[Ie]=zt[pe]=zt[Ne]=zt[Ke]=!1;var Ut={};Ut[X]=Ut[J]=Ut[it]=Ut[nt]=Ut[ce]=Ut[me]=Ut[_t]=Ut[Ft]=Ut[sn]=Ut[rt]=Ut[on]=Ut[ae]=Ut[fe]=Ut[_e]=Ut[Ie]=Ut[pe]=Ut[Ne]=Ut[Ae]=Ut[ar]=Ut[Kt]=Ut[Qt]=Ut[In]=!0,Ut[Oe]=Ut[Y]=Ut[Ke]=!1;var Fb={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Mb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ub={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vb=parseFloat,zb=parseInt,qg=typeof Aa=="object"&&Aa&&Aa.Object===Object&&Aa,$b=typeof self=="object"&&self&&self.Object===Object&&self,An=qg||$b||Function("return this")(),Yc=t&&!t.nodeType&&t,ys=Yc&&!0&&e&&!e.nodeType&&e,Yg=ys&&ys.exports===Yc,Qc=Yg&&qg.process,ur=function(){try{var ue=ys&&ys.require&&ys.require("util").types;return ue||Qc&&Qc.binding&&Qc.binding("util")}catch{}}(),Qg=ur&&ur.isArrayBuffer,Jg=ur&&ur.isDate,Xg=ur&&ur.isMap,Zg=ur&&ur.isRegExp,ev=ur&&ur.isSet,tv=ur&&ur.isTypedArray;function Jn(ue,ye,he){switch(he.length){case 0:return ue.call(ye);case 1:return ue.call(ye,he[0]);case 2:return ue.call(ye,he[0],he[1]);case 3:return ue.call(ye,he[0],he[1],he[2])}return ue.apply(ye,he)}function Hb(ue,ye,he,$e){for(var st=-1,Rt=ue==null?0:ue.length;++st<Rt;){var an=ue[st];ye($e,an,he(an),ue)}return $e}function cr(ue,ye){for(var he=-1,$e=ue==null?0:ue.length;++he<$e&&ye(ue[he],he,ue)!==!1;);return ue}function Gb(ue,ye){for(var he=ue==null?0:ue.length;he--&&ye(ue[he],he,ue)!==!1;);return ue}function nv(ue,ye){for(var he=-1,$e=ue==null?0:ue.length;++he<$e;)if(!ye(ue[he],he,ue))return!1;return!0}function Pi(ue,ye){for(var he=-1,$e=ue==null?0:ue.length,st=0,Rt=[];++he<$e;){var an=ue[he];ye(an,he,ue)&&(Rt[st++]=an)}return Rt}function ml(ue,ye){var he=ue==null?0:ue.length;return!!he&&Zs(ue,ye,0)>-1}function Jc(ue,ye,he){for(var $e=-1,st=ue==null?0:ue.length;++$e<st;)if(he(ye,ue[$e]))return!0;return!1}function jt(ue,ye){for(var he=-1,$e=ue==null?0:ue.length,st=Array($e);++he<$e;)st[he]=ye(ue[he],he,ue);return st}function Bi(ue,ye){for(var he=-1,$e=ye.length,st=ue.length;++he<$e;)ue[st+he]=ye[he];return ue}function Xc(ue,ye,he,$e){var st=-1,Rt=ue==null?0:ue.length;for($e&&Rt&&(he=ue[++st]);++st<Rt;)he=ye(he,ue[st],st,ue);return he}function Kb(ue,ye,he,$e){var st=ue==null?0:ue.length;for($e&&st&&(he=ue[--st]);st--;)he=ye(he,ue[st],st,ue);return he}function Zc(ue,ye){for(var he=-1,$e=ue==null?0:ue.length;++he<$e;)if(ye(ue[he],he,ue))return!0;return!1}var jb=ed("length");function Wb(ue){return ue.split("")}function qb(ue){return ue.match(nb)||[]}function rv(ue,ye,he){var $e;return he(ue,function(st,Rt,an){if(ye(st,Rt,an))return $e=Rt,!1}),$e}function pl(ue,ye,he,$e){for(var st=ue.length,Rt=he+($e?1:-1);$e?Rt--:++Rt<st;)if(ye(ue[Rt],Rt,ue))return Rt;return-1}function Zs(ue,ye,he){return ye===ye?oE(ue,ye,he):pl(ue,iv,he)}function Yb(ue,ye,he,$e){for(var st=he-1,Rt=ue.length;++st<Rt;)if($e(ue[st],ye))return st;return-1}function iv(ue){return ue!==ue}function sv(ue,ye){var he=ue==null?0:ue.length;return he?nd(ue,ye)/he:z}function ed(ue){return function(ye){return ye==null?n:ye[ue]}}function td(ue){return function(ye){return ue==null?n:ue[ye]}}function ov(ue,ye,he,$e,st){return st(ue,function(Rt,an,Mt){he=$e?($e=!1,Rt):ye(he,Rt,an,Mt)}),he}function Qb(ue,ye){var he=ue.length;for(ue.sort(ye);he--;)ue[he]=ue[he].value;return ue}function nd(ue,ye){for(var he,$e=-1,st=ue.length;++$e<st;){var Rt=ye(ue[$e]);Rt!==n&&(he=he===n?Rt:he+Rt)}return he}function rd(ue,ye){for(var he=-1,$e=Array(ue);++he<ue;)$e[he]=ye(he);return $e}function Jb(ue,ye){return jt(ye,function(he){return[he,ue[he]]})}function av(ue){return ue&&ue.slice(0,dv(ue)+1).replace(Hc,"")}function Xn(ue){return function(ye){return ue(ye)}}function id(ue,ye){return jt(ye,function(he){return ue[he]})}function na(ue,ye){return ue.has(ye)}function lv(ue,ye){for(var he=-1,$e=ue.length;++he<$e&&Zs(ye,ue[he],0)>-1;);return he}function uv(ue,ye){for(var he=ue.length;he--&&Zs(ye,ue[he],0)>-1;);return he}function Xb(ue,ye){for(var he=ue.length,$e=0;he--;)ue[he]===ye&&++$e;return $e}var Zb=td(Fb),eE=td(Mb);function tE(ue){return"\\"+Ub[ue]}function nE(ue,ye){return ue==null?n:ue[ye]}function eo(ue){return Db.test(ue)}function rE(ue){return Ob.test(ue)}function iE(ue){for(var ye,he=[];!(ye=ue.next()).done;)he.push(ye.value);return he}function sd(ue){var ye=-1,he=Array(ue.size);return ue.forEach(function($e,st){he[++ye]=[st,$e]}),he}function cv(ue,ye){return function(he){return ue(ye(he))}}function Fi(ue,ye){for(var he=-1,$e=ue.length,st=0,Rt=[];++he<$e;){var an=ue[he];(an===ye||an===h)&&(ue[he]=h,Rt[st++]=he)}return Rt}function yl(ue){var ye=-1,he=Array(ue.size);return ue.forEach(function($e){he[++ye]=$e}),he}function sE(ue){var ye=-1,he=Array(ue.size);return ue.forEach(function($e){he[++ye]=[$e,$e]}),he}function oE(ue,ye,he){for(var $e=he-1,st=ue.length;++$e<st;)if(ue[$e]===ye)return $e;return-1}function aE(ue,ye,he){for(var $e=he+1;$e--;)if(ue[$e]===ye)return $e;return $e}function to(ue){return eo(ue)?uE(ue):jb(ue)}function wr(ue){return eo(ue)?cE(ue):Wb(ue)}function dv(ue){for(var ye=ue.length;ye--&&XA.test(ue.charAt(ye)););return ye}var lE=td(Nb);function uE(ue){for(var ye=qc.lastIndex=0;qc.test(ue);)++ye;return ye}function cE(ue){return ue.match(qc)||[]}function dE(ue){return ue.match(Lb)||[]}var fE=function ue(ye){ye=ye==null?An:no.defaults(An.Object(),ye,no.pick(An,Pb));var he=ye.Array,$e=ye.Date,st=ye.Error,Rt=ye.Function,an=ye.Math,Mt=ye.Object,od=ye.RegExp,hE=ye.String,dr=ye.TypeError,_l=he.prototype,gE=Rt.prototype,ro=Mt.prototype,Al=ye["__core-js_shared__"],bl=gE.toString,Ot=ro.hasOwnProperty,vE=0,fv=function(){var s=/[^.]+$/.exec(Al&&Al.keys&&Al.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),El=ro.toString,mE=bl.call(Mt),pE=An._,yE=od("^"+bl.call(Ot).replace($c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sl=Yg?ye.Buffer:n,Mi=ye.Symbol,Tl=ye.Uint8Array,hv=Sl?Sl.allocUnsafe:n,wl=cv(Mt.getPrototypeOf,Mt),gv=Mt.create,vv=ro.propertyIsEnumerable,Cl=_l.splice,mv=Mi?Mi.isConcatSpreadable:n,ra=Mi?Mi.iterator:n,_s=Mi?Mi.toStringTag:n,kl=function(){try{var s=Ts(Mt,"defineProperty");return s({},"",{}),s}catch{}}(),_E=ye.clearTimeout!==An.clearTimeout&&ye.clearTimeout,AE=$e&&$e.now!==An.Date.now&&$e.now,bE=ye.setTimeout!==An.setTimeout&&ye.setTimeout,xl=an.ceil,Il=an.floor,ad=Mt.getOwnPropertySymbols,EE=Sl?Sl.isBuffer:n,pv=ye.isFinite,SE=_l.join,TE=cv(Mt.keys,Mt),ln=an.max,wn=an.min,wE=$e.now,CE=ye.parseInt,yv=an.random,kE=_l.reverse,ld=Ts(ye,"DataView"),ia=Ts(ye,"Map"),ud=Ts(ye,"Promise"),io=Ts(ye,"Set"),sa=Ts(ye,"WeakMap"),oa=Ts(Mt,"create"),Rl=sa&&new sa,so={},xE=ws(ld),IE=ws(ia),RE=ws(ud),LE=ws(io),DE=ws(sa),Ll=Mi?Mi.prototype:n,aa=Ll?Ll.valueOf:n,_v=Ll?Ll.toString:n;function G(s){if(Jt(s)&&!ot(s)&&!(s instanceof mt)){if(s instanceof fr)return s;if(Ot.call(s,"__wrapped__"))return Am(s)}return new fr(s)}var oo=function(){function s(){}return function(u){if(!qt(u))return{};if(gv)return gv(u);s.prototype=u;var R=new s;return s.prototype=n,R}}();function Dl(){}function fr(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}G.templateSettings={escape:jA,evaluate:WA,interpolate:xg,variable:"",imports:{_:G}},G.prototype=Dl.prototype,G.prototype.constructor=G,fr.prototype=oo(Dl.prototype),fr.prototype.constructor=fr;function mt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function OE(){var s=new mt(this.__wrapped__);return s.__actions__=Mn(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Mn(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Mn(this.__views__),s}function PE(){if(this.__filtered__){var s=new mt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function BE(){var s=this.__wrapped__.value(),u=this.__dir__,R=ot(s),N=u<0,$=R?s.length:0,q=WS(0,$,this.__views__),te=q.start,oe=q.end,de=oe-te,be=N?oe:te-1,Ee=this.__iteratees__,ke=Ee.length,Ve=0,je=wn(de,this.__takeCount__);if(!R||!N&&$==de&&je==de)return Hv(s,this.__actions__);var Je=[];e:for(;de--&&Ve<je;){be+=u;for(var ct=-1,Xe=s[be];++ct<ke;){var vt=Ee[ct],At=vt.iteratee,tr=vt.type,Dn=At(Xe);if(tr==F)Xe=Dn;else if(!Dn){if(tr==P)continue e;break e}}Je[Ve++]=Xe}return Je}mt.prototype=oo(Dl.prototype),mt.prototype.constructor=mt;function As(s){var u=-1,R=s==null?0:s.length;for(this.clear();++u<R;){var N=s[u];this.set(N[0],N[1])}}function FE(){this.__data__=oa?oa(null):{},this.size=0}function ME(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u}function NE(s){var u=this.__data__;if(oa){var R=u[s];return R===c?n:R}return Ot.call(u,s)?u[s]:n}function UE(s){var u=this.__data__;return oa?u[s]!==n:Ot.call(u,s)}function VE(s,u){var R=this.__data__;return this.size+=this.has(s)?0:1,R[s]=oa&&u===n?c:u,this}As.prototype.clear=FE,As.prototype.delete=ME,As.prototype.get=NE,As.prototype.has=UE,As.prototype.set=VE;function ui(s){var u=-1,R=s==null?0:s.length;for(this.clear();++u<R;){var N=s[u];this.set(N[0],N[1])}}function zE(){this.__data__=[],this.size=0}function $E(s){var u=this.__data__,R=Ol(u,s);if(R<0)return!1;var N=u.length-1;return R==N?u.pop():Cl.call(u,R,1),--this.size,!0}function HE(s){var u=this.__data__,R=Ol(u,s);return R<0?n:u[R][1]}function GE(s){return Ol(this.__data__,s)>-1}function KE(s,u){var R=this.__data__,N=Ol(R,s);return N<0?(++this.size,R.push([s,u])):R[N][1]=u,this}ui.prototype.clear=zE,ui.prototype.delete=$E,ui.prototype.get=HE,ui.prototype.has=GE,ui.prototype.set=KE;function ci(s){var u=-1,R=s==null?0:s.length;for(this.clear();++u<R;){var N=s[u];this.set(N[0],N[1])}}function jE(){this.size=0,this.__data__={hash:new As,map:new(ia||ui),string:new As}}function WE(s){var u=Kl(this,s).delete(s);return this.size-=u?1:0,u}function qE(s){return Kl(this,s).get(s)}function YE(s){return Kl(this,s).has(s)}function QE(s,u){var R=Kl(this,s),N=R.size;return R.set(s,u),this.size+=R.size==N?0:1,this}ci.prototype.clear=jE,ci.prototype.delete=WE,ci.prototype.get=qE,ci.prototype.has=YE,ci.prototype.set=QE;function bs(s){var u=-1,R=s==null?0:s.length;for(this.__data__=new ci;++u<R;)this.add(s[u])}function JE(s){return this.__data__.set(s,c),this}function XE(s){return this.__data__.has(s)}bs.prototype.add=bs.prototype.push=JE,bs.prototype.has=XE;function Cr(s){var u=this.__data__=new ui(s);this.size=u.size}function ZE(){this.__data__=new ui,this.size=0}function eS(s){var u=this.__data__,R=u.delete(s);return this.size=u.size,R}function tS(s){return this.__data__.get(s)}function nS(s){return this.__data__.has(s)}function rS(s,u){var R=this.__data__;if(R instanceof ui){var N=R.__data__;if(!ia||N.length<i-1)return N.push([s,u]),this.size=++R.size,this;R=this.__data__=new ci(N)}return R.set(s,u),this.size=R.size,this}Cr.prototype.clear=ZE,Cr.prototype.delete=eS,Cr.prototype.get=tS,Cr.prototype.has=nS,Cr.prototype.set=rS;function Av(s,u){var R=ot(s),N=!R&&Cs(s),$=!R&&!N&&$i(s),q=!R&&!N&&!$&&co(s),te=R||N||$||q,oe=te?rd(s.length,hE):[],de=oe.length;for(var be in s)(u||Ot.call(s,be))&&!(te&&(be=="length"||$&&(be=="offset"||be=="parent")||q&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||gi(be,de)))&&oe.push(be);return oe}function bv(s){var u=s.length;return u?s[Ad(0,u-1)]:n}function iS(s,u){return jl(Mn(s),Es(u,0,s.length))}function sS(s){return jl(Mn(s))}function cd(s,u,R){(R!==n&&!kr(s[u],R)||R===n&&!(u in s))&&di(s,u,R)}function la(s,u,R){var N=s[u];(!(Ot.call(s,u)&&kr(N,R))||R===n&&!(u in s))&&di(s,u,R)}function Ol(s,u){for(var R=s.length;R--;)if(kr(s[R][0],u))return R;return-1}function oS(s,u,R,N){return Ni(s,function($,q,te){u(N,$,R($),te)}),N}function Ev(s,u){return s&&qr(u,mn(u),s)}function aS(s,u){return s&&qr(u,Un(u),s)}function di(s,u,R){u=="__proto__"&&kl?kl(s,u,{configurable:!0,enumerable:!0,value:R,writable:!0}):s[u]=R}function dd(s,u){for(var R=-1,N=u.length,$=he(N),q=s==null;++R<N;)$[R]=q?n:Kd(s,u[R]);return $}function Es(s,u,R){return s===s&&(R!==n&&(s=s<=R?s:R),u!==n&&(s=s>=u?s:u)),s}function hr(s,u,R,N,$,q){var te,oe=u&m,de=u&g,be=u&w;if(R&&(te=$?R(s,N,$,q):R(s)),te!==n)return te;if(!qt(s))return s;var Ee=ot(s);if(Ee){if(te=YS(s),!oe)return Mn(s,te)}else{var ke=Cn(s),Ve=ke==Y||ke==ee;if($i(s))return jv(s,oe);if(ke==_e||ke==X||Ve&&!$){if(te=de||Ve?{}:dm(s),!oe)return de?NS(s,aS(te,s)):MS(s,Ev(te,s))}else{if(!Ut[ke])return $?s:{};te=QS(s,ke,oe)}}q||(q=new Cr);var je=q.get(s);if(je)return je;q.set(s,te),Vm(s)?s.forEach(function(Xe){te.add(hr(Xe,u,R,Xe,s,q))}):Nm(s)&&s.forEach(function(Xe,vt){te.set(vt,hr(Xe,u,R,vt,s,q))});var Je=be?de?Ld:Rd:de?Un:mn,ct=Ee?n:Je(s);return cr(ct||s,function(Xe,vt){ct&&(vt=Xe,Xe=s[vt]),la(te,vt,hr(Xe,u,R,vt,s,q))}),te}function lS(s){var u=mn(s);return function(R){return Sv(R,s,u)}}function Sv(s,u,R){var N=R.length;if(s==null)return!N;for(s=Mt(s);N--;){var $=R[N],q=u[$],te=s[$];if(te===n&&!($ in s)||!q(te))return!1}return!0}function Tv(s,u,R){if(typeof s!="function")throw new dr(l);return va(function(){s.apply(n,R)},u)}function ua(s,u,R,N){var $=-1,q=ml,te=!0,oe=s.length,de=[],be=u.length;if(!oe)return de;R&&(u=jt(u,Xn(R))),N?(q=Jc,te=!1):u.length>=i&&(q=na,te=!1,u=new bs(u));e:for(;++$<oe;){var Ee=s[$],ke=R==null?Ee:R(Ee);if(Ee=N||Ee!==0?Ee:0,te&&ke===ke){for(var Ve=be;Ve--;)if(u[Ve]===ke)continue e;de.push(Ee)}else q(u,ke,N)||de.push(Ee)}return de}var Ni=Jv(Wr),wv=Jv(hd,!0);function uS(s,u){var R=!0;return Ni(s,function(N,$,q){return R=!!u(N,$,q),R}),R}function Pl(s,u,R){for(var N=-1,$=s.length;++N<$;){var q=s[N],te=u(q);if(te!=null&&(oe===n?te===te&&!er(te):R(te,oe)))var oe=te,de=q}return de}function cS(s,u,R,N){var $=s.length;for(R=at(R),R<0&&(R=-R>$?0:$+R),N=N===n||N>$?$:at(N),N<0&&(N+=$),N=R>N?0:$m(N);R<N;)s[R++]=u;return s}function Cv(s,u){var R=[];return Ni(s,function(N,$,q){u(N,$,q)&&R.push(N)}),R}function bn(s,u,R,N,$){var q=-1,te=s.length;for(R||(R=XS),$||($=[]);++q<te;){var oe=s[q];u>0&&R(oe)?u>1?bn(oe,u-1,R,N,$):Bi($,oe):N||($[$.length]=oe)}return $}var fd=Xv(),kv=Xv(!0);function Wr(s,u){return s&&fd(s,u,mn)}function hd(s,u){return s&&kv(s,u,mn)}function Bl(s,u){return Pi(u,function(R){return vi(s[R])})}function Ss(s,u){u=Vi(u,s);for(var R=0,N=u.length;s!=null&&R<N;)s=s[Yr(u[R++])];return R&&R==N?s:n}function xv(s,u,R){var N=u(s);return ot(s)?N:Bi(N,R(s))}function Rn(s){return s==null?s===n?Ue:ge:_s&&_s in Mt(s)?jS(s):sT(s)}function gd(s,u){return s>u}function dS(s,u){return s!=null&&Ot.call(s,u)}function fS(s,u){return s!=null&&u in Mt(s)}function hS(s,u,R){return s>=wn(u,R)&&s<ln(u,R)}function vd(s,u,R){for(var N=R?Jc:ml,$=s[0].length,q=s.length,te=q,oe=he(q),de=1/0,be=[];te--;){var Ee=s[te];te&&u&&(Ee=jt(Ee,Xn(u))),de=wn(Ee.length,de),oe[te]=!R&&(u||$>=120&&Ee.length>=120)?new bs(te&&Ee):n}Ee=s[0];var ke=-1,Ve=oe[0];e:for(;++ke<$&&be.length<de;){var je=Ee[ke],Je=u?u(je):je;if(je=R||je!==0?je:0,!(Ve?na(Ve,Je):N(be,Je,R))){for(te=q;--te;){var ct=oe[te];if(!(ct?na(ct,Je):N(s[te],Je,R)))continue e}Ve&&Ve.push(Je),be.push(je)}}return be}function gS(s,u,R,N){return Wr(s,function($,q,te){u(N,R($),q,te)}),N}function ca(s,u,R){u=Vi(u,s),s=vm(s,u);var N=s==null?s:s[Yr(vr(u))];return N==null?n:Jn(N,s,R)}function Iv(s){return Jt(s)&&Rn(s)==X}function vS(s){return Jt(s)&&Rn(s)==it}function mS(s){return Jt(s)&&Rn(s)==me}function da(s,u,R,N,$){return s===u?!0:s==null||u==null||!Jt(s)&&!Jt(u)?s!==s&&u!==u:pS(s,u,R,N,da,$)}function pS(s,u,R,N,$,q){var te=ot(s),oe=ot(u),de=te?J:Cn(s),be=oe?J:Cn(u);de=de==X?_e:de,be=be==X?_e:be;var Ee=de==_e,ke=be==_e,Ve=de==be;if(Ve&&$i(s)){if(!$i(u))return!1;te=!0,Ee=!1}if(Ve&&!Ee)return q||(q=new Cr),te||co(s)?lm(s,u,R,N,$,q):GS(s,u,de,R,N,$,q);if(!(R&T)){var je=Ee&&Ot.call(s,"__wrapped__"),Je=ke&&Ot.call(u,"__wrapped__");if(je||Je){var ct=je?s.value():s,Xe=Je?u.value():u;return q||(q=new Cr),$(ct,Xe,R,N,q)}}return Ve?(q||(q=new Cr),KS(s,u,R,N,$,q)):!1}function yS(s){return Jt(s)&&Cn(s)==ae}function md(s,u,R,N){var $=R.length,q=$,te=!N;if(s==null)return!q;for(s=Mt(s);$--;){var oe=R[$];if(te&&oe[2]?oe[1]!==s[oe[0]]:!(oe[0]in s))return!1}for(;++$<q;){oe=R[$];var de=oe[0],be=s[de],Ee=oe[1];if(te&&oe[2]){if(be===n&&!(de in s))return!1}else{var ke=new Cr;if(N)var Ve=N(be,Ee,de,s,u,ke);if(!(Ve===n?da(Ee,be,T|y,N,ke):Ve))return!1}}return!0}function Rv(s){if(!qt(s)||eT(s))return!1;var u=vi(s)?yE:lb;return u.test(ws(s))}function _S(s){return Jt(s)&&Rn(s)==Ie}function AS(s){return Jt(s)&&Cn(s)==pe}function bS(s){return Jt(s)&&Xl(s.length)&&!!zt[Rn(s)]}function Lv(s){return typeof s=="function"?s:s==null?Vn:typeof s=="object"?ot(s)?Pv(s[0],s[1]):Ov(s):Zm(s)}function pd(s){if(!ga(s))return TE(s);var u=[];for(var R in Mt(s))Ot.call(s,R)&&R!="constructor"&&u.push(R);return u}function ES(s){if(!qt(s))return iT(s);var u=ga(s),R=[];for(var N in s)N=="constructor"&&(u||!Ot.call(s,N))||R.push(N);return R}function yd(s,u){return s<u}function Dv(s,u){var R=-1,N=Nn(s)?he(s.length):[];return Ni(s,function($,q,te){N[++R]=u($,q,te)}),N}function Ov(s){var u=Od(s);return u.length==1&&u[0][2]?hm(u[0][0],u[0][1]):function(R){return R===s||md(R,s,u)}}function Pv(s,u){return Bd(s)&&fm(u)?hm(Yr(s),u):function(R){var N=Kd(R,s);return N===n&&N===u?jd(R,s):da(u,N,T|y)}}function Fl(s,u,R,N,$){s!==u&&fd(u,function(q,te){if($||($=new Cr),qt(q))SS(s,u,te,R,Fl,N,$);else{var oe=N?N(Md(s,te),q,te+"",s,u,$):n;oe===n&&(oe=q),cd(s,te,oe)}},Un)}function SS(s,u,R,N,$,q,te){var oe=Md(s,R),de=Md(u,R),be=te.get(de);if(be){cd(s,R,be);return}var Ee=q?q(oe,de,R+"",s,u,te):n,ke=Ee===n;if(ke){var Ve=ot(de),je=!Ve&&$i(de),Je=!Ve&&!je&&co(de);Ee=de,Ve||je||Je?ot(oe)?Ee=oe:Zt(oe)?Ee=Mn(oe):je?(ke=!1,Ee=jv(de,!0)):Je?(ke=!1,Ee=Wv(de,!0)):Ee=[]:ma(de)||Cs(de)?(Ee=oe,Cs(oe)?Ee=Hm(oe):(!qt(oe)||vi(oe))&&(Ee=dm(de))):ke=!1}ke&&(te.set(de,Ee),$(Ee,de,N,q,te),te.delete(de)),cd(s,R,Ee)}function Bv(s,u){var R=s.length;if(!!R)return u+=u<0?R:0,gi(u,R)?s[u]:n}function Fv(s,u,R){u.length?u=jt(u,function(q){return ot(q)?function(te){return Ss(te,q.length===1?q[0]:q)}:q}):u=[Vn];var N=-1;u=jt(u,Xn(Qe()));var $=Dv(s,function(q,te,oe){var de=jt(u,function(be){return be(q)});return{criteria:de,index:++N,value:q}});return Qb($,function(q,te){return FS(q,te,R)})}function TS(s,u){return Mv(s,u,function(R,N){return jd(s,N)})}function Mv(s,u,R){for(var N=-1,$=u.length,q={};++N<$;){var te=u[N],oe=Ss(s,te);R(oe,te)&&fa(q,Vi(te,s),oe)}return q}function wS(s){return function(u){return Ss(u,s)}}function _d(s,u,R,N){var $=N?Yb:Zs,q=-1,te=u.length,oe=s;for(s===u&&(u=Mn(u)),R&&(oe=jt(s,Xn(R)));++q<te;)for(var de=0,be=u[q],Ee=R?R(be):be;(de=$(oe,Ee,de,N))>-1;)oe!==s&&Cl.call(oe,de,1),Cl.call(s,de,1);return s}function Nv(s,u){for(var R=s?u.length:0,N=R-1;R--;){var $=u[R];if(R==N||$!==q){var q=$;gi($)?Cl.call(s,$,1):Sd(s,$)}}return s}function Ad(s,u){return s+Il(yv()*(u-s+1))}function CS(s,u,R,N){for(var $=-1,q=ln(xl((u-s)/(R||1)),0),te=he(q);q--;)te[N?q:++$]=s,s+=R;return te}function bd(s,u){var R="";if(!s||u<1||u>V)return R;do u%2&&(R+=s),u=Il(u/2),u&&(s+=s);while(u);return R}function dt(s,u){return Nd(gm(s,u,Vn),s+"")}function kS(s){return bv(fo(s))}function xS(s,u){var R=fo(s);return jl(R,Es(u,0,R.length))}function fa(s,u,R,N){if(!qt(s))return s;u=Vi(u,s);for(var $=-1,q=u.length,te=q-1,oe=s;oe!=null&&++$<q;){var de=Yr(u[$]),be=R;if(de==="__proto__"||de==="constructor"||de==="prototype")return s;if($!=te){var Ee=oe[de];be=N?N(Ee,de,oe):n,be===n&&(be=qt(Ee)?Ee:gi(u[$+1])?[]:{})}la(oe,de,be),oe=oe[de]}return s}var Uv=Rl?function(s,u){return Rl.set(s,u),s}:Vn,IS=kl?function(s,u){return kl(s,"toString",{configurable:!0,enumerable:!1,value:qd(u),writable:!0})}:Vn;function RS(s){return jl(fo(s))}function gr(s,u,R){var N=-1,$=s.length;u<0&&(u=-u>$?0:$+u),R=R>$?$:R,R<0&&(R+=$),$=u>R?0:R-u>>>0,u>>>=0;for(var q=he($);++N<$;)q[N]=s[N+u];return q}function LS(s,u){var R;return Ni(s,function(N,$,q){return R=u(N,$,q),!R}),!!R}function Ml(s,u,R){var N=0,$=s==null?N:s.length;if(typeof u=="number"&&u===u&&$<=ie){for(;N<$;){var q=N+$>>>1,te=s[q];te!==null&&!er(te)&&(R?te<=u:te<u)?N=q+1:$=q}return $}return Ed(s,u,Vn,R)}function Ed(s,u,R,N){var $=0,q=s==null?0:s.length;if(q===0)return 0;u=R(u);for(var te=u!==u,oe=u===null,de=er(u),be=u===n;$<q;){var Ee=Il(($+q)/2),ke=R(s[Ee]),Ve=ke!==n,je=ke===null,Je=ke===ke,ct=er(ke);if(te)var Xe=N||Je;else be?Xe=Je&&(N||Ve):oe?Xe=Je&&Ve&&(N||!je):de?Xe=Je&&Ve&&!je&&(N||!ct):je||ct?Xe=!1:Xe=N?ke<=u:ke<u;Xe?$=Ee+1:q=Ee}return wn(q,Q)}function Vv(s,u){for(var R=-1,N=s.length,$=0,q=[];++R<N;){var te=s[R],oe=u?u(te):te;if(!R||!kr(oe,de)){var de=oe;q[$++]=te===0?0:te}}return q}function zv(s){return typeof s=="number"?s:er(s)?z:+s}function Zn(s){if(typeof s=="string")return s;if(ot(s))return jt(s,Zn)+"";if(er(s))return _v?_v.call(s):"";var u=s+"";return u=="0"&&1/s==-M?"-0":u}function Ui(s,u,R){var N=-1,$=ml,q=s.length,te=!0,oe=[],de=oe;if(R)te=!1,$=Jc;else if(q>=i){var be=u?null:$S(s);if(be)return yl(be);te=!1,$=na,de=new bs}else de=u?[]:oe;e:for(;++N<q;){var Ee=s[N],ke=u?u(Ee):Ee;if(Ee=R||Ee!==0?Ee:0,te&&ke===ke){for(var Ve=de.length;Ve--;)if(de[Ve]===ke)continue e;u&&de.push(ke),oe.push(Ee)}else $(de,ke,R)||(de!==oe&&de.push(ke),oe.push(Ee))}return oe}function Sd(s,u){return u=Vi(u,s),s=vm(s,u),s==null||delete s[Yr(vr(u))]}function $v(s,u,R,N){return fa(s,u,R(Ss(s,u)),N)}function Nl(s,u,R,N){for(var $=s.length,q=N?$:-1;(N?q--:++q<$)&&u(s[q],q,s););return R?gr(s,N?0:q,N?q+1:$):gr(s,N?q+1:0,N?$:q)}function Hv(s,u){var R=s;return R instanceof mt&&(R=R.value()),Xc(u,function(N,$){return $.func.apply($.thisArg,Bi([N],$.args))},R)}function Td(s,u,R){var N=s.length;if(N<2)return N?Ui(s[0]):[];for(var $=-1,q=he(N);++$<N;)for(var te=s[$],oe=-1;++oe<N;)oe!=$&&(q[$]=ua(q[$]||te,s[oe],u,R));return Ui(bn(q,1),u,R)}function Gv(s,u,R){for(var N=-1,$=s.length,q=u.length,te={};++N<$;){var oe=N<q?u[N]:n;R(te,s[N],oe)}return te}function wd(s){return Zt(s)?s:[]}function Cd(s){return typeof s=="function"?s:Vn}function Vi(s,u){return ot(s)?s:Bd(s,u)?[s]:_m(Dt(s))}var DS=dt;function zi(s,u,R){var N=s.length;return R=R===n?N:R,!u&&R>=N?s:gr(s,u,R)}var Kv=_E||function(s){return An.clearTimeout(s)};function jv(s,u){if(u)return s.slice();var R=s.length,N=hv?hv(R):new s.constructor(R);return s.copy(N),N}function kd(s){var u=new s.constructor(s.byteLength);return new Tl(u).set(new Tl(s)),u}function OS(s,u){var R=u?kd(s.buffer):s.buffer;return new s.constructor(R,s.byteOffset,s.byteLength)}function PS(s){var u=new s.constructor(s.source,Ig.exec(s));return u.lastIndex=s.lastIndex,u}function BS(s){return aa?Mt(aa.call(s)):{}}function Wv(s,u){var R=u?kd(s.buffer):s.buffer;return new s.constructor(R,s.byteOffset,s.length)}function qv(s,u){if(s!==u){var R=s!==n,N=s===null,$=s===s,q=er(s),te=u!==n,oe=u===null,de=u===u,be=er(u);if(!oe&&!be&&!q&&s>u||q&&te&&de&&!oe&&!be||N&&te&&de||!R&&de||!$)return 1;if(!N&&!q&&!be&&s<u||be&&R&&$&&!N&&!q||oe&&R&&$||!te&&$||!de)return-1}return 0}function FS(s,u,R){for(var N=-1,$=s.criteria,q=u.criteria,te=$.length,oe=R.length;++N<te;){var de=qv($[N],q[N]);if(de){if(N>=oe)return de;var be=R[N];return de*(be=="desc"?-1:1)}}return s.index-u.index}function Yv(s,u,R,N){for(var $=-1,q=s.length,te=R.length,oe=-1,de=u.length,be=ln(q-te,0),Ee=he(de+be),ke=!N;++oe<de;)Ee[oe]=u[oe];for(;++$<te;)(ke||$<q)&&(Ee[R[$]]=s[$]);for(;be--;)Ee[oe++]=s[$++];return Ee}function Qv(s,u,R,N){for(var $=-1,q=s.length,te=-1,oe=R.length,de=-1,be=u.length,Ee=ln(q-oe,0),ke=he(Ee+be),Ve=!N;++$<Ee;)ke[$]=s[$];for(var je=$;++de<be;)ke[je+de]=u[de];for(;++te<oe;)(Ve||$<q)&&(ke[je+R[te]]=s[$++]);return ke}function Mn(s,u){var R=-1,N=s.length;for(u||(u=he(N));++R<N;)u[R]=s[R];return u}function qr(s,u,R,N){var $=!R;R||(R={});for(var q=-1,te=u.length;++q<te;){var oe=u[q],de=N?N(R[oe],s[oe],oe,R,s):n;de===n&&(de=s[oe]),$?di(R,oe,de):la(R,oe,de)}return R}function MS(s,u){return qr(s,Pd(s),u)}function NS(s,u){return qr(s,um(s),u)}function Ul(s,u){return function(R,N){var $=ot(R)?Hb:oS,q=u?u():{};return $(R,s,Qe(N,2),q)}}function ao(s){return dt(function(u,R){var N=-1,$=R.length,q=$>1?R[$-1]:n,te=$>2?R[2]:n;for(q=s.length>3&&typeof q=="function"?($--,q):n,te&&Ln(R[0],R[1],te)&&(q=$<3?n:q,$=1),u=Mt(u);++N<$;){var oe=R[N];oe&&s(u,oe,N,q)}return u})}function Jv(s,u){return function(R,N){if(R==null)return R;if(!Nn(R))return s(R,N);for(var $=R.length,q=u?$:-1,te=Mt(R);(u?q--:++q<$)&&N(te[q],q,te)!==!1;);return R}}function Xv(s){return function(u,R,N){for(var $=-1,q=Mt(u),te=N(u),oe=te.length;oe--;){var de=te[s?oe:++$];if(R(q[de],de,q)===!1)break}return u}}function US(s,u,R){var N=u&d,$=ha(s);function q(){var te=this&&this!==An&&this instanceof q?$:s;return te.apply(N?R:this,arguments)}return q}function Zv(s){return function(u){u=Dt(u);var R=eo(u)?wr(u):n,N=R?R[0]:u.charAt(0),$=R?zi(R,1).join(""):u.slice(1);return N[s]()+$}}function lo(s){return function(u){return Xc(Jm(Qm(u).replace(Ib,"")),s,"")}}function ha(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var R=oo(s.prototype),N=s.apply(R,u);return qt(N)?N:R}}function VS(s,u,R){var N=ha(s);function $(){for(var q=arguments.length,te=he(q),oe=q,de=uo($);oe--;)te[oe]=arguments[oe];var be=q<3&&te[0]!==de&&te[q-1]!==de?[]:Fi(te,de);if(q-=be.length,q<R)return im(s,u,Vl,$.placeholder,n,te,be,n,n,R-q);var Ee=this&&this!==An&&this instanceof $?N:s;return Jn(Ee,this,te)}return $}function em(s){return function(u,R,N){var $=Mt(u);if(!Nn(u)){var q=Qe(R,3);u=mn(u),R=function(oe){return q($[oe],oe,$)}}var te=s(u,R,N);return te>-1?$[q?u[te]:te]:n}}function tm(s){return hi(function(u){var R=u.length,N=R,$=fr.prototype.thru;for(s&&u.reverse();N--;){var q=u[N];if(typeof q!="function")throw new dr(l);if($&&!te&&Gl(q)=="wrapper")var te=new fr([],!0)}for(N=te?N:R;++N<R;){q=u[N];var oe=Gl(q),de=oe=="wrapper"?Dd(q):n;de&&Fd(de[0])&&de[1]==(x|p|b|k)&&!de[4].length&&de[9]==1?te=te[Gl(de[0])].apply(te,de[3]):te=q.length==1&&Fd(q)?te[oe]():te.thru(q)}return function(){var be=arguments,Ee=be[0];if(te&&be.length==1&&ot(Ee))return te.plant(Ee).value();for(var ke=0,Ve=R?u[ke].apply(this,be):Ee;++ke<R;)Ve=u[ke].call(this,Ve);return Ve}})}function Vl(s,u,R,N,$,q,te,oe,de,be){var Ee=u&x,ke=u&d,Ve=u&_,je=u&(p|A),Je=u&L,ct=Ve?n:ha(s);function Xe(){for(var vt=arguments.length,At=he(vt),tr=vt;tr--;)At[tr]=arguments[tr];if(je)var Dn=uo(Xe),nr=Xb(At,Dn);if(N&&(At=Yv(At,N,$,je)),q&&(At=Qv(At,q,te,je)),vt-=nr,je&&vt<be){var en=Fi(At,Dn);return im(s,u,Vl,Xe.placeholder,R,At,en,oe,de,be-vt)}var xr=ke?R:this,pi=Ve?xr[s]:s;return vt=At.length,oe?At=oT(At,oe):Je&&vt>1&&At.reverse(),Ee&&de<vt&&(At.length=de),this&&this!==An&&this instanceof Xe&&(pi=ct||ha(pi)),pi.apply(xr,At)}return Xe}function nm(s,u){return function(R,N){return gS(R,s,u(N),{})}}function zl(s,u){return function(R,N){var $;if(R===n&&N===n)return u;if(R!==n&&($=R),N!==n){if($===n)return N;typeof R=="string"||typeof N=="string"?(R=Zn(R),N=Zn(N)):(R=zv(R),N=zv(N)),$=s(R,N)}return $}}function xd(s){return hi(function(u){return u=jt(u,Xn(Qe())),dt(function(R){var N=this;return s(u,function($){return Jn($,N,R)})})})}function $l(s,u){u=u===n?" ":Zn(u);var R=u.length;if(R<2)return R?bd(u,s):u;var N=bd(u,xl(s/to(u)));return eo(u)?zi(wr(N),0,s).join(""):N.slice(0,s)}function zS(s,u,R,N){var $=u&d,q=ha(s);function te(){for(var oe=-1,de=arguments.length,be=-1,Ee=N.length,ke=he(Ee+de),Ve=this&&this!==An&&this instanceof te?q:s;++be<Ee;)ke[be]=N[be];for(;de--;)ke[be++]=arguments[++oe];return Jn(Ve,$?R:this,ke)}return te}function rm(s){return function(u,R,N){return N&&typeof N!="number"&&Ln(u,R,N)&&(R=N=n),u=mi(u),R===n?(R=u,u=0):R=mi(R),N=N===n?u<R?1:-1:mi(N),CS(u,R,N,s)}}function Hl(s){return function(u,R){return typeof u=="string"&&typeof R=="string"||(u=mr(u),R=mr(R)),s(u,R)}}function im(s,u,R,N,$,q,te,oe,de,be){var Ee=u&p,ke=Ee?te:n,Ve=Ee?n:te,je=Ee?q:n,Je=Ee?n:q;u|=Ee?b:E,u&=~(Ee?E:b),u&v||(u&=~(d|_));var ct=[s,u,$,je,ke,Je,Ve,oe,de,be],Xe=R.apply(n,ct);return Fd(s)&&mm(Xe,ct),Xe.placeholder=N,pm(Xe,s,u)}function Id(s){var u=an[s];return function(R,N){if(R=mr(R),N=N==null?0:wn(at(N),292),N&&pv(R)){var $=(Dt(R)+"e").split("e"),q=u($[0]+"e"+(+$[1]+N));return $=(Dt(q)+"e").split("e"),+($[0]+"e"+(+$[1]-N))}return u(R)}}var $S=io&&1/yl(new io([,-0]))[1]==M?function(s){return new io(s)}:Jd;function sm(s){return function(u){var R=Cn(u);return R==ae?sd(u):R==pe?sE(u):Jb(u,s(u))}}function fi(s,u,R,N,$,q,te,oe){var de=u&_;if(!de&&typeof s!="function")throw new dr(l);var be=N?N.length:0;if(be||(u&=~(b|E),N=$=n),te=te===n?te:ln(at(te),0),oe=oe===n?oe:at(oe),be-=$?$.length:0,u&E){var Ee=N,ke=$;N=$=n}var Ve=de?n:Dd(s),je=[s,u,R,N,$,Ee,ke,q,te,oe];if(Ve&&rT(je,Ve),s=je[0],u=je[1],R=je[2],N=je[3],$=je[4],oe=je[9]=je[9]===n?de?0:s.length:ln(je[9]-be,0),!oe&&u&(p|A)&&(u&=~(p|A)),!u||u==d)var Je=US(s,u,R);else u==p||u==A?Je=VS(s,u,oe):(u==b||u==(d|b))&&!$.length?Je=zS(s,u,R,N):Je=Vl.apply(n,je);var ct=Ve?Uv:mm;return pm(ct(Je,je),s,u)}function om(s,u,R,N){return s===n||kr(s,ro[R])&&!Ot.call(N,R)?u:s}function am(s,u,R,N,$,q){return qt(s)&&qt(u)&&(q.set(u,s),Fl(s,u,n,am,q),q.delete(u)),s}function HS(s){return ma(s)?n:s}function lm(s,u,R,N,$,q){var te=R&T,oe=s.length,de=u.length;if(oe!=de&&!(te&&de>oe))return!1;var be=q.get(s),Ee=q.get(u);if(be&&Ee)return be==u&&Ee==s;var ke=-1,Ve=!0,je=R&y?new bs:n;for(q.set(s,u),q.set(u,s);++ke<oe;){var Je=s[ke],ct=u[ke];if(N)var Xe=te?N(ct,Je,ke,u,s,q):N(Je,ct,ke,s,u,q);if(Xe!==n){if(Xe)continue;Ve=!1;break}if(je){if(!Zc(u,function(vt,At){if(!na(je,At)&&(Je===vt||$(Je,vt,R,N,q)))return je.push(At)})){Ve=!1;break}}else if(!(Je===ct||$(Je,ct,R,N,q))){Ve=!1;break}}return q.delete(s),q.delete(u),Ve}function GS(s,u,R,N,$,q,te){switch(R){case nt:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case it:return!(s.byteLength!=u.byteLength||!q(new Tl(s),new Tl(u)));case ce:case me:case fe:return kr(+s,+u);case Oe:return s.name==u.name&&s.message==u.message;case Ie:case Ne:return s==u+"";case ae:var oe=sd;case pe:var de=N&T;if(oe||(oe=yl),s.size!=u.size&&!de)return!1;var be=te.get(s);if(be)return be==u;N|=y,te.set(s,u);var Ee=lm(oe(s),oe(u),N,$,q,te);return te.delete(s),Ee;case Ae:if(aa)return aa.call(s)==aa.call(u)}return!1}function KS(s,u,R,N,$,q){var te=R&T,oe=Rd(s),de=oe.length,be=Rd(u),Ee=be.length;if(de!=Ee&&!te)return!1;for(var ke=de;ke--;){var Ve=oe[ke];if(!(te?Ve in u:Ot.call(u,Ve)))return!1}var je=q.get(s),Je=q.get(u);if(je&&Je)return je==u&&Je==s;var ct=!0;q.set(s,u),q.set(u,s);for(var Xe=te;++ke<de;){Ve=oe[ke];var vt=s[Ve],At=u[Ve];if(N)var tr=te?N(At,vt,Ve,u,s,q):N(vt,At,Ve,s,u,q);if(!(tr===n?vt===At||$(vt,At,R,N,q):tr)){ct=!1;break}Xe||(Xe=Ve=="constructor")}if(ct&&!Xe){var Dn=s.constructor,nr=u.constructor;Dn!=nr&&"constructor"in s&&"constructor"in u&&!(typeof Dn=="function"&&Dn instanceof Dn&&typeof nr=="function"&&nr instanceof nr)&&(ct=!1)}return q.delete(s),q.delete(u),ct}function hi(s){return Nd(gm(s,n,Sm),s+"")}function Rd(s){return xv(s,mn,Pd)}function Ld(s){return xv(s,Un,um)}var Dd=Rl?function(s){return Rl.get(s)}:Jd;function Gl(s){for(var u=s.name+"",R=so[u],N=Ot.call(so,u)?R.length:0;N--;){var $=R[N],q=$.func;if(q==null||q==s)return $.name}return u}function uo(s){var u=Ot.call(G,"placeholder")?G:s;return u.placeholder}function Qe(){var s=G.iteratee||Yd;return s=s===Yd?Lv:s,arguments.length?s(arguments[0],arguments[1]):s}function Kl(s,u){var R=s.__data__;return ZS(u)?R[typeof u=="string"?"string":"hash"]:R.map}function Od(s){for(var u=mn(s),R=u.length;R--;){var N=u[R],$=s[N];u[R]=[N,$,fm($)]}return u}function Ts(s,u){var R=nE(s,u);return Rv(R)?R:n}function jS(s){var u=Ot.call(s,_s),R=s[_s];try{s[_s]=n;var N=!0}catch{}var $=El.call(s);return N&&(u?s[_s]=R:delete s[_s]),$}var Pd=ad?function(s){return s==null?[]:(s=Mt(s),Pi(ad(s),function(u){return vv.call(s,u)}))}:Xd,um=ad?function(s){for(var u=[];s;)Bi(u,Pd(s)),s=wl(s);return u}:Xd,Cn=Rn;(ld&&Cn(new ld(new ArrayBuffer(1)))!=nt||ia&&Cn(new ia)!=ae||ud&&Cn(ud.resolve())!=xe||io&&Cn(new io)!=pe||sa&&Cn(new sa)!=Ke)&&(Cn=function(s){var u=Rn(s),R=u==_e?s.constructor:n,N=R?ws(R):"";if(N)switch(N){case xE:return nt;case IE:return ae;case RE:return xe;case LE:return pe;case DE:return Ke}return u});function WS(s,u,R){for(var N=-1,$=R.length;++N<$;){var q=R[N],te=q.size;switch(q.type){case"drop":s+=te;break;case"dropRight":u-=te;break;case"take":u=wn(u,s+te);break;case"takeRight":s=ln(s,u-te);break}}return{start:s,end:u}}function qS(s){var u=s.match(eb);return u?u[1].split(tb):[]}function cm(s,u,R){u=Vi(u,s);for(var N=-1,$=u.length,q=!1;++N<$;){var te=Yr(u[N]);if(!(q=s!=null&&R(s,te)))break;s=s[te]}return q||++N!=$?q:($=s==null?0:s.length,!!$&&Xl($)&&gi(te,$)&&(ot(s)||Cs(s)))}function YS(s){var u=s.length,R=new s.constructor(u);return u&&typeof s[0]=="string"&&Ot.call(s,"index")&&(R.index=s.index,R.input=s.input),R}function dm(s){return typeof s.constructor=="function"&&!ga(s)?oo(wl(s)):{}}function QS(s,u,R){var N=s.constructor;switch(u){case it:return kd(s);case ce:case me:return new N(+s);case nt:return OS(s,R);case _t:case Ft:case sn:case rt:case on:case ar:case Kt:case Qt:case In:return Wv(s,R);case ae:return new N;case fe:case Ne:return new N(s);case Ie:return PS(s);case pe:return new N;case Ae:return BS(s)}}function JS(s,u){var R=u.length;if(!R)return s;var N=R-1;return u[N]=(R>1?"& ":"")+u[N],u=u.join(R>2?", ":" "),s.replace(ZA,`{
/* [wrapped with `+u+`] */
`)}function XS(s){return ot(s)||Cs(s)||!!(mv&&s&&s[mv])}function gi(s,u){var R=typeof s;return u=u==null?V:u,!!u&&(R=="number"||R!="symbol"&&cb.test(s))&&s>-1&&s%1==0&&s<u}function Ln(s,u,R){if(!qt(R))return!1;var N=typeof u;return(N=="number"?Nn(R)&&gi(u,R.length):N=="string"&&u in R)?kr(R[u],s):!1}function Bd(s,u){if(ot(s))return!1;var R=typeof s;return R=="number"||R=="symbol"||R=="boolean"||s==null||er(s)?!0:YA.test(s)||!qA.test(s)||u!=null&&s in Mt(u)}function ZS(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function Fd(s){var u=Gl(s),R=G[u];if(typeof R!="function"||!(u in mt.prototype))return!1;if(s===R)return!0;var N=Dd(R);return!!N&&s===N[0]}function eT(s){return!!fv&&fv in s}var tT=Al?vi:Zd;function ga(s){var u=s&&s.constructor,R=typeof u=="function"&&u.prototype||ro;return s===R}function fm(s){return s===s&&!qt(s)}function hm(s,u){return function(R){return R==null?!1:R[s]===u&&(u!==n||s in Mt(R))}}function nT(s){var u=Ql(s,function(N){return R.size===a&&R.clear(),N}),R=u.cache;return u}function rT(s,u){var R=s[1],N=u[1],$=R|N,q=$<(d|_|x),te=N==x&&R==p||N==x&&R==k&&s[7].length<=u[8]||N==(x|k)&&u[7].length<=u[8]&&R==p;if(!(q||te))return s;N&d&&(s[2]=u[2],$|=R&d?0:v);var oe=u[3];if(oe){var de=s[3];s[3]=de?Yv(de,oe,u[4]):oe,s[4]=de?Fi(s[3],h):u[4]}return oe=u[5],oe&&(de=s[5],s[5]=de?Qv(de,oe,u[6]):oe,s[6]=de?Fi(s[5],h):u[6]),oe=u[7],oe&&(s[7]=oe),N&x&&(s[8]=s[8]==null?u[8]:wn(s[8],u[8])),s[9]==null&&(s[9]=u[9]),s[0]=u[0],s[1]=$,s}function iT(s){var u=[];if(s!=null)for(var R in Mt(s))u.push(R);return u}function sT(s){return El.call(s)}function gm(s,u,R){return u=ln(u===n?s.length-1:u,0),function(){for(var N=arguments,$=-1,q=ln(N.length-u,0),te=he(q);++$<q;)te[$]=N[u+$];$=-1;for(var oe=he(u+1);++$<u;)oe[$]=N[$];return oe[u]=R(te),Jn(s,this,oe)}}function vm(s,u){return u.length<2?s:Ss(s,gr(u,0,-1))}function oT(s,u){for(var R=s.length,N=wn(u.length,R),$=Mn(s);N--;){var q=u[N];s[N]=gi(q,R)?$[q]:n}return s}function Md(s,u){if(!(u==="constructor"&&typeof s[u]=="function")&&u!="__proto__")return s[u]}var mm=ym(Uv),va=bE||function(s,u){return An.setTimeout(s,u)},Nd=ym(IS);function pm(s,u,R){var N=u+"";return Nd(s,JS(N,aT(qS(N),R)))}function ym(s){var u=0,R=0;return function(){var N=wE(),$=D-(N-R);if(R=N,$>0){if(++u>=I)return arguments[0]}else u=0;return s.apply(n,arguments)}}function jl(s,u){var R=-1,N=s.length,$=N-1;for(u=u===n?N:u;++R<u;){var q=Ad(R,$),te=s[q];s[q]=s[R],s[R]=te}return s.length=u,s}var _m=nT(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(QA,function(R,N,$,q){u.push($?q.replace(ib,"$1"):N||R)}),u});function Yr(s){if(typeof s=="string"||er(s))return s;var u=s+"";return u=="0"&&1/s==-M?"-0":u}function ws(s){if(s!=null){try{return bl.call(s)}catch{}try{return s+""}catch{}}return""}function aT(s,u){return cr(ne,function(R){var N="_."+R[0];u&R[1]&&!ml(s,N)&&s.push(N)}),s.sort()}function Am(s){if(s instanceof mt)return s.clone();var u=new fr(s.__wrapped__,s.__chain__);return u.__actions__=Mn(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}function lT(s,u,R){(R?Ln(s,u,R):u===n)?u=1:u=ln(at(u),0);var N=s==null?0:s.length;if(!N||u<1)return[];for(var $=0,q=0,te=he(xl(N/u));$<N;)te[q++]=gr(s,$,$+=u);return te}function uT(s){for(var u=-1,R=s==null?0:s.length,N=0,$=[];++u<R;){var q=s[u];q&&($[N++]=q)}return $}function cT(){var s=arguments.length;if(!s)return[];for(var u=he(s-1),R=arguments[0],N=s;N--;)u[N-1]=arguments[N];return Bi(ot(R)?Mn(R):[R],bn(u,1))}var dT=dt(function(s,u){return Zt(s)?ua(s,bn(u,1,Zt,!0)):[]}),fT=dt(function(s,u){var R=vr(u);return Zt(R)&&(R=n),Zt(s)?ua(s,bn(u,1,Zt,!0),Qe(R,2)):[]}),hT=dt(function(s,u){var R=vr(u);return Zt(R)&&(R=n),Zt(s)?ua(s,bn(u,1,Zt,!0),n,R):[]});function gT(s,u,R){var N=s==null?0:s.length;return N?(u=R||u===n?1:at(u),gr(s,u<0?0:u,N)):[]}function vT(s,u,R){var N=s==null?0:s.length;return N?(u=R||u===n?1:at(u),u=N-u,gr(s,0,u<0?0:u)):[]}function mT(s,u){return s&&s.length?Nl(s,Qe(u,3),!0,!0):[]}function pT(s,u){return s&&s.length?Nl(s,Qe(u,3),!0):[]}function yT(s,u,R,N){var $=s==null?0:s.length;return $?(R&&typeof R!="number"&&Ln(s,u,R)&&(R=0,N=$),cS(s,u,R,N)):[]}function bm(s,u,R){var N=s==null?0:s.length;if(!N)return-1;var $=R==null?0:at(R);return $<0&&($=ln(N+$,0)),pl(s,Qe(u,3),$)}function Em(s,u,R){var N=s==null?0:s.length;if(!N)return-1;var $=N-1;return R!==n&&($=at(R),$=R<0?ln(N+$,0):wn($,N-1)),pl(s,Qe(u,3),$,!0)}function Sm(s){var u=s==null?0:s.length;return u?bn(s,1):[]}function _T(s){var u=s==null?0:s.length;return u?bn(s,M):[]}function AT(s,u){var R=s==null?0:s.length;return R?(u=u===n?1:at(u),bn(s,u)):[]}function bT(s){for(var u=-1,R=s==null?0:s.length,N={};++u<R;){var $=s[u];N[$[0]]=$[1]}return N}function Tm(s){return s&&s.length?s[0]:n}function ET(s,u,R){var N=s==null?0:s.length;if(!N)return-1;var $=R==null?0:at(R);return $<0&&($=ln(N+$,0)),Zs(s,u,$)}function ST(s){var u=s==null?0:s.length;return u?gr(s,0,-1):[]}var TT=dt(function(s){var u=jt(s,wd);return u.length&&u[0]===s[0]?vd(u):[]}),wT=dt(function(s){var u=vr(s),R=jt(s,wd);return u===vr(R)?u=n:R.pop(),R.length&&R[0]===s[0]?vd(R,Qe(u,2)):[]}),CT=dt(function(s){var u=vr(s),R=jt(s,wd);return u=typeof u=="function"?u:n,u&&R.pop(),R.length&&R[0]===s[0]?vd(R,n,u):[]});function kT(s,u){return s==null?"":SE.call(s,u)}function vr(s){var u=s==null?0:s.length;return u?s[u-1]:n}function xT(s,u,R){var N=s==null?0:s.length;if(!N)return-1;var $=N;return R!==n&&($=at(R),$=$<0?ln(N+$,0):wn($,N-1)),u===u?aE(s,u,$):pl(s,iv,$,!0)}function IT(s,u){return s&&s.length?Bv(s,at(u)):n}var RT=dt(wm);function wm(s,u){return s&&s.length&&u&&u.length?_d(s,u):s}function LT(s,u,R){return s&&s.length&&u&&u.length?_d(s,u,Qe(R,2)):s}function DT(s,u,R){return s&&s.length&&u&&u.length?_d(s,u,n,R):s}var OT=hi(function(s,u){var R=s==null?0:s.length,N=dd(s,u);return Nv(s,jt(u,function($){return gi($,R)?+$:$}).sort(qv)),N});function PT(s,u){var R=[];if(!(s&&s.length))return R;var N=-1,$=[],q=s.length;for(u=Qe(u,3);++N<q;){var te=s[N];u(te,N,s)&&(R.push(te),$.push(N))}return Nv(s,$),R}function Ud(s){return s==null?s:kE.call(s)}function BT(s,u,R){var N=s==null?0:s.length;return N?(R&&typeof R!="number"&&Ln(s,u,R)?(u=0,R=N):(u=u==null?0:at(u),R=R===n?N:at(R)),gr(s,u,R)):[]}function FT(s,u){return Ml(s,u)}function MT(s,u,R){return Ed(s,u,Qe(R,2))}function NT(s,u){var R=s==null?0:s.length;if(R){var N=Ml(s,u);if(N<R&&kr(s[N],u))return N}return-1}function UT(s,u){return Ml(s,u,!0)}function VT(s,u,R){return Ed(s,u,Qe(R,2),!0)}function zT(s,u){var R=s==null?0:s.length;if(R){var N=Ml(s,u,!0)-1;if(kr(s[N],u))return N}return-1}function $T(s){return s&&s.length?Vv(s):[]}function HT(s,u){return s&&s.length?Vv(s,Qe(u,2)):[]}function GT(s){var u=s==null?0:s.length;return u?gr(s,1,u):[]}function KT(s,u,R){return s&&s.length?(u=R||u===n?1:at(u),gr(s,0,u<0?0:u)):[]}function jT(s,u,R){var N=s==null?0:s.length;return N?(u=R||u===n?1:at(u),u=N-u,gr(s,u<0?0:u,N)):[]}function WT(s,u){return s&&s.length?Nl(s,Qe(u,3),!1,!0):[]}function qT(s,u){return s&&s.length?Nl(s,Qe(u,3)):[]}var YT=dt(function(s){return Ui(bn(s,1,Zt,!0))}),QT=dt(function(s){var u=vr(s);return Zt(u)&&(u=n),Ui(bn(s,1,Zt,!0),Qe(u,2))}),JT=dt(function(s){var u=vr(s);return u=typeof u=="function"?u:n,Ui(bn(s,1,Zt,!0),n,u)});function XT(s){return s&&s.length?Ui(s):[]}function ZT(s,u){return s&&s.length?Ui(s,Qe(u,2)):[]}function ew(s,u){return u=typeof u=="function"?u:n,s&&s.length?Ui(s,n,u):[]}function Vd(s){if(!(s&&s.length))return[];var u=0;return s=Pi(s,function(R){if(Zt(R))return u=ln(R.length,u),!0}),rd(u,function(R){return jt(s,ed(R))})}function Cm(s,u){if(!(s&&s.length))return[];var R=Vd(s);return u==null?R:jt(R,function(N){return Jn(u,n,N)})}var tw=dt(function(s,u){return Zt(s)?ua(s,u):[]}),nw=dt(function(s){return Td(Pi(s,Zt))}),rw=dt(function(s){var u=vr(s);return Zt(u)&&(u=n),Td(Pi(s,Zt),Qe(u,2))}),iw=dt(function(s){var u=vr(s);return u=typeof u=="function"?u:n,Td(Pi(s,Zt),n,u)}),sw=dt(Vd);function ow(s,u){return Gv(s||[],u||[],la)}function aw(s,u){return Gv(s||[],u||[],fa)}var lw=dt(function(s){var u=s.length,R=u>1?s[u-1]:n;return R=typeof R=="function"?(s.pop(),R):n,Cm(s,R)});function km(s){var u=G(s);return u.__chain__=!0,u}function uw(s,u){return u(s),s}function Wl(s,u){return u(s)}var cw=hi(function(s){var u=s.length,R=u?s[0]:0,N=this.__wrapped__,$=function(q){return dd(q,s)};return u>1||this.__actions__.length||!(N instanceof mt)||!gi(R)?this.thru($):(N=N.slice(R,+R+(u?1:0)),N.__actions__.push({func:Wl,args:[$],thisArg:n}),new fr(N,this.__chain__).thru(function(q){return u&&!q.length&&q.push(n),q}))});function dw(){return km(this)}function fw(){return new fr(this.value(),this.__chain__)}function hw(){this.__values__===n&&(this.__values__=zm(this.value()));var s=this.__index__>=this.__values__.length,u=s?n:this.__values__[this.__index__++];return{done:s,value:u}}function gw(){return this}function vw(s){for(var u,R=this;R instanceof Dl;){var N=Am(R);N.__index__=0,N.__values__=n,u?$.__wrapped__=N:u=N;var $=N;R=R.__wrapped__}return $.__wrapped__=s,u}function mw(){var s=this.__wrapped__;if(s instanceof mt){var u=s;return this.__actions__.length&&(u=new mt(this)),u=u.reverse(),u.__actions__.push({func:Wl,args:[Ud],thisArg:n}),new fr(u,this.__chain__)}return this.thru(Ud)}function pw(){return Hv(this.__wrapped__,this.__actions__)}var yw=Ul(function(s,u,R){Ot.call(s,R)?++s[R]:di(s,R,1)});function _w(s,u,R){var N=ot(s)?nv:uS;return R&&Ln(s,u,R)&&(u=n),N(s,Qe(u,3))}function Aw(s,u){var R=ot(s)?Pi:Cv;return R(s,Qe(u,3))}var bw=em(bm),Ew=em(Em);function Sw(s,u){return bn(ql(s,u),1)}function Tw(s,u){return bn(ql(s,u),M)}function ww(s,u,R){return R=R===n?1:at(R),bn(ql(s,u),R)}function xm(s,u){var R=ot(s)?cr:Ni;return R(s,Qe(u,3))}function Im(s,u){var R=ot(s)?Gb:wv;return R(s,Qe(u,3))}var Cw=Ul(function(s,u,R){Ot.call(s,R)?s[R].push(u):di(s,R,[u])});function kw(s,u,R,N){s=Nn(s)?s:fo(s),R=R&&!N?at(R):0;var $=s.length;return R<0&&(R=ln($+R,0)),Zl(s)?R<=$&&s.indexOf(u,R)>-1:!!$&&Zs(s,u,R)>-1}var xw=dt(function(s,u,R){var N=-1,$=typeof u=="function",q=Nn(s)?he(s.length):[];return Ni(s,function(te){q[++N]=$?Jn(u,te,R):ca(te,u,R)}),q}),Iw=Ul(function(s,u,R){di(s,R,u)});function ql(s,u){var R=ot(s)?jt:Dv;return R(s,Qe(u,3))}function Rw(s,u,R,N){return s==null?[]:(ot(u)||(u=u==null?[]:[u]),R=N?n:R,ot(R)||(R=R==null?[]:[R]),Fv(s,u,R))}var Lw=Ul(function(s,u,R){s[R?0:1].push(u)},function(){return[[],[]]});function Dw(s,u,R){var N=ot(s)?Xc:ov,$=arguments.length<3;return N(s,Qe(u,4),R,$,Ni)}function Ow(s,u,R){var N=ot(s)?Kb:ov,$=arguments.length<3;return N(s,Qe(u,4),R,$,wv)}function Pw(s,u){var R=ot(s)?Pi:Cv;return R(s,Jl(Qe(u,3)))}function Bw(s){var u=ot(s)?bv:kS;return u(s)}function Fw(s,u,R){(R?Ln(s,u,R):u===n)?u=1:u=at(u);var N=ot(s)?iS:xS;return N(s,u)}function Mw(s){var u=ot(s)?sS:RS;return u(s)}function Nw(s){if(s==null)return 0;if(Nn(s))return Zl(s)?to(s):s.length;var u=Cn(s);return u==ae||u==pe?s.size:pd(s).length}function Uw(s,u,R){var N=ot(s)?Zc:LS;return R&&Ln(s,u,R)&&(u=n),N(s,Qe(u,3))}var Vw=dt(function(s,u){if(s==null)return[];var R=u.length;return R>1&&Ln(s,u[0],u[1])?u=[]:R>2&&Ln(u[0],u[1],u[2])&&(u=[u[0]]),Fv(s,bn(u,1),[])}),Yl=AE||function(){return An.Date.now()};function zw(s,u){if(typeof u!="function")throw new dr(l);return s=at(s),function(){if(--s<1)return u.apply(this,arguments)}}function Rm(s,u,R){return u=R?n:u,u=s&&u==null?s.length:u,fi(s,x,n,n,n,n,u)}function Lm(s,u){var R;if(typeof u!="function")throw new dr(l);return s=at(s),function(){return--s>0&&(R=u.apply(this,arguments)),s<=1&&(u=n),R}}var zd=dt(function(s,u,R){var N=d;if(R.length){var $=Fi(R,uo(zd));N|=b}return fi(s,N,u,R,$)}),Dm=dt(function(s,u,R){var N=d|_;if(R.length){var $=Fi(R,uo(Dm));N|=b}return fi(u,N,s,R,$)});function Om(s,u,R){u=R?n:u;var N=fi(s,p,n,n,n,n,n,u);return N.placeholder=Om.placeholder,N}function Pm(s,u,R){u=R?n:u;var N=fi(s,A,n,n,n,n,n,u);return N.placeholder=Pm.placeholder,N}function Bm(s,u,R){var N,$,q,te,oe,de,be=0,Ee=!1,ke=!1,Ve=!0;if(typeof s!="function")throw new dr(l);u=mr(u)||0,qt(R)&&(Ee=!!R.leading,ke="maxWait"in R,q=ke?ln(mr(R.maxWait)||0,u):q,Ve="trailing"in R?!!R.trailing:Ve);function je(en){var xr=N,pi=$;return N=$=n,be=en,te=s.apply(pi,xr),te}function Je(en){return be=en,oe=va(vt,u),Ee?je(en):te}function ct(en){var xr=en-de,pi=en-be,ep=u-xr;return ke?wn(ep,q-pi):ep}function Xe(en){var xr=en-de,pi=en-be;return de===n||xr>=u||xr<0||ke&&pi>=q}function vt(){var en=Yl();if(Xe(en))return At(en);oe=va(vt,ct(en))}function At(en){return oe=n,Ve&&N?je(en):(N=$=n,te)}function tr(){oe!==n&&Kv(oe),be=0,N=de=$=oe=n}function Dn(){return oe===n?te:At(Yl())}function nr(){var en=Yl(),xr=Xe(en);if(N=arguments,$=this,de=en,xr){if(oe===n)return Je(de);if(ke)return Kv(oe),oe=va(vt,u),je(de)}return oe===n&&(oe=va(vt,u)),te}return nr.cancel=tr,nr.flush=Dn,nr}var $w=dt(function(s,u){return Tv(s,1,u)}),Hw=dt(function(s,u,R){return Tv(s,mr(u)||0,R)});function Gw(s){return fi(s,L)}function Ql(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new dr(l);var R=function(){var N=arguments,$=u?u.apply(this,N):N[0],q=R.cache;if(q.has($))return q.get($);var te=s.apply(this,N);return R.cache=q.set($,te)||q,te};return R.cache=new(Ql.Cache||ci),R}Ql.Cache=ci;function Jl(s){if(typeof s!="function")throw new dr(l);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}function Kw(s){return Lm(2,s)}var jw=DS(function(s,u){u=u.length==1&&ot(u[0])?jt(u[0],Xn(Qe())):jt(bn(u,1),Xn(Qe()));var R=u.length;return dt(function(N){for(var $=-1,q=wn(N.length,R);++$<q;)N[$]=u[$].call(this,N[$]);return Jn(s,this,N)})}),$d=dt(function(s,u){var R=Fi(u,uo($d));return fi(s,b,n,u,R)}),Fm=dt(function(s,u){var R=Fi(u,uo(Fm));return fi(s,E,n,u,R)}),Ww=hi(function(s,u){return fi(s,k,n,n,n,u)});function qw(s,u){if(typeof s!="function")throw new dr(l);return u=u===n?u:at(u),dt(s,u)}function Yw(s,u){if(typeof s!="function")throw new dr(l);return u=u==null?0:ln(at(u),0),dt(function(R){var N=R[u],$=zi(R,0,u);return N&&Bi($,N),Jn(s,this,$)})}function Qw(s,u,R){var N=!0,$=!0;if(typeof s!="function")throw new dr(l);return qt(R)&&(N="leading"in R?!!R.leading:N,$="trailing"in R?!!R.trailing:$),Bm(s,u,{leading:N,maxWait:u,trailing:$})}function Jw(s){return Rm(s,1)}function Xw(s,u){return $d(Cd(u),s)}function Zw(){if(!arguments.length)return[];var s=arguments[0];return ot(s)?s:[s]}function eC(s){return hr(s,w)}function tC(s,u){return u=typeof u=="function"?u:n,hr(s,w,u)}function nC(s){return hr(s,m|w)}function rC(s,u){return u=typeof u=="function"?u:n,hr(s,m|w,u)}function iC(s,u){return u==null||Sv(s,u,mn(u))}function kr(s,u){return s===u||s!==s&&u!==u}var sC=Hl(gd),oC=Hl(function(s,u){return s>=u}),Cs=Iv(function(){return arguments}())?Iv:function(s){return Jt(s)&&Ot.call(s,"callee")&&!vv.call(s,"callee")},ot=he.isArray,aC=Qg?Xn(Qg):vS;function Nn(s){return s!=null&&Xl(s.length)&&!vi(s)}function Zt(s){return Jt(s)&&Nn(s)}function lC(s){return s===!0||s===!1||Jt(s)&&Rn(s)==ce}var $i=EE||Zd,uC=Jg?Xn(Jg):mS;function cC(s){return Jt(s)&&s.nodeType===1&&!ma(s)}function dC(s){if(s==null)return!0;if(Nn(s)&&(ot(s)||typeof s=="string"||typeof s.splice=="function"||$i(s)||co(s)||Cs(s)))return!s.length;var u=Cn(s);if(u==ae||u==pe)return!s.size;if(ga(s))return!pd(s).length;for(var R in s)if(Ot.call(s,R))return!1;return!0}function fC(s,u){return da(s,u)}function hC(s,u,R){R=typeof R=="function"?R:n;var N=R?R(s,u):n;return N===n?da(s,u,n,R):!!N}function Hd(s){if(!Jt(s))return!1;var u=Rn(s);return u==Oe||u==Fe||typeof s.message=="string"&&typeof s.name=="string"&&!ma(s)}function gC(s){return typeof s=="number"&&pv(s)}function vi(s){if(!qt(s))return!1;var u=Rn(s);return u==Y||u==ee||u==se||u==Te}function Mm(s){return typeof s=="number"&&s==at(s)}function Xl(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=V}function qt(s){var u=typeof s;return s!=null&&(u=="object"||u=="function")}function Jt(s){return s!=null&&typeof s=="object"}var Nm=Xg?Xn(Xg):yS;function vC(s,u){return s===u||md(s,u,Od(u))}function mC(s,u,R){return R=typeof R=="function"?R:n,md(s,u,Od(u),R)}function pC(s){return Um(s)&&s!=+s}function yC(s){if(tT(s))throw new st(o);return Rv(s)}function _C(s){return s===null}function AC(s){return s==null}function Um(s){return typeof s=="number"||Jt(s)&&Rn(s)==fe}function ma(s){if(!Jt(s)||Rn(s)!=_e)return!1;var u=wl(s);if(u===null)return!0;var R=Ot.call(u,"constructor")&&u.constructor;return typeof R=="function"&&R instanceof R&&bl.call(R)==mE}var Gd=Zg?Xn(Zg):_S;function bC(s){return Mm(s)&&s>=-V&&s<=V}var Vm=ev?Xn(ev):AS;function Zl(s){return typeof s=="string"||!ot(s)&&Jt(s)&&Rn(s)==Ne}function er(s){return typeof s=="symbol"||Jt(s)&&Rn(s)==Ae}var co=tv?Xn(tv):bS;function EC(s){return s===n}function SC(s){return Jt(s)&&Cn(s)==Ke}function TC(s){return Jt(s)&&Rn(s)==Ye}var wC=Hl(yd),CC=Hl(function(s,u){return s<=u});function zm(s){if(!s)return[];if(Nn(s))return Zl(s)?wr(s):Mn(s);if(ra&&s[ra])return iE(s[ra]());var u=Cn(s),R=u==ae?sd:u==pe?yl:fo;return R(s)}function mi(s){if(!s)return s===0?s:0;if(s=mr(s),s===M||s===-M){var u=s<0?-1:1;return u*H}return s===s?s:0}function at(s){var u=mi(s),R=u%1;return u===u?R?u-R:u:0}function $m(s){return s?Es(at(s),0,j):0}function mr(s){if(typeof s=="number")return s;if(er(s))return z;if(qt(s)){var u=typeof s.valueOf=="function"?s.valueOf():s;s=qt(u)?u+"":u}if(typeof s!="string")return s===0?s:+s;s=av(s);var R=ab.test(s);return R||ub.test(s)?zb(s.slice(2),R?2:8):ob.test(s)?z:+s}function Hm(s){return qr(s,Un(s))}function kC(s){return s?Es(at(s),-V,V):s===0?s:0}function Dt(s){return s==null?"":Zn(s)}var xC=ao(function(s,u){if(ga(u)||Nn(u)){qr(u,mn(u),s);return}for(var R in u)Ot.call(u,R)&&la(s,R,u[R])}),Gm=ao(function(s,u){qr(u,Un(u),s)}),eu=ao(function(s,u,R,N){qr(u,Un(u),s,N)}),IC=ao(function(s,u,R,N){qr(u,mn(u),s,N)}),RC=hi(dd);function LC(s,u){var R=oo(s);return u==null?R:Ev(R,u)}var DC=dt(function(s,u){s=Mt(s);var R=-1,N=u.length,$=N>2?u[2]:n;for($&&Ln(u[0],u[1],$)&&(N=1);++R<N;)for(var q=u[R],te=Un(q),oe=-1,de=te.length;++oe<de;){var be=te[oe],Ee=s[be];(Ee===n||kr(Ee,ro[be])&&!Ot.call(s,be))&&(s[be]=q[be])}return s}),OC=dt(function(s){return s.push(n,am),Jn(Km,n,s)});function PC(s,u){return rv(s,Qe(u,3),Wr)}function BC(s,u){return rv(s,Qe(u,3),hd)}function FC(s,u){return s==null?s:fd(s,Qe(u,3),Un)}function MC(s,u){return s==null?s:kv(s,Qe(u,3),Un)}function NC(s,u){return s&&Wr(s,Qe(u,3))}function UC(s,u){return s&&hd(s,Qe(u,3))}function VC(s){return s==null?[]:Bl(s,mn(s))}function zC(s){return s==null?[]:Bl(s,Un(s))}function Kd(s,u,R){var N=s==null?n:Ss(s,u);return N===n?R:N}function $C(s,u){return s!=null&&cm(s,u,dS)}function jd(s,u){return s!=null&&cm(s,u,fS)}var HC=nm(function(s,u,R){u!=null&&typeof u.toString!="function"&&(u=El.call(u)),s[u]=R},qd(Vn)),GC=nm(function(s,u,R){u!=null&&typeof u.toString!="function"&&(u=El.call(u)),Ot.call(s,u)?s[u].push(R):s[u]=[R]},Qe),KC=dt(ca);function mn(s){return Nn(s)?Av(s):pd(s)}function Un(s){return Nn(s)?Av(s,!0):ES(s)}function jC(s,u){var R={};return u=Qe(u,3),Wr(s,function(N,$,q){di(R,u(N,$,q),N)}),R}function WC(s,u){var R={};return u=Qe(u,3),Wr(s,function(N,$,q){di(R,$,u(N,$,q))}),R}var qC=ao(function(s,u,R){Fl(s,u,R)}),Km=ao(function(s,u,R,N){Fl(s,u,R,N)}),YC=hi(function(s,u){var R={};if(s==null)return R;var N=!1;u=jt(u,function(q){return q=Vi(q,s),N||(N=q.length>1),q}),qr(s,Ld(s),R),N&&(R=hr(R,m|g|w,HS));for(var $=u.length;$--;)Sd(R,u[$]);return R});function QC(s,u){return jm(s,Jl(Qe(u)))}var JC=hi(function(s,u){return s==null?{}:TS(s,u)});function jm(s,u){if(s==null)return{};var R=jt(Ld(s),function(N){return[N]});return u=Qe(u),Mv(s,R,function(N,$){return u(N,$[0])})}function XC(s,u,R){u=Vi(u,s);var N=-1,$=u.length;for($||($=1,s=n);++N<$;){var q=s==null?n:s[Yr(u[N])];q===n&&(N=$,q=R),s=vi(q)?q.call(s):q}return s}function ZC(s,u,R){return s==null?s:fa(s,u,R)}function ek(s,u,R,N){return N=typeof N=="function"?N:n,s==null?s:fa(s,u,R,N)}var Wm=sm(mn),qm=sm(Un);function tk(s,u,R){var N=ot(s),$=N||$i(s)||co(s);if(u=Qe(u,4),R==null){var q=s&&s.constructor;$?R=N?new q:[]:qt(s)?R=vi(q)?oo(wl(s)):{}:R={}}return($?cr:Wr)(s,function(te,oe,de){return u(R,te,oe,de)}),R}function nk(s,u){return s==null?!0:Sd(s,u)}function rk(s,u,R){return s==null?s:$v(s,u,Cd(R))}function ik(s,u,R,N){return N=typeof N=="function"?N:n,s==null?s:$v(s,u,Cd(R),N)}function fo(s){return s==null?[]:id(s,mn(s))}function sk(s){return s==null?[]:id(s,Un(s))}function ok(s,u,R){return R===n&&(R=u,u=n),R!==n&&(R=mr(R),R=R===R?R:0),u!==n&&(u=mr(u),u=u===u?u:0),Es(mr(s),u,R)}function ak(s,u,R){return u=mi(u),R===n?(R=u,u=0):R=mi(R),s=mr(s),hS(s,u,R)}function lk(s,u,R){if(R&&typeof R!="boolean"&&Ln(s,u,R)&&(u=R=n),R===n&&(typeof u=="boolean"?(R=u,u=n):typeof s=="boolean"&&(R=s,s=n)),s===n&&u===n?(s=0,u=1):(s=mi(s),u===n?(u=s,s=0):u=mi(u)),s>u){var N=s;s=u,u=N}if(R||s%1||u%1){var $=yv();return wn(s+$*(u-s+Vb("1e-"+(($+"").length-1))),u)}return Ad(s,u)}var uk=lo(function(s,u,R){return u=u.toLowerCase(),s+(R?Ym(u):u)});function Ym(s){return Wd(Dt(s).toLowerCase())}function Qm(s){return s=Dt(s),s&&s.replace(db,Zb).replace(Rb,"")}function ck(s,u,R){s=Dt(s),u=Zn(u);var N=s.length;R=R===n?N:Es(at(R),0,N);var $=R;return R-=u.length,R>=0&&s.slice(R,$)==u}function dk(s){return s=Dt(s),s&&KA.test(s)?s.replace(fl,eE):s}function fk(s){return s=Dt(s),s&&JA.test(s)?s.replace($c,"\\$&"):s}var hk=lo(function(s,u,R){return s+(R?"-":"")+u.toLowerCase()}),gk=lo(function(s,u,R){return s+(R?" ":"")+u.toLowerCase()}),vk=Zv("toLowerCase");function mk(s,u,R){s=Dt(s),u=at(u);var N=u?to(s):0;if(!u||N>=u)return s;var $=(u-N)/2;return $l(Il($),R)+s+$l(xl($),R)}function pk(s,u,R){s=Dt(s),u=at(u);var N=u?to(s):0;return u&&N<u?s+$l(u-N,R):s}function yk(s,u,R){s=Dt(s),u=at(u);var N=u?to(s):0;return u&&N<u?$l(u-N,R)+s:s}function _k(s,u,R){return R||u==null?u=0:u&&(u=+u),CE(Dt(s).replace(Hc,""),u||0)}function Ak(s,u,R){return(R?Ln(s,u,R):u===n)?u=1:u=at(u),bd(Dt(s),u)}function bk(){var s=arguments,u=Dt(s[0]);return s.length<3?u:u.replace(s[1],s[2])}var Ek=lo(function(s,u,R){return s+(R?"_":"")+u.toLowerCase()});function Sk(s,u,R){return R&&typeof R!="number"&&Ln(s,u,R)&&(u=R=n),R=R===n?j:R>>>0,R?(s=Dt(s),s&&(typeof u=="string"||u!=null&&!Gd(u))&&(u=Zn(u),!u&&eo(s))?zi(wr(s),0,R):s.split(u,R)):[]}var Tk=lo(function(s,u,R){return s+(R?" ":"")+Wd(u)});function wk(s,u,R){return s=Dt(s),R=R==null?0:Es(at(R),0,s.length),u=Zn(u),s.slice(R,R+u.length)==u}function Ck(s,u,R){var N=G.templateSettings;R&&Ln(s,u,R)&&(u=n),s=Dt(s),u=eu({},u,N,om);var $=eu({},u.imports,N.imports,om),q=mn($),te=id($,q),oe,de,be=0,Ee=u.interpolate||hl,ke="__p += '",Ve=od((u.escape||hl).source+"|"+Ee.source+"|"+(Ee===xg?sb:hl).source+"|"+(u.evaluate||hl).source+"|$","g"),je="//# sourceURL="+(Ot.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bb+"]")+`
`;s.replace(Ve,function(Xe,vt,At,tr,Dn,nr){return At||(At=tr),ke+=s.slice(be,nr).replace(fb,tE),vt&&(oe=!0,ke+=`' +
__e(`+vt+`) +
'`),Dn&&(de=!0,ke+=`';
`+Dn+`;
__p += '`),At&&(ke+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),be=nr+Xe.length,Xe}),ke+=`';
`;var Je=Ot.call(u,"variable")&&u.variable;if(!Je)ke=`with (obj) {
`+ke+`
}
`;else if(rb.test(Je))throw new st(f);ke=(de?ke.replace(ai,""):ke).replace(lr,"$1").replace(li,"$1;"),ke="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ke+`return __p
}`;var ct=Xm(function(){return Rt(q,je+"return "+ke).apply(n,te)});if(ct.source=ke,Hd(ct))throw ct;return ct}function kk(s){return Dt(s).toLowerCase()}function xk(s){return Dt(s).toUpperCase()}function Ik(s,u,R){if(s=Dt(s),s&&(R||u===n))return av(s);if(!s||!(u=Zn(u)))return s;var N=wr(s),$=wr(u),q=lv(N,$),te=uv(N,$)+1;return zi(N,q,te).join("")}function Rk(s,u,R){if(s=Dt(s),s&&(R||u===n))return s.slice(0,dv(s)+1);if(!s||!(u=Zn(u)))return s;var N=wr(s),$=uv(N,wr(u))+1;return zi(N,0,$).join("")}function Lk(s,u,R){if(s=Dt(s),s&&(R||u===n))return s.replace(Hc,"");if(!s||!(u=Zn(u)))return s;var N=wr(s),$=lv(N,wr(u));return zi(N,$).join("")}function Dk(s,u){var R=S,N=C;if(qt(u)){var $="separator"in u?u.separator:$;R="length"in u?at(u.length):R,N="omission"in u?Zn(u.omission):N}s=Dt(s);var q=s.length;if(eo(s)){var te=wr(s);q=te.length}if(R>=q)return s;var oe=R-to(N);if(oe<1)return N;var de=te?zi(te,0,oe).join(""):s.slice(0,oe);if($===n)return de+N;if(te&&(oe+=de.length-oe),Gd($)){if(s.slice(oe).search($)){var be,Ee=de;for($.global||($=od($.source,Dt(Ig.exec($))+"g")),$.lastIndex=0;be=$.exec(Ee);)var ke=be.index;de=de.slice(0,ke===n?oe:ke)}}else if(s.indexOf(Zn($),oe)!=oe){var Ve=de.lastIndexOf($);Ve>-1&&(de=de.slice(0,Ve))}return de+N}function Ok(s){return s=Dt(s),s&&GA.test(s)?s.replace(dl,lE):s}var Pk=lo(function(s,u,R){return s+(R?" ":"")+u.toUpperCase()}),Wd=Zv("toUpperCase");function Jm(s,u,R){return s=Dt(s),u=R?n:u,u===n?rE(s)?dE(s):qb(s):s.match(u)||[]}var Xm=dt(function(s,u){try{return Jn(s,n,u)}catch(R){return Hd(R)?R:new st(R)}}),Bk=hi(function(s,u){return cr(u,function(R){R=Yr(R),di(s,R,zd(s[R],s))}),s});function Fk(s){var u=s==null?0:s.length,R=Qe();return s=u?jt(s,function(N){if(typeof N[1]!="function")throw new dr(l);return[R(N[0]),N[1]]}):[],dt(function(N){for(var $=-1;++$<u;){var q=s[$];if(Jn(q[0],this,N))return Jn(q[1],this,N)}})}function Mk(s){return lS(hr(s,m))}function qd(s){return function(){return s}}function Nk(s,u){return s==null||s!==s?u:s}var Uk=tm(),Vk=tm(!0);function Vn(s){return s}function Yd(s){return Lv(typeof s=="function"?s:hr(s,m))}function zk(s){return Ov(hr(s,m))}function $k(s,u){return Pv(s,hr(u,m))}var Hk=dt(function(s,u){return function(R){return ca(R,s,u)}}),Gk=dt(function(s,u){return function(R){return ca(s,R,u)}});function Qd(s,u,R){var N=mn(u),$=Bl(u,N);R==null&&!(qt(u)&&($.length||!N.length))&&(R=u,u=s,s=this,$=Bl(u,mn(u)));var q=!(qt(R)&&"chain"in R)||!!R.chain,te=vi(s);return cr($,function(oe){var de=u[oe];s[oe]=de,te&&(s.prototype[oe]=function(){var be=this.__chain__;if(q||be){var Ee=s(this.__wrapped__),ke=Ee.__actions__=Mn(this.__actions__);return ke.push({func:de,args:arguments,thisArg:s}),Ee.__chain__=be,Ee}return de.apply(s,Bi([this.value()],arguments))})}),s}function Kk(){return An._===this&&(An._=pE),this}function Jd(){}function jk(s){return s=at(s),dt(function(u){return Bv(u,s)})}var Wk=xd(jt),qk=xd(nv),Yk=xd(Zc);function Zm(s){return Bd(s)?ed(Yr(s)):wS(s)}function Qk(s){return function(u){return s==null?n:Ss(s,u)}}var Jk=rm(),Xk=rm(!0);function Xd(){return[]}function Zd(){return!1}function Zk(){return{}}function ex(){return""}function tx(){return!0}function nx(s,u){if(s=at(s),s<1||s>V)return[];var R=j,N=wn(s,j);u=Qe(u),s-=j;for(var $=rd(N,u);++R<s;)u(R);return $}function rx(s){return ot(s)?jt(s,Yr):er(s)?[s]:Mn(_m(Dt(s)))}function ix(s){var u=++vE;return Dt(s)+u}var sx=zl(function(s,u){return s+u},0),ox=Id("ceil"),ax=zl(function(s,u){return s/u},1),lx=Id("floor");function ux(s){return s&&s.length?Pl(s,Vn,gd):n}function cx(s,u){return s&&s.length?Pl(s,Qe(u,2),gd):n}function dx(s){return sv(s,Vn)}function fx(s,u){return sv(s,Qe(u,2))}function hx(s){return s&&s.length?Pl(s,Vn,yd):n}function gx(s,u){return s&&s.length?Pl(s,Qe(u,2),yd):n}var vx=zl(function(s,u){return s*u},1),mx=Id("round"),px=zl(function(s,u){return s-u},0);function yx(s){return s&&s.length?nd(s,Vn):0}function _x(s,u){return s&&s.length?nd(s,Qe(u,2)):0}return G.after=zw,G.ary=Rm,G.assign=xC,G.assignIn=Gm,G.assignInWith=eu,G.assignWith=IC,G.at=RC,G.before=Lm,G.bind=zd,G.bindAll=Bk,G.bindKey=Dm,G.castArray=Zw,G.chain=km,G.chunk=lT,G.compact=uT,G.concat=cT,G.cond=Fk,G.conforms=Mk,G.constant=qd,G.countBy=yw,G.create=LC,G.curry=Om,G.curryRight=Pm,G.debounce=Bm,G.defaults=DC,G.defaultsDeep=OC,G.defer=$w,G.delay=Hw,G.difference=dT,G.differenceBy=fT,G.differenceWith=hT,G.drop=gT,G.dropRight=vT,G.dropRightWhile=mT,G.dropWhile=pT,G.fill=yT,G.filter=Aw,G.flatMap=Sw,G.flatMapDeep=Tw,G.flatMapDepth=ww,G.flatten=Sm,G.flattenDeep=_T,G.flattenDepth=AT,G.flip=Gw,G.flow=Uk,G.flowRight=Vk,G.fromPairs=bT,G.functions=VC,G.functionsIn=zC,G.groupBy=Cw,G.initial=ST,G.intersection=TT,G.intersectionBy=wT,G.intersectionWith=CT,G.invert=HC,G.invertBy=GC,G.invokeMap=xw,G.iteratee=Yd,G.keyBy=Iw,G.keys=mn,G.keysIn=Un,G.map=ql,G.mapKeys=jC,G.mapValues=WC,G.matches=zk,G.matchesProperty=$k,G.memoize=Ql,G.merge=qC,G.mergeWith=Km,G.method=Hk,G.methodOf=Gk,G.mixin=Qd,G.negate=Jl,G.nthArg=jk,G.omit=YC,G.omitBy=QC,G.once=Kw,G.orderBy=Rw,G.over=Wk,G.overArgs=jw,G.overEvery=qk,G.overSome=Yk,G.partial=$d,G.partialRight=Fm,G.partition=Lw,G.pick=JC,G.pickBy=jm,G.property=Zm,G.propertyOf=Qk,G.pull=RT,G.pullAll=wm,G.pullAllBy=LT,G.pullAllWith=DT,G.pullAt=OT,G.range=Jk,G.rangeRight=Xk,G.rearg=Ww,G.reject=Pw,G.remove=PT,G.rest=qw,G.reverse=Ud,G.sampleSize=Fw,G.set=ZC,G.setWith=ek,G.shuffle=Mw,G.slice=BT,G.sortBy=Vw,G.sortedUniq=$T,G.sortedUniqBy=HT,G.split=Sk,G.spread=Yw,G.tail=GT,G.take=KT,G.takeRight=jT,G.takeRightWhile=WT,G.takeWhile=qT,G.tap=uw,G.throttle=Qw,G.thru=Wl,G.toArray=zm,G.toPairs=Wm,G.toPairsIn=qm,G.toPath=rx,G.toPlainObject=Hm,G.transform=tk,G.unary=Jw,G.union=YT,G.unionBy=QT,G.unionWith=JT,G.uniq=XT,G.uniqBy=ZT,G.uniqWith=ew,G.unset=nk,G.unzip=Vd,G.unzipWith=Cm,G.update=rk,G.updateWith=ik,G.values=fo,G.valuesIn=sk,G.without=tw,G.words=Jm,G.wrap=Xw,G.xor=nw,G.xorBy=rw,G.xorWith=iw,G.zip=sw,G.zipObject=ow,G.zipObjectDeep=aw,G.zipWith=lw,G.entries=Wm,G.entriesIn=qm,G.extend=Gm,G.extendWith=eu,Qd(G,G),G.add=sx,G.attempt=Xm,G.camelCase=uk,G.capitalize=Ym,G.ceil=ox,G.clamp=ok,G.clone=eC,G.cloneDeep=nC,G.cloneDeepWith=rC,G.cloneWith=tC,G.conformsTo=iC,G.deburr=Qm,G.defaultTo=Nk,G.divide=ax,G.endsWith=ck,G.eq=kr,G.escape=dk,G.escapeRegExp=fk,G.every=_w,G.find=bw,G.findIndex=bm,G.findKey=PC,G.findLast=Ew,G.findLastIndex=Em,G.findLastKey=BC,G.floor=lx,G.forEach=xm,G.forEachRight=Im,G.forIn=FC,G.forInRight=MC,G.forOwn=NC,G.forOwnRight=UC,G.get=Kd,G.gt=sC,G.gte=oC,G.has=$C,G.hasIn=jd,G.head=Tm,G.identity=Vn,G.includes=kw,G.indexOf=ET,G.inRange=ak,G.invoke=KC,G.isArguments=Cs,G.isArray=ot,G.isArrayBuffer=aC,G.isArrayLike=Nn,G.isArrayLikeObject=Zt,G.isBoolean=lC,G.isBuffer=$i,G.isDate=uC,G.isElement=cC,G.isEmpty=dC,G.isEqual=fC,G.isEqualWith=hC,G.isError=Hd,G.isFinite=gC,G.isFunction=vi,G.isInteger=Mm,G.isLength=Xl,G.isMap=Nm,G.isMatch=vC,G.isMatchWith=mC,G.isNaN=pC,G.isNative=yC,G.isNil=AC,G.isNull=_C,G.isNumber=Um,G.isObject=qt,G.isObjectLike=Jt,G.isPlainObject=ma,G.isRegExp=Gd,G.isSafeInteger=bC,G.isSet=Vm,G.isString=Zl,G.isSymbol=er,G.isTypedArray=co,G.isUndefined=EC,G.isWeakMap=SC,G.isWeakSet=TC,G.join=kT,G.kebabCase=hk,G.last=vr,G.lastIndexOf=xT,G.lowerCase=gk,G.lowerFirst=vk,G.lt=wC,G.lte=CC,G.max=ux,G.maxBy=cx,G.mean=dx,G.meanBy=fx,G.min=hx,G.minBy=gx,G.stubArray=Xd,G.stubFalse=Zd,G.stubObject=Zk,G.stubString=ex,G.stubTrue=tx,G.multiply=vx,G.nth=IT,G.noConflict=Kk,G.noop=Jd,G.now=Yl,G.pad=mk,G.padEnd=pk,G.padStart=yk,G.parseInt=_k,G.random=lk,G.reduce=Dw,G.reduceRight=Ow,G.repeat=Ak,G.replace=bk,G.result=XC,G.round=mx,G.runInContext=ue,G.sample=Bw,G.size=Nw,G.snakeCase=Ek,G.some=Uw,G.sortedIndex=FT,G.sortedIndexBy=MT,G.sortedIndexOf=NT,G.sortedLastIndex=UT,G.sortedLastIndexBy=VT,G.sortedLastIndexOf=zT,G.startCase=Tk,G.startsWith=wk,G.subtract=px,G.sum=yx,G.sumBy=_x,G.template=Ck,G.times=nx,G.toFinite=mi,G.toInteger=at,G.toLength=$m,G.toLower=kk,G.toNumber=mr,G.toSafeInteger=kC,G.toString=Dt,G.toUpper=xk,G.trim=Ik,G.trimEnd=Rk,G.trimStart=Lk,G.truncate=Dk,G.unescape=Ok,G.uniqueId=ix,G.upperCase=Pk,G.upperFirst=Wd,G.each=xm,G.eachRight=Im,G.first=Tm,Qd(G,function(){var s={};return Wr(G,function(u,R){Ot.call(G.prototype,R)||(s[R]=u)}),s}(),{chain:!1}),G.VERSION=r,cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){G[s].placeholder=G}),cr(["drop","take"],function(s,u){mt.prototype[s]=function(R){R=R===n?1:ln(at(R),0);var N=this.__filtered__&&!u?new mt(this):this.clone();return N.__filtered__?N.__takeCount__=wn(R,N.__takeCount__):N.__views__.push({size:wn(R,j),type:s+(N.__dir__<0?"Right":"")}),N},mt.prototype[s+"Right"]=function(R){return this.reverse()[s](R).reverse()}}),cr(["filter","map","takeWhile"],function(s,u){var R=u+1,N=R==P||R==U;mt.prototype[s]=function($){var q=this.clone();return q.__iteratees__.push({iteratee:Qe($,3),type:R}),q.__filtered__=q.__filtered__||N,q}}),cr(["head","last"],function(s,u){var R="take"+(u?"Right":"");mt.prototype[s]=function(){return this[R](1).value()[0]}}),cr(["initial","tail"],function(s,u){var R="drop"+(u?"":"Right");mt.prototype[s]=function(){return this.__filtered__?new mt(this):this[R](1)}}),mt.prototype.compact=function(){return this.filter(Vn)},mt.prototype.find=function(s){return this.filter(s).head()},mt.prototype.findLast=function(s){return this.reverse().find(s)},mt.prototype.invokeMap=dt(function(s,u){return typeof s=="function"?new mt(this):this.map(function(R){return ca(R,s,u)})}),mt.prototype.reject=function(s){return this.filter(Jl(Qe(s)))},mt.prototype.slice=function(s,u){s=at(s);var R=this;return R.__filtered__&&(s>0||u<0)?new mt(R):(s<0?R=R.takeRight(-s):s&&(R=R.drop(s)),u!==n&&(u=at(u),R=u<0?R.dropRight(-u):R.take(u-s)),R)},mt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},mt.prototype.toArray=function(){return this.take(j)},Wr(mt.prototype,function(s,u){var R=/^(?:filter|find|map|reject)|While$/.test(u),N=/^(?:head|last)$/.test(u),$=G[N?"take"+(u=="last"?"Right":""):u],q=N||/^find/.test(u);!$||(G.prototype[u]=function(){var te=this.__wrapped__,oe=N?[1]:arguments,de=te instanceof mt,be=oe[0],Ee=de||ot(te),ke=function(vt){var At=$.apply(G,Bi([vt],oe));return N&&Ve?At[0]:At};Ee&&R&&typeof be=="function"&&be.length!=1&&(de=Ee=!1);var Ve=this.__chain__,je=!!this.__actions__.length,Je=q&&!Ve,ct=de&&!je;if(!q&&Ee){te=ct?te:new mt(this);var Xe=s.apply(te,oe);return Xe.__actions__.push({func:Wl,args:[ke],thisArg:n}),new fr(Xe,Ve)}return Je&&ct?s.apply(this,oe):(Xe=this.thru(ke),Je?N?Xe.value()[0]:Xe.value():Xe)})}),cr(["pop","push","shift","sort","splice","unshift"],function(s){var u=_l[s],R=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",N=/^(?:pop|shift)$/.test(s);G.prototype[s]=function(){var $=arguments;if(N&&!this.__chain__){var q=this.value();return u.apply(ot(q)?q:[],$)}return this[R](function(te){return u.apply(ot(te)?te:[],$)})}}),Wr(mt.prototype,function(s,u){var R=G[u];if(R){var N=R.name+"";Ot.call(so,N)||(so[N]=[]),so[N].push({name:u,func:R})}}),so[Vl(n,_).name]=[{name:"wrapper",func:n}],mt.prototype.clone=OE,mt.prototype.reverse=PE,mt.prototype.value=BE,G.prototype.at=cw,G.prototype.chain=dw,G.prototype.commit=fw,G.prototype.next=hw,G.prototype.plant=vw,G.prototype.reverse=mw,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=pw,G.prototype.first=G.prototype.head,ra&&(G.prototype[ra]=gw),G},no=fE();ys?((ys.exports=no)._=no,Yc._=no):An._=no}).call(Aa)})(Vo,Vo.exports);const yB=gc("menustore1",()=>{const e=Z(JSON.parse(localStorage.getItem("history_menu"))||[]);function t({history_all:n}){console.log("123",n),e.value=[...new Set([n,...e.value])];let r=Vo.exports.unionWith(e.value,(i,o)=>i.userid==o.userid&&i.menuid==o.menuid);localStorage.setItem("history_menu",JSON.stringify(r))}return{addMenuStore:t}}),_B=gc("menustore",()=>{const e=Z(JSON.parse(localStorage.getItem("history_record"))||[]);function t({id:n,video:r,userid:i}){console.log("id",n),console.log("video",r),console.log("userid",i);let o={userid:i,historyuser:r.r.a.n,historyuserpath:r.r.a.p,history_menu_id:r.r.n,history_menu_path:r.r.img,menuid:r.r.a.id};e.value=[o,...e.value],console.log("history_record.value",e.value);let l=Vo.exports.unionWith(e.value,(f,c)=>f.userid==c.userid&&f.historyuser==c.historyuser);localStorage.setItem("history_record",JSON.stringify(l))}return{addhistory:t}});const bc=e=>(pt("data-v-8fdd0c18"),e=e(),yt(),e),AB={ref:"scrollRef ",class:"animate__animated animate__fadeInUp"},bB={class:"top"},EB=["onClick"],SB={class:"name"},TB=["onClick"],wB={class:"bottom"},CB={class:"bottom-top"},kB={class:"left"},xB={class:"card"},IB={class:"logo"},RB=["onClick"],LB=bc(()=>O("img",{src:pc,alt:""},null,-1)),DB=[LB],OB=["onClick"],PB=bc(()=>O("img",{src:n1,alt:""},null,-1)),BB=[PB],FB=bc(()=>O("div",{class:"right"},null,-1)),MB={class:"bottom-footer"},NB={key:0,class:"bottom-one"},UB=bc(()=>O("img",{src:pB,alt:""},null,-1)),VB={__name:"VideoView",setup(e){const t=_B(),n=yB();console.log(t),console.log(n),console.log(t.addhistory),console.log(n.addMenuStore);const r=Qn(),i=Tr(),o=Z(0),l=Z(10),f=Z([]);hf(o.value,l.value).then(v=>{console.log(v),f.value=v.data.result.list.filter(p=>p.r)});const c=Z(JSON.parse(localStorage.getItem("logintrue"))||[]),a=Z(!1),h=Z(!1),m=Z(!1),g=Z(JSON.parse(window.localStorage.getItem("history_menu"))||[]),w=()=>{o.value++,a.value=!1,hf(o.value,l.value).then(v=>{f.value=v.data.result.list.filter(p=>p.r)})},T=()=>{l.value+=1,hf(o.value,l.value).then(v=>{f.value=[...f.value,v.data.result.list.filter(p=>p.r).reverse()[0]]})},y=({id:v})=>{c.value.length==0?(r.push("/me?from="+i.fullPath),console.log(window.pageYOffset),localStorage.setItem("window_scrollBy",window.pageYOffset)):zu(v).then(p=>{var b;let A={userid:(b=JSON.parse(localStorage.getItem("logintrue"))[0])==null?void 0:b.userid,menuid:v,menupath:p.data.result.recipe.thumb_path,menutitle:p.data.result.recipe.title,menuvc:p.data.result.recipe.vc,menunickname:p.data.result.recipe.user.nickname,menuphoto:p.data.result.recipe.user.user_photo,menuoption:!0,menufinish:!1};n.addMenuStore({history_all:A}),g.value=JSON.parse(window.localStorage.getItem("history_menu"))})},d=({id:v})=>{let p=g.value.filter(E=>E.userid!=c.value[0].userid),A=g.value.filter(E=>E.userid==c.value[0].userid).filter(E=>E.menuid!=v),b=[...p,...A];localStorage.setItem("history_menu",JSON.stringify(b)),g.value=JSON.parse(window.localStorage.getItem("history_menu"))};Gt(()=>{console.log(window.pageYOffset),console.log(localStorage.getItem("window_scrollBy")),localStorage.getItem("window_scrollBy")?(console.log(12),setTimeout(()=>{window.scrollBy(0,Number(localStorage.getItem("window_scrollBy"))),localStorage.removeItem("window_scrollBy")},500)):window.scrollBy(0,0)}),GL((v,p,A)=>{console.log("onBeforeRouteLeave"),v.meta.keepAlive=!0,A(0)});function _({id:v,video:p}){var A;t.addhistory({id:v,video:p,userid:(A=JSON.parse(localStorage.getItem("logintrue"))[0])==null?void 0:A.userid}),r.push({path:"/menu",query:{id:v}})}return(v,p)=>{const A=Ge("van-image"),b=Ge("van-list"),E=Ge("van-pull-refresh");return K(),Bn(E,{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=x=>a.value=x),onRefresh:w},{default:et(()=>[O("ul",AB,[B(b,{loadinglist:h.value,"onUpdate:loadinglist":p[0]||(p[0]=x=>h.value=x),finished:m.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:T},{default:et(()=>[(K(!0),W(Le,null,We(f.value,x=>{var k,L,S,C,I,D,P,F,U,M,V,H,z,j,Q;return K(),W("li",{key:(k=x==null?void 0:x.r)==null?void 0:k.id},[O("div",bB,[O("div",{class:"img",onClick:Wt(ie=>v.$router.push({path:"/userdetails",query:{id:x.r.a.id}}),["stop"])},[B(A,{width:"25",height:"25","lazy-load":"",round:"",src:`${(S=(L=x==null?void 0:x.r)==null?void 0:L.a)==null?void 0:S.p}`},null,8,["src"])],8,EB),O("div",SB,[O("h1",null,le((I=(C=x==null?void 0:x.r)==null?void 0:C.a)==null?void 0:I.n),1),O("i",null,"LV."+le((P=(D=x==null?void 0:x.r)==null?void 0:D.a)==null?void 0:P.lvl),1)])]),O("div",{class:"center",onClick:ie=>{var ne;return _({id:(ne=x==null?void 0:x.r)==null?void 0:ne.id,video:x})}},[B(A,{width:"100%",height:"100%","lazy-load":"",src:`${(F=x==null?void 0:x.r)==null?void 0:F.img}`},null,8,["src"])],8,TB),O("div",wB,[O("div",CB,[O("div",kB,[O("div",xB,[O("div",IB,[(K(!0),W(Le,null,We((U=x==null?void 0:x.r)==null?void 0:U.collect_users,(ie,ne)=>(K(),Bn(A,{width:"18",height:"18","lazy-load":"",round:"",src:`${ie==null?void 0:ie.p}`,alt:"",key:ne},null,8,["src"]))),128))]),O("p",null,le((M=x==null?void 0:x.r)==null?void 0:M.collect_count_text),1)]),c.value.length==0||g.value.filter(ie=>{var ne;return(ie==null?void 0:ie.userid)==((ne=c.value[0])==null?void 0:ne.userid)}).length==0||g.value.filter(ie=>{var ne;return ie.userid==((ne=c.value[0])==null?void 0:ne.userid)}).filter(ie=>{var ne;return ie.menuid==((ne=x==null?void 0:x.r)==null?void 0:ne.id)}).length==0||!((V=g.value.filter(ie=>{var ne;return ie.userid==((ne=c.value[0])==null?void 0:ne.userid)}).filter(ie=>{var ne;return ie.menuid==((ne=x==null?void 0:x.r)==null?void 0:ne.id)})[0])!=null&&V.menuoption)?(K(),W("div",{key:0,class:"collect",onClick:ie=>y({id:x==null?void 0:x.r.id})},DB,8,RB)):(K(),W("div",{key:1,class:"collect-light",onClick:ie=>{var ne;return d({id:(ne=x==null?void 0:x.r)==null?void 0:ne.id})}},BB,8,OB))]),FB]),O("div",MB,[O("h3",null,le((H=x==null?void 0:x.r)==null?void 0:H.n),1)]),(z=x==null?void 0:x.r)!=null&&z.events?(K(),W("div",NB,[UB,O("p",null,le((Q=(j=x==null?void 0:x.r)==null?void 0:j.events[0])==null?void 0:Q.c),1)])):De("",!0)])])}),128))]),_:1},8,["loadinglist","finished"])],512)]),_:1},8,["modelValue"])}}},zB=wt(VB,[["__scopeId","data-v-8fdd0c18"]]);const Ec=e=>(pt("data-v-b852db23"),e=e(),yt(),e),$B={class:"activity animate__animated animate__fadeInUp"},HB={class:"going_event"},GB=Ec(()=>O("h2",null,"\u70ED\u95E8\u6D3B\u52A8\u4E0A\u7EBF\u4E2D",-1)),KB=["src"],jB={class:"info"},WB={class:"left"},qB=Ec(()=>O("div",{class:"right"},[O("span",null,"\u7ACB\u5373\u53C2\u4E0E >")],-1)),YB={class:"end_event"},QB=Ec(()=>O("h2",null,"\u5F80\u671F\u56DE\u987E",-1)),JB=["src"],XB={class:"info"},ZB={class:"left"},eF=Ec(()=>O("div",{class:"right"},[O("span",null,"\u7ACB\u5373\u53C2\u4E0E >")],-1)),tF={__name:"ActivityView",setup(e){const t=Z([]),n=Z([]),r=Z([]);return ZO().then(i=>{console.log(i),t.value=i.data.data.ongoing.events,n.value=i.data.data.ended.events,r.value=i.data.data.banner}),(i,o)=>{const l=Ge("van-swipe-item"),f=Ge("van-swipe"),c=Ge("van-notice-bar");return K(),W("div",$B,[B(c,{"left-icon":"volume-o",scrollable:!1},{default:et(()=>[B(f,{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:et(()=>[(K(!0),W(Le,null,We(r.value,(a,h)=>(K(),Bn(l,{key:h},{default:et(()=>[O("b",null,le(a.nickname),1),xt(" \u521A\u53C2\u52A0\u4E86\u6D3B\u52A8 "),O("b",null,le(a.name),1)]),_:2},1024))),128))]),_:1})]),_:1}),O("div",HB,[GB,(K(!0),W(Le,null,We(t.value,a=>(K(),W(Le,{key:a.id},[O("img",{src:a.image,alt:""},null,8,KB),O("div",jB,[O("div",WB,[O("span",null,le(a.name),1)]),qB])],64))),128))]),O("div",YB,[QB,(K(!0),W(Le,null,We(n.value,a=>(K(),W(Le,{key:a.id},[O("img",{src:a.image,alt:""},null,8,JB),O("div",XB,[O("div",ZB,[O("span",null,le(a.name),1)]),eF])],64))),128))])])}}},nF=wt(tF,[["__scopeId","data-v-b852db23"]]),$r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAqCAQAAABxAzFjAAAByklEQVRIx63W34vMURzG8dd3ZxsZ+ZEiiSRJUhJKSS7ULA3KIjGJNj+2pPzIzV5sUXsxxUSSZGtT20Ytuy620RjNlKQUUv4KNyKh1axxMxfUjJn9njk3p3Nx3p1Oz+d5nqimM6v778OWWV1998+pq0MPmjUoZUo6HDTXpL2e2hUGmmNCD1JOhoCSJuwBT5yKD0p6LAMmZVXjgpIe2g+mHPUr7md3G3MQPHOoMaYdUMKYw6CotxmmNShh1BFQ0ms6riATRhwDFQf8jKvsLsNOgJf2+RF3RCL39YFXMq0wzUGRe3XZvZbxPe7QRu44C97I+BZ3+iM3nQNv7fY1ro1E8i6A99LtYhqB8i6BD9K+xDe263XMRz0+hzjkp/q+QCrMam8YAKtUrAzz7FwdtVrFijDzzxkEa5QtD0uRIdfAWmXLwuLoqiGwTtnSsFwblAPrlS0JC8gBebDBi9ao/xvbFbfARs8tDovsy26DTUoWhYBqLroLNitZGFIias4bBlsVm6PaybWafiNgm4L5IbWm5owHYLuCeSG15rfTRsEOhUbO0H4bmdHnEdhpPKwfzThuHNN1STQvo22gsqpGFUNBVGWbBGGnenbH6vEfBidhR5yKKXkAAAAASUVORK5CYII=",rF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAARVBMVEUAAAAAAAD7+/t6enoAAAAAAAAAAAAAAAAAAAAAAADd3d0AAAAAAAD4+PhKSkpISEgAAAAAAAAAAAAAAAAAAAD39/f////5EcVsAAAAFnRSTlMATfVzQkcIAiwYwSAU7mBfPDk2MCPt47587gAAAdxJREFUaN7tmdtygzAMRLtENgZDwi38/6e2nb5ZVWXjaEo7nFdmdkESvkhvFxcX2fghhpnIAY5oDnHwLxRvu0BgUOjal8gPq4OAW4fql4+EH6HY1shvDipuO2zREbKg7ljdLMhm8Qde36EA15VGP6CQUJQJP6GYyRfoEw5APlvf4RDO2+lzBz0+VlFqJ1Qw6bUUUEVQ/y9U0uUm2CjRC6pZ1AAZBqlNK/Tej2P/gMijf479Pa1VuZK2VL/ZP2huELh9PU8dNvED0gz3+544MP1P+jTP0idEJIw7d+D6+4iEKBgQEp47d+D63ICE8wnAQsQcuD4PETB8a7DyImm4A9dveJmteoq5zE15oKa5A3QHXV/+2QJUB0VfWVQJuoOsr9eRBzIcBH2OF4pUdZD09UKNyHPI00cUcqw7CPp6lmfkOeTpY1aKSHFQ9UGKgeLA9XUDB82hRB+OGQC6A9eXMTcwD5F5ks3L1PxHM18qzBc78+XafMOx3jLNN337Y4v9wcv+6Gh/+NXraKw7vttfQOyvUPaXwPpr7ChcY00v4tatBPNmiHU7x7oh9fsttcqm4BnamjWN2bO0lo82x8/U3j8woDjfiKVoSHTWMVfmoO7co0ZlWPpXxr0XF/+dd4YJUN2z3eEnAAAAAElFTkSuQmCC",iF="data:image/gif;base64,R0lGODlhgACAAKIAAP///93d3bu7u5mZmQAA/wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAEACwCAAIAfAB8AAAD/0i63P4wygYqmDjrzbtflvWNZGliYXiubKuloivPLlzReD7al+7/Eh5wSFQIi8hHYBkwHUmD6CD5YTJLz49USuVYraRsZ7vtar7XnQ1Kjpoz6LRHvGlz35O4nEPP2O94EnpNc2sef1OBGIOFMId/inB6jSmPdpGScR19EoiYmZobnBCIiZ95k6KGGp6ni4wvqxilrqBfqo6skLW2YBmjDa28r6Eosp27w8Rov8ekycqoqUHODrTRvXsQwArC2NLF29UM19/LtxO5yJd4Au4CK7DUNxPebG4e7+8n8iv2WmQ66BtoYpo/dvfacBjIkITBE9DGlMvAsOIIZjIUAixliv9ixYZVtLUos5GjwI8gzc3iCGghypQqrbFsme8lwZgLZtIcYfNmTJ34WPTUZw5oRxdD9w0z6iOpO15MgTh1BTTJUKos39jE+o/KS64IFVmsFfYT0aU7capdy7at27dw48qdS7eu3bt480I02vUbX2F/JxYNDImw4GiGE/P9qbhxVpWOI/eFKtlNZbWXuzlmG1mv58+gQ4seTbq06dOoU6vGQZJy0FNlMcV+czhQ7SQmYd8eMhPs5BxVdfcGEtV3buDBXQ+fURxx8oM6MT9P+Fh6dOrH2zavc13u9JXVJb520Vp8dvC76wXMuN5Sepm/1WtkEZHDefnzR9Qvsd9+/wi8+en3X0ntYVcSdAE+UN4zs7ln24CaLagghIxBaGF8kFGoIYV+Ybghh841GIyI5ICIFoklJsigihmimJOLEbLYIYwxSgigiZ+8l2KB+Ml4oo/w8dijjcrouCORKwIpnJIjMnkkksalNeR4fuBIm5UEYImhIlsGCeWNNJphpJdSTlkml1jWeOY6TnaRpppUctcmFW9mGSaZceYopH9zkjnjUe59iR5pdapWaGqHopboaYua1qije67GJ6CuJAAAIfkEBQUABAAsCgACAFcAMAAAA/9Iutz+ML5Ag7w46z0r5WAoSp43nihXVmnrdusrv+s332dt4Tyo9yOBUJD6oQBIQGs4RBlHySSKyczVTtHoidocPUNZaZAr9F5FYbGI3PWdQWn1mi36buLKFJvojsHjLnshdhl4L4IqbxqGh4gahBJ4eY1kiX6LgDN7fBmQEJI4jhieD4yhdJ2KkZk8oiSqEaatqBekDLKztBG2CqBACq4wJRi4PZu1sA2+v8C6EJexrBAD1AOBzsLE0g/V1UvYR9sN3eR6lTLi4+TlY1wz6Qzr8u1t6FkY8vNzZTxaGfn6mAkEGFDgL4LrDDJDyE4hEIbdHB6ESE1iD4oVLfLAqPETIsOODwmCDJlv5MSGJklaS6khAQAh+QQFBQAEACwfAAIAVwAwAAAD/0i63P5LSAGrvTjrNuf+YKh1nWieIumhbFupkivPBEzR+GnnfLj3ooFwwPqdAshAazhEGUXJJIrJ1MGOUamJ2jQ9QVltkCv0XqFh5IncBX01afGYnDqD40u2z76JK/N0bnxweC5sRB9vF34zh4gjg4uMjXobihWTlJUZlw9+fzSHlpGYhTminKSepqebF50NmTyor6qxrLO0L7YLn0ALuhCwCrJAjrUqkrjGrsIkGMW/BMEPJcphLgDaABjUKNEh29vdgTLLIOLpF80s5xrp8ORVONgi8PcZ8zlRJvf40tL8/QPYQ+BAgjgMxkPIQ6E6hgkdjoNIQ+JEijMsasNY0RQix4gKP+YIKXKkwJIFF6JMudFEAgAh+QQFBQAEACw8AAIAQgBCAAAD/kg0PPowykmrna3dzXvNmSeOFqiRaGoyaTuujitv8Gx/661HtSv8gt2jlwIChYtc0XjcEUnMpu4pikpv1I71astytkGh9wJGJk3QrXlcKa+VWjeSPZHP4Rtw+I2OW81DeBZ2fCB+UYCBfWRqiQp0CnqOj4J1jZOQkpOUIYx/m4oxg5cuAaYBO4Qop6c6pKusrDevIrG2rkwptrupXB67vKAbwMHCFcTFxhLIt8oUzLHOE9Cy0hHUrdbX2KjaENzey9Dh08jkz8Tnx83q66bt8PHy8/T19vf4+fr6AP3+/wADAjQmsKDBf6AOKjS4aaHDgZMeSgTQcKLDhBYPEswoA1BBAgAh+QQFBQAEACxOAAoAMABXAAAD7Ei6vPOjyUkrhdDqfXHm4OZ9YSmNpKmiqVqykbuysgvX5o2HcLxzup8oKLQQix0UcqhcVo5ORi+aHFEn02sDeuWqBGCBkbYLh5/NmnldxajX7LbPBK+PH7K6narfO/t+SIBwfINmUYaHf4lghYyOhlqJWgqDlAuAlwyBmpVnnaChoqOkpaanqKmqKgGtrq+wsbA1srW2ry63urasu764Jr/CAb3Du7nGt7TJsqvOz9DR0tPU1TIA2ACl2dyi3N/aneDf4uPklObj6OngWuzt7u/d8fLY9PXr9eFX+vv8+PnYlUsXiqC3c6PmUUgAACH5BAUFAAQALE4AHwAwAFcAAAPpSLrc/m7IAau9bU7MO9GgJ0ZgOI5leoqpumKt+1axPJO1dtO5vuM9yi8TlAyBvSMxqES2mo8cFFKb8kzWqzDL7Xq/4LB4TC6bz1yBes1uu9uzt3zOXtHv8xN+Dx/x/wJ6gHt2g3Rxhm9oi4yNjo+QkZKTCgGWAWaXmmOanZhgnp2goaJdpKGmp55cqqusrZuvsJays6mzn1m4uRAAvgAvuBW/v8GwvcTFxqfIycA3zA/OytCl0tPPO7HD2GLYvt7dYd/ZX99j5+Pi6tPh6+bvXuTuzujxXens9fr7YPn+7egRI9PPHrgpCQAAIfkEBQUABAAsPAA8AEIAQgAAA/lIutz+UI1Jq7026h2x/xUncmD5jehjrlnqSmz8vrE8u7V5z/m5/8CgcEgsGo/IpHLJbDqf0Kh0ShBYBdTXdZsdbb/Yrgb8FUfIYLMDTVYz2G13FV6Wz+lX+x0fdvPzdn9WeoJGAYcBN39EiIiKeEONjTt0kZKHQGyWl4mZdREAoQAcnJhBXBqioqSlT6qqG6WmTK+rsa1NtaGsuEu6o7yXubojsrTEIsa+yMm9SL8osp3PzM2cStDRykfZ2tfUtS/bRd3ewtzV5pLo4eLjQuUp70Hx8t9E9eqO5Oku5/ztdkxi90qPg3x2EMpR6IahGocPCxp8AGtigwQAIfkEBQUABAAsHwBOAFcAMAAAA/9Iutz+MMo36pg4682J/V0ojs1nXmSqSqe5vrDXunEdzq2ta3i+/5DeCUh0CGnF5BGULC4tTeUTFQVONYAs4CfoCkZPjFar83rBx8l4XDObSUL1Ott2d1U4yZwcs5/xSBB7dBMBhgEYfncrTBGDW4WHhomKUY+QEZKSE4qLRY8YmoeUfkmXoaKInJ2fgxmpqqulQKCvqRqsP7WooriVO7u8mhu5NacasMTFMMHCm8qzzM2RvdDRK9PUwxzLKdnaz9y/Kt8SyR3dIuXmtyHpHMcd5+jvWK4i8/TXHff47SLjQvQLkU+fG29rUhQ06IkEG4X/Rryp4mwUxSgLL/7IqFETB8eONT6ChCFy5ItqJomES6kgAQAh+QQFBQAEACwKAE4AVwAwAAAD/0i63A4QuEmrvTi3yLX/4MeNUmieITmibEuppCu3sDrfYG3jPKbHveDktxIaF8TOcZmMLI9NyBPanFKJp4A2IBx4B5lkdqvtfb8+HYpMxp3Pl1qLvXW/vWkli16/3dFxTi58ZRcChwIYf3hWBIRchoiHiotWj5AVkpIXi4xLjxiaiJR/T5ehoomcnZ+EGamqq6VGoK+pGqxCtaiiuJVBu7yaHrk4pxqwxMUzwcKbyrPMzZG90NGDrh/JH8t72dq3IN1jfCHb3L/e5ebh4ukmxyDn6O8g08jt7tf26ybz+m/W9GNXzUQ9fm1Q/APoSWAhhfkMAmpEbRhFKwsvCsmosRIHx444PoKcIXKkjIImjTzjkQAAIfkEBQUABAAsAgA8AEIAQgAAA/VIBNz+8KlJq72Yxs1d/uDVjVxogmQqnaylvkArT7A63/V47/m2/8CgcEgsGo/IpHLJbDqf0Kh0Sj0FroGqDMvVmrjgrDcTBo8v5fCZki6vCW33Oq4+0832O/at3+f7fICBdzsChgJGeoWHhkV0P4yMRG1BkYeOeECWl5hXQ5uNIAOjA1KgiKKko1CnqBmqqk+nIbCkTq20taVNs7m1vKAnurtLvb6wTMbHsUq4wrrFwSzDzcrLtknW16tI2tvERt6pv0fi48jh5h/U6Zs77EXSN/BE8jP09ZFA+PmhP/xvJgAMSGBgQINvEK5ReIZhQ3QEMTBLAAAh+QQFBQAEACwCAB8AMABXAAAD50i6DA4syklre87qTbHn4OaNYSmNqKmiqVqyrcvBsazRpH3jmC7yD98OCBF2iEXjBKmsAJsWHDQKmw571l8my+16v+CweEwum8+hgHrNbrvbtrd8znbR73MVfg838f8BeoB7doN0cYZvaIuMjY6PkJGSk2gClgJml5pjmp2YYJ6dX6GeXaShWaeoVqqlU62ir7CXqbOWrLafsrNctjIDwAMWvC7BwRWtNsbGFKc+y8fNsTrQ0dK3QtXAYtrCYd3eYN3c49/a5NVj5eLn5u3s6e7x8NDo9fbL+Mzy9/T5+tvUzdN3Zp+GBAAh+QQJBQAEACwCAAIAfAB8AAAD/0i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdArcQK2TOL7/nl4PSMwIfcUk5YhUOh3M5nNKiOaoWCuWqt1Ou16l9RpOgsvEMdocXbOZ7nQ7DjzTaeq7zq6P5fszfIASAYUBIYKDDoaGIImKC4ySH3OQEJKYHZWWi5iZG0ecEZ6eHEOio6SfqCaqpaytrpOwJLKztCO2jLi1uoW8Ir6/wCHCxMG2x7muysukzb230M6H09bX2Nna29zd3t/g4cAC5OXm5+jn3Ons7eba7vHt2fL16tj2+QL0+vXw/e7WAUwnrqDBgwgTKlzIsKHDh2gGSBwAccHEixAvaqTYcFCjRoYeNyoM6REhyZIHT4o0qPIjy5YTTcKUmHImx5cwE85cmJPnSYckK66sSAAj0aNIkypdyrSp06dQo0qdSrWq1atYs2rdyrWr169gwxZJAAA7",sF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAQAAACQqPihAAABvklEQVRYw+2XO0sDQRDH/3t5qBgwiBJIsBJBlIhamEZ8fQHLWAgias5SREGwEG3EKo3NJT6IERQRUVDQxlIQAkGxsRD1SHtql8RLbi0USS4hm8ujEHfK2dn57czsze0AXAwLYRnstKiX6CjgII0t3yzLi8AySA0UggDUhAnJwvJiZhnYzz42aWeBaFIIi+q/vAJSK8ZIbcW9y5bwZCKjNuSEdtEqRPFpgz/zpj1VJVcanrOSRkmgp/JJozFR5q2pcj1t155a0CLiaWnu9urji8LjzAGzp6mitoxDqUGvl9xHJl1TbQ659Fbxcaxo+9tOJoY6AdQIjTrIGu7fjzM1QYf6mniR2nXJcQIQqMNwh/6RYYAMZR3HgzqY0V/cdsHAV5Dn30RIxTHlCMdwDMdwDMdwDMdwTDGPUwWAkrVR+dUXIebcJ1G+cUpY1ZIklKmZugluUJvrokQMzTu0TUfh1R2HYumv1EawljifWQ1hNE+Jc0xfsRgZAOi65DYOCczTEQCwyMwxSuolEUoAkqYPeDMQB6Ft+J537sRuJgaQ/Jgro9pJDIq3eqUp1+78ajQGF2nKt8YQhVybvL5o7sIXvKVuj9H6N5QAAAAASUVORK5CYII=";const r1=e=>(pt("data-v-e024e6a4"),e=e(),yt(),e),oF={class:"history_hot"},aF={class:"search_history"},lF={key:0,class:"zzzz"},uF=r1(()=>O("h2",null,"\u5386\u53F2\u641C\u7D22",-1)),cF=["onClick"],dF={class:"search_hot"},fF=r1(()=>O("h2",null,"\u70ED\u95E8\u641C\u7D22",-1)),hF=["onClick"],gF={__name:"SearchHot",setup(e){const t=zr(),n=Z([]);return console.log(1234),tP().then(r=>{n.value=r.data.result.suggestdetails}),(r,i)=>(K(),W("div",oF,[O("div",aF,[re(t).history_search.length?(K(),W("div",lF,[uF,O("img",{src:sF,alt:"",onClick:i[0]||(i[0]=o=>re(t).clearHistory())})])):De("",!0),(K(!0),W(Le,null,We(re(t).history_search,o=>(K(),W("span",{onClick:l=>r.$emit("get-result",{keyword:o,show:!1,order:0})},le(o),9,cF))),256))]),O("div",dF,[fF,(K(!0),W(Le,null,We(n.value,(o,l)=>(K(),W("span",{key:l,style:_r({color:o.color,backgroundColor:o.background_color,borderColor:o.borderColor}),onClick:f=>r.$emit("get-result",{keyword:o.title,show:!1,order:0})},le(o.title),13,hF))),128))])]))}},vF=wt(gF,[["__scopeId","data-v-e024e6a4"]]);const mF=["onClick"],pF={__name:"SearchSuggest",props:{search_suggest:Array},setup(e){const t=e,{search_suggest:n}=Bh(t);return(r,i)=>(K(!0),W(Le,null,We(re(n),(o,l)=>(K(),W("div",{class:"zzz",onClick:f=>r.$emit("get-result",{keyword:o.name,show:!1,order:0})},le(o.name),9,mF))),256))}},yF=wt(pF,[["__scopeId","data-v-ea724e57"]]);const _F=e=>(pt("data-v-e5071864"),e=e(),yt(),e),AF={class:"search_result"},bF=_F(()=>O("div",{class:"class_fixed"},null,-1)),EF={class:"class"},SF=["onClick"],TF={class:"info"},wF={class:"score_tag"},CF={key:0,class:"score"},kF={key:1,class:"tag"},xF={class:"detail_tag"},IF={key:0},RF={class:"author"},LF={__name:"SearchResult",props:{search_result:Array,order:Number},setup(e){const t=e,{search_result:n}=Bh(t);return(r,i)=>{const o=Ge("van-image");return K(),W("div",AF,[bF,O("div",EF,[O("span",{onClick:i[0]||(i[0]=l=>r.$emit("get-result",{keyword:r.$route.query.id,show:!1,order:0})),class:ut({zzz:e.order=="0"})},"\u7EFC\u5408",2),O("span",{onClick:i[1]||(i[1]=l=>r.$emit("get-result",{keyword:r.$route.query.id,show:!1,order:2})),class:ut({zzz:e.order=="2"})},"\u6536\u85CF\u9AD8",2),O("span",{onClick:i[2]||(i[2]=l=>r.$emit("get-result",{keyword:r.$route.query.id,show:!1,order:3})),class:ut({zzz:e.order=="3"})},"\u5B66\u505A\u591A",2)]),O("ul",null,[(K(!0),W(Le,null,We(re(n),l=>{var f,c,a,h;return K(),W("li",{onClick:m=>r.$router.push({path:"/menu",query:{id:l.r.id}})},[B(o,{width:"140rem",fit:"cover",position:"top",height:"100","lazy-load":"",src:(f=l.r)==null?void 0:f.img},null,8,["src"]),O("div",TF,[O("h2",null,le(l.r.n),1),O("p",wF,[l.r.rate!==0?(K(),W("span",CF,le(l.r.rate)+"\u5206",1)):De("",!0),l.recommendation_tag!==""?(K(),W("span",kF,le(l.recommendation_tag),1)):De("",!0)]),O("p",xF,[l.r.recipe_list_tags.length?(K(),W("span",IF,le((c=l.r)==null?void 0:c.recipe_list_tags[0].text),1)):De("",!0)]),O("p",RF,[B(o,{round:"",width:"10rem",height:"10rem","lazy-load":"",src:(a=l.r.a)==null?void 0:a.p},null,8,["src"]),O("span",null,le((h=l.r.a)==null?void 0:h.n),1)])])],8,SF)}),256))])])}}},DF=wt(LF,[["__scopeId","data-v-e5071864"]]);const Sc=e=>(pt("data-v-caba7801"),e=e(),yt(),e),OF={class:"search-return"},PF=Sc(()=>O("div",{class:"search_fixed"},null,-1)),BF={class:"input_return"},FF=Sc(()=>O("img",{src:$r,alt:""},null,-1)),MF=[FF],NF={class:"input"},UF=Sc(()=>O("span",{class:"search_icon"},[O("img",{src:rl,alt:""})],-1)),VF={class:"search_box"},zF={key:3,class:"loading"},$F=Sc(()=>O("img",{src:iF,alt:"",width:"28"},null,-1)),HF=[$F],GF={__name:"SearchView",setup(e){const t=Z(!1),n=zr(),r=Qn(),i=Tr(),o=Z(""),l=Z(!1),f=Z([]),c=Z([]);i.query.id&&(o.value=i.query.id,l.value=!1,n.addHistroySearch(i.query.id),c.value=[],ff({keyword:i.query.id,order:0}).then(T=>{c.value=T.data.result.list,console.log("result",T)}));function a(T){t.value=!0,f.value=[],T!==null&&rn.get("recipe/search/suggests",{params:{kw:T}}).then(y=>{console.log("suggest",y),f.value=T?y.data.result.suggests:[],t.value=!1})}const h=Vo.exports.debounce(a,300);function m(T){T.keyword!=""&&(t.value=!0,r.push({path:"/search",query:{id:T.keyword}}),o.value=T.keyword,l.value=T.show,n.addHistroySearch(T.keyword),c.value=[],ff({keyword:T.keyword,order:T.order}).then(y=>{c.value=y.data.result.list,t.value=!1}))}const g=Z(0);function w(T){g.value=T.order,ff({keyword:T.keyword,order:T.order}).then(y=>{c.value=y.data.result.list,console.log("result",y)})}return Me(o,T=>{T!==null?(f.value=[],console.log(T),h(T)):(f.value=[],c.value=[])}),(T,y)=>(K(),W("div",OF,[PF,O("div",BF,[O("div",{class:"return",onClick:y[0]||(y[0]=d=>T.$router.push({path:"/"}))},MF),O("div",NF,[UF,O("div",VF,[ft(O("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=d=>o.value=d),onKeyup:y[2]||(y[2]=ts(d=>m({keyword:d.target.value,show:!1,order:0}),["enter"])),autocomplete:"off",onFocus:y[3]||(y[3]=d=>{l.value=!0,c.value=[]})},null,544),[[fc,o.value]]),o.value?(K(),W("img",{key:0,src:rF,alt:"",onClick:y[4]||(y[4]=d=>{o.value="",c.value=[]})})):De("",!0)])]),O("span",{class:"white",onClick:y[5]||(y[5]=d=>m({keyword:o.value,show:!1,order:0}))},"\u641C\u7D22")]),o.value?De("",!0):(K(),Bn(vF,{key:0,onGetResult:y[6]||(y[6]=d=>m(d))})),f.value.length&&!c.value.length&&l.value===!0?(K(),Bn(yF,{key:1,search_suggest:f.value,onGetResult:y[7]||(y[7]=d=>m(d))},null,8,["search_suggest"])):De("",!0),c.value.length?(K(),Bn(DF,{key:2,search_result:c.value,order:g.value,onGetResult:y[8]||(y[8]=d=>w(d))},null,8,["search_result","order"])):De("",!0),t.value?(K(),W("div",zF,HF)):De("",!0)]))}},KF=wt(GF,[["__scopeId","data-v-caba7801"]]);const eg=e=>(pt("data-v-b3ce9b82"),e=e(),yt(),e),jF={class:"classify"},WF=eg(()=>O("div",{class:"topNav"},null,-1)),qF={class:"class_fixed"},YF={class:"return_class"},QF=eg(()=>O("span",null,"\u83DC\u8C31\u5206\u7C7B",-1)),JF={class:"zzz"},XF={class:"zz"},ZF=["onClick"],eM={key:0},tM=eg(()=>O("div",{class:"white"},null,-1)),nM={class:"detail"},rM={class:"detail_class"},iM=["src","onClick"],sM={class:"detail_good"},oM=["onClick"],aM={__name:"ClassifyView",setup(e){Z(0);const t=Z(0),n=Z([]),r=Z([]),i=Z(0);nP().then(l=>{console.log(l),n.value=l.data.result.cs,l.data.result.cs.forEach(f=>{r.value=[...r.value,f.cs]})});function o(l){i.value=l,t.value=l}return(l,f)=>(K(),W("div",jF,[WF,O("div",qF,[O("div",YF,[O("img",{src:$r,alt:"",onClick:f[0]||(f[0]=c=>l.$router.push({path:"/"}))}),QF]),O("img",{src:rl,alt:"",onClick:f[1]||(f[1]=c=>l.$router.push({path:"/search"}))})]),O("div",JF,[O("ul",XF,[(K(!0),W(Le,null,We(n.value,(c,a)=>(K(),W("li",{key:a,class:ut({aaa:a==i.value})},[O("span",{onClick:h=>o(a)},le(c.name),9,ZF),a==i.value?(K(),W("span",eM)):De("",!0)],2))),128))]),tM,O("div",nM,[(K(!0),W(Le,null,We(r.value[t.value],c=>(K(),W("div",rM,[O("img",{src:c.image_url,alt:"",onClick:a=>l.$router.push({path:"/search",query:{id:c.name}})},null,8,iM),O("div",sM,[(K(!0),W(Le,null,We(c.cs,a=>(K(),W("div",{class:"menu",onClick:h=>l.$router.push({path:"/search",query:{id:a.name}})},le(a.name),9,oM))),256))])]))),256))])])]))}},lM=wt(aM,[["__scopeId","data-v-b3ce9b82"]]);const uM={data(){return{text:"",password:"",token:JSON.parse(window.localStorage.getItem("token"))||[],textstate:!1,passwordstate:!1}},methods:{loginHandler:function(){console.log(this.text,this.password),this.token.filter(e=>e.userid==this.text).length==0?this.textstate=!0:this.token.filter(e=>e.userpassword==this.password).length==0?this.passwordstate=!0:(console.log("\u767B\u5F55\u6210\u529F"),localStorage.setItem("logintrue",JSON.stringify([{userid:this.text}])),console.log(this.$route.query.origin),this.$router.replace(this.$route.query.origin)),this.text="",this.password=""}}},i1=e=>(pt("data-v-9d6fcadb"),e=e(),yt(),e),cM=i1(()=>O("div",{class:"first-top"},[O("h1",null,"\u767B\u5F55\u754C\u9762")],-1)),dM={class:"login-top"},fM=i1(()=>O("h1",null,"\u767B\u5F55",-1)),hM=[fM];function gM(e,t,n,r,i,o){const l=Ge("van-field"),f=Ge("van-cell-group");return K(),W(Le,null,[cM,O("div",dM,[B(f,{inset:""},{default:et(()=>[B(l,{modelValue:i.text,"onUpdate:modelValue":t[0]||(t[0]=c=>i.text=c),label:"\u7528\u6237\u540D\u79F0"},null,8,["modelValue"]),ft(O("h1",{onClick:t[1]||(t[1]=c=>i.textstate=!1)},"\u7528\u6237\u540D\u79F0\u4E0D\u5B58\u5728",512),[[St,i.textstate]]),B(l,{modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=c=>i.password=c),type:"password",label:"\u5BC6\u7801"},null,8,["modelValue"]),ft(O("h1",{onClick:t[3]||(t[3]=c=>i.passwordstate=!1)},"\u5BC6\u7801\u9519\u8BEF",512),[[St,i.passwordstate]])]),_:1}),O("div",{onClick:t[4]||(t[4]=Wt((...c)=>o.loginHandler&&o.loginHandler(...c),["prevent"])),class:"register-input"},hM)])],64)}const vM=wt(uM,[["render",gM],["__scopeId","data-v-9d6fcadb"]]);const mM={data(){return{token:JSON.parse(window.localStorage.getItem("token"))||[],text:"",password:"",textstate:!1,show:!1}},methods:{loginHandler:function(){this.token.length==0?(console.log(1),this.token=[{userid:this.text,userpassword:this.password,userstate:!0}],localStorage.setItem("token",JSON.stringify(this.token)),this.showPopup()):this.token.filter(e=>e.userid==this.text).length!=0?this.textstate=!0:(console.log(2),this.token=[...this.token,{userid:this.text,userpassword:this.password,userstate:!0}],localStorage.setItem("token",JSON.stringify(this.token)),this.showPopup()),this.text="",this.password=""},showPopup:function(){this.show=!0,setTimeout(()=>{this.show=!1,this.$router.push({path:"/login",query:{origin:this.$route.query.origin}})},3e3)}}},s1=e=>(pt("data-v-23352832"),e=e(),yt(),e),pM=s1(()=>O("div",{class:"first-top"},[O("h1",null,"\u6CE8\u518C\u754C\u9762")],-1)),yM={class:"login-top"},_M=s1(()=>O("h1",null,"\u6CE8\u518C",-1)),AM=[_M];function bM(e,t,n,r,i,o){const l=Ge("van-field"),f=Ge("van-cell-group"),c=Ge("van-popup");return K(),W(Le,null,[pM,O("div",yM,[B(f,{inset:""},{default:et(()=>[B(l,{modelValue:i.text,"onUpdate:modelValue":t[0]||(t[0]=a=>i.text=a),label:"\u7528\u6237\u540D\u79F0"},null,8,["modelValue"]),i.textstate?(K(),W("h1",{key:0,class:"text",onClick:t[1]||(t[1]=a=>i.textstate=!1)},"\u7528\u6237\u540D\u79F0\u5DF2\u5B58\u5728")):De("",!0),B(l,{modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=a=>i.password=a),type:"password",label:"\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),O("div",{onClick:t[3]||(t[3]=Wt((...a)=>o.loginHandler&&o.loginHandler(...a),["prevent"])),class:"register-input"},AM),B(c,{show:i.show,"onUpdate:show":t[4]||(t[4]=a=>i.show=a)},{default:et(()=>[xt("\u6CE8\u518C\u6210\u529F 3\u79D2\u540E\u8DF3\u8F6C\u5230\u767B\u5F55\u9875\u9762")]),_:1},8,["show"])])],64)}const EM=wt(mM,[["render",bM],["__scopeId","data-v-23352832"]]),SM="/assets/\u6211\u7684\u754C\u9762\u5934\u50CF.27746fe5.png";const o1=e=>(pt("data-v-f71ef1cf"),e=e(),yt(),e),TM={class:"card"},wM={class:"bigbox"},CM=o1(()=>O("div",{class:"mine-top"},[O("img",{src:SM,alt:""})],-1)),kM=o1(()=>O("div",{class:"mine-word"},[O("h1",null,"\u6B22\u8FCE\u6765\u5230\u8C46\u679C\u7F8E\u98DF")],-1)),xM={class:"mine-bottom"},IM={__name:"MeView",setup(e){const t=Qn(),n=Tr();return(r,i)=>(K(),W("div",TM,[O("div",wM,[O("h1",{class:"top",onClick:i[0]||(i[0]=o=>re(t).push({path:re(n).query.from}))},"\u8FD4\u56DE"),CM,kM,O("div",xM,[O("h1",{onClick:i[1]||(i[1]=o=>re(t).push({path:"/register",query:{origin:re(n).query.from}}))}," \u6CE8\u518C "),O("h1",{onClick:i[2]||(i[2]=o=>re(t).push({path:"/login",query:{origin:re(n).query.from}}))}," \u767B\u5F55 ")])])]))}},RM=wt(IM,[["__scopeId","data-v-f71ef1cf"]]),LM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAAFRUlEQVRo3tVav3PiRhR+b4VJJs5MdN11t2Wai4mdeNKd3CWVobzK8hww7sBVSqBLKkORGQ+QQZRXGVdJZ13nzJx98n8gl+nkLuGMNgWYY59WQgKkmbzOYq399L3fbxdhRakUhKG9EBwKAMBnD13whMecyT04fXu192LSfzD1nImHUEB92Uphw/CjbbmpAZpCQSPZBsKGYc/aOCBTz9dEfTkrIeKCNR7G4yoWoGpjDTCfQHW67Q0AKhtsMDfadcX1j5cZOy5RVAPqsFlpd09XBGTy/AUUln81usJDb+r8gsdg0x0fhNsThqsKL8LtRnhsNLlDe9tte6oIxV4JI8LqIlQXAqh6BFa4I4tWnLD3pqgV4ShcAd1hbEDVBjTVvGDni3aQk3A54X4zFFSz24oFKJSdETs9d5NbcQQoBUuocPOrpA5bNpgh3Kh4XDGxoTJ3/4C+FQOedRX8R2Fvl8IVVT2bhQZnfGB5ETydQTHw2Bt/K3ucJv++/0HxHa3e8fU/4Vkfn5h5rv19cx227r1383YPgWbCzzXj5Vtn4e2MfKsCTrcZaSILkQp3oq2p24SgGRfyjcU/2aIlKKLyMjgJRQmpXjaUgNggbThhkBZ3ngOq1ALqGm0ezhQSUn/l1SYBZHKk6nLZKaQk/5aAxrOaqUuA8keUH9FaJQjGE8vzj8kjPV+XVWaS8GQlKTuTS9+GkZojNo2jlB9sQcrCToVHODLngNgR5Sc9dT3JuYsdYiSHM0AmF0bW/AAAjEmFjYapAzCALSN7fqamTd0/bwKwoMIeLyEjmbSCSmMARGHe76OsAPVt2bCxAMDKRGHiHWQoKGtDrxQY7SvQzhKQ71DDZsgDvXiWDJHdBGeM1DA9J0tAH6k/cyZ00oFnKpYn74g7DCRAImNAAEh2zG1skAAAQj/hyxJGsMyXVZYjKW89hop+cclgJ9AeigeCIGsVQbNiRlYBJC48ywCSxCK+oIBkJX2V2G426wYuYQgTm3jfhoSRS6vLoVAeZ+TQkR5xU7e8ZBuwkt+EHYg3g3T8TlfmVKbAy/n3cnu/xZN+8bkL5qoaqtAJ3R2jNpB0Dr1m5KLFoctoelvWn29WtFc0+7OeIxdJophp+WFQF2EATLYZvZyZ0t4U5cGosAEYwITU0NjIClDukDwYAjCAR0vVjqQvJhfEO7UpQ4p2pJ4FoM8atFY9d2e5jCoNaibPnh8YzpProxXos8+y5gdmU1w26yE7NCOn62sVU83PvPwYtwlHwAbpmbbJA57sMksCpOCIb12kBSgfnPZ2norb+Zz6xt4z5YyNfA9uUuhjqw04ofx0XysqxsCYDaBZbaQApxlIIAs7L0zyb93dZ/gDWWtsliUVHNHpnysBAXxzrf0Iz9ODpDz2cns/SYYi/3rCJx8UJ4Gj8WnSCwEBz9K3LhS1lssO5F6NHL6893b/wmD997VW3H24XaPrLxu5P1BxfuuXuuStGl1y6+7eY7Am0rH4HX9553irRJ39Af6iqrnFcT8wHNOCy24dxTESAEBBqycFZer7PzML1WfbrZ7iYgGGhXYchI4HLHHZHcVREzbCK3RxrB7NRxyTR91oEB7a/ju0g9MkU9/iwtB2/GLUIbsoJTwmn3qcfxXnWoBwp0MKoQsd41wkcFgpfPC85O5HpY21DTc+ne1m1EH7/+syyjzC1qG2LijhYSfOgaAW52U3199figfgoK8M5tft17/9GWdtojtoFZMdiYSVpLDF5ZdW/OsZiS/FnfCJEQeW8MBJBmVFQJ+MHQoahx2hg75wbRDAwfuJq4pQ8eQ/C7rspLax0OkAAAAASUVORK5CYII=",DM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABCCAQAAABef1iqAAAExUlEQVRo3s2ZMW/bRhTH35EUVStiqkha7DYwvdhLhKjw1CnS1KUuCgQeurSKa7tuPaT5BFE/QdTBrSsFqtqlnQoXNlA0GaJOnpSocBYLaMHArZTBMozQaEzR5HVgbJEiRd/xCDmcSIi6++F/d+/93yOCEK47yeM5s/fywY9d9rG4MID+e8+IYik6Ny++FkBL01gCAEBiOvNaAHGzp3cnGXaNuLD0sTRKyBcO1NfH/XQBQHZ9AACwtDx+oUBuRVg1YgJaHnfqAwBgTrBphIL9bV4ck6IpbtYNBIC7esNUgwZJCqAFyUy9ETcuozhKeYG4hlaRahzwL8yuoH5zFDrQ5zeMmeALEdlZ2w51D61OsuAA6BnSnUUIpPdgRBchULljdFimwe1yJ+Rjf/V3HNhc4O4/D0nf5UlfrBsf/PXiKooFwtn6TQsdKCgSHQ4VUBAkWhxKIFokehxqIBokpO79SosTKLkWe/wukT5P6XECZnuSTAZgpkZmP07SJG+JyZEBkU2lXx4RUFE0okRGQgxSgwQAahPvjSupkQBx5NOk6UcXwjhjvGY8xprb0KL4SIBO0rwDRn+6Z0Wc1uJs5Jp9f6HUSICEOO5PuaM87oe/+42FFjfLTdPFK2Yg8wBJluky/qiqzt+qKtQXGqdQQUzdOSa/kBBz5Y3B6gNneJHb9fOAy+P6FMDzhjN5zIuXJmL7/hWIL1BBjjxBCVB679QO2d3yvJi8iSXc0zb9ajbfYx/9HiUAQBa/DMO+v5nBEgASY+8GjEOLOZx7dXu7kGAH4qdJim0fIP6Ts9sEu0b2PolfQ4Ibvn9wwfZ4O8w+kp9GQ4Gidx2PiaVCmH0kyFACDegDAOhuqH0k+Ys4FVDUPb28mAtNHwAwMhRAbn3YNPLaxOaMt1tyBMYV2cyaMn8d50D2zPN1rmk8g6agrCvk/SQ+aU54Zq393oGwf3zkbG4hgE8/FG5gGbLeEEMsyCFSQIE/8UalOZg0zAmQUEqIk/nK0wqO14wDvV1T0PI9YIsxd8ol+25BOZbB+F2OEQdwzrkz2EYzZjhUZxvC+X/UZhtN2OfQLVAYRmjGavbHt3cwwycqpB4/RAArsvmIZkM7cPKlw8Ei6d85lAqGo29VVWQdd+MJSoSBExzJwnkVGNcVyOPDcHAAir23NmkXjteEB5YdPguMS1l4RKGSwuX9gmNR7Nwkt/i8xm2tdV2RmgLpHBwrTkfeJ0Oy4zhyWaUJ+bBwAKqqvsUT9YfsOAG7H+tEgaKqnhB94XjZG5rtMdmCyaQOm+ysjSWH248s2UQRoqj1MeHRd/aRHEAcIRAZuETYanC2/hxAaJJwKYgU0gibMeLwJTMJFSIDR2nGJSskvKKQVwTHZJ4n7hVzPMDFBckTSMi6LauZr1zBbj8gBzljvAbb3/4Am0j1O2fc0K2q4FuV/P06QKXG5eEr5xCrk3RnjNfMhvJzeQeg3PnuJ1x3QtkXTRjimL+Olfqpc12B4krNLMJZca1NwTOKjlJrb9vemKm0oFXIRK+dphZT9Kw6LBMyCDNQlVhQSnnqfIzPPsISAG6L22td72xnNbZ4Tful3/gaKIP0rFQv+RqRpSxkL22UiMzK6iQcrXX9U/BY8u/ndvX+B1cZzlQq5HQcAAAAAElFTkSuQmCC",OM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABICAQAAAAQJhDyAAAFA0lEQVRo3u1ZvVLjVhT+rvjZhC1WzC5puRQ7I4sC+QkQ3XbYZarYT7D2E9h+AnC3nUWXDngCzBNYKWJpspPh0mWGnYkoEmYA66RwbF3bkizJ0lY+FWiurj6fn+98515gbWtb2/czlnThR2Pb9PeZSjzTZwR5yv1z/6udCySu7nxmDVJzcYFA3++4YgVIXH3bokbusbHiYG3EvVmqvLkhs4B0MVhl7/HBTg1Jb7Ev+KGgHFZR2cPDbarA6S20FzOBiawYyMBiNraHncSQFgB56PqWK1ZxjMZhshabqVhqOueJIGlcuZt50Pn3XHj5RExvoyX//1KeJ4ZQSPodpr+FBKsO7TzTSDfoMvAV9Z2TpZD0GnpBwPzyauGakkmNjkhl10ML0LgykDKrPrSWQZJ85Ndda3VAGldupnsK/8QVpQq7jPKTsvC6GQCClQcgQGlJe3LWA5wr1p96xdTMWEhKJfjb7+TCiypq4yKh5hgCV4GRtDerxEJix4FD88gi4J+xh+xh2zlnNgBsccDtS346ltdvhlDaZOFtPhX2VjwDgFFqsHfj3V8EANAtJgEzYiBpEpGRnTh5TTpiKnF4EOw3f867tnfYJxNgZ5MMHXMc2UFtlfad+whIIzWIJHlJSts/Zea4cNk0F3QbXbmwR3V2M2EiEtSZ7B9Aet3FfUQubaRQRaXKzoDOWJhSMNDT7/Ta5F9XOAd+HVewqPkUynPydzezZsjh2RIdxdE7PPq9OYVlISGhKNm4WB8kEXbU0Ac8tRrN5KWd3myNAPDG5b0gQYwfe6gWDklvoTInWy/cvtRUG+wXmQZLjUUBkmvgNC4rKRIoD+sBIGBoOzX/gKQUZmcaLxSS0pKZ66kcJlxc8aYM6TnrFQhJ46gFHqJqlLCzPb8KL2isaZI8JSS5QVLsPOYKvykVRKMwSMpp4KNlwsW1Aj/RcWGQpKnuOsHyi6l3jYIgzVROP8EPCNaopf1ivCTrhAQTi7zmdbcQSKMVBqfkDT0VpA0JEkvwCXkNuysEkiuCGkKC4wtZuAQSLW9emnKy3Mci7TQk0XMngUCPq4FEi2jPNakcrguDtC339Nh2qnF59qerwiDZHpO4RrmM6l1cVS5nRlRRGCRgVJcF2s4gzFO6sTOQRV66ETU1JFdQU3aHcqf3PhryAK/3MJBJFZ10I2oGVemc68czurK2VTv0fBsAFGPh5Pdq2P4O2nu7/sxn1TepYw6i+Qq1n+qpRWIWSLY3LKObgDK6Tjn96V0mSAAwbPh1iskREq9VJ9OJuZK9sbqWc+DXYYeJEmo+lf9IwUXydzdXa6yuBUvjMJnB9plKgh6Z7Sc8BJL33/w7EpIrdEhK8CoZLSQdrecgGeFNWYlurGn0ciZIwf52bHoHjXX+DDFf03ig4+k2FpIvBYu1ioOkRDblkEPmQ+l2iarOVRGA5LN1Es7BEl4aXcijc7p5PmnQpoeEAGiuKYdeWMh+gnipfs35wgKX8oXIrI8i2Hu2128N9Nxyiqt6a1Yn0MnC0BH24sNfHx7ZJ+mBuVfbe3zvffNWC9dPn7d/xaeZh53FXI2+Ipy7pAIA9r8EycRCHItZ2QkTLjHXzWGgcrVOuJKKudt96L+/h8HUQuB4rz+7XyIG2Lj3vtkfrrGb5tQj4ejVfar+GZkCLBGLtHHM8uEnD91ll7IsOZuQCc7eZYNGgh4hWD/fK9m1rW1tq9t/NUXT/3Jfs90AAAAASUVORK5CYII=",a1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABJCAQAAAA0uKhpAAAE9UlEQVRo3u1aTXLiPBBtGZxtNPXZDLs4JxjnBDEnCDlB4ATJnAA4wYQThJwg5ASYE4znBCi71EBVtB4TehYTIwlL/gMn9VVF7CgkP3W/7tfdBuBzfa79Fqm6kdKjYOOTE/AJBUAPALnFkRG++WVFfyLO3g2QE5AL0kUv52cRhPi4CmsFROnR9eaG0BJbGIzisIy1SI1gxJrEo6KgSO1gkgcNf48OBMgJyB2YGMMwIk/I3w6jeAIe8Y3uu1xGewNqDXCY/hZDmEO4jjjXXwECuNABy7cTyXaV/QDBDhQOYzLNvylA23sdwnnKtmHcz+JTBiDq2TP1OOQwXt/qrWICte6Rqx1QLO5UyFLUcxcuKp9bWonWbc+d7Jy0oN6+cBZOsE+Mub3d80yQiIE7PxUzR43LZwZ7rbb3+gC+4rgznfMt3Wb7hwLnPu7sCwfgmS3P4F76wju6K7i1NVCMOzmklqts+npTjD3SFufh0OWFAunF9XNdZs9kP6/7hwYU34DIYRR+5AByexJ7WKNTJucUW5w3LlGcGuS4TQnOXl1VoXMjuy0ju7k96Yd3UONyZxJPh8Y85C6Ewxqn+4d6ZlZaCC8uv2g5pPBnUiccgGcm5SQqqwCRzSiUvV77pGwULjspC1FPwCGPdcMBeGYgGoBAEHsLyJbFcwLvsFAq1RrdFCC8ECT7PTXExrXzslNIoIvuojWoAmgdiXxknacAiYKTzE1JAW61hb6Hwyo5i3PJabsWop6IsI2pubvKKDy7lbw2lyqeEwVQU6l+9Ls3vzL48FLJadLVj85Ul/myb/Xb7VswxR5rjCpZSDpv82aS5tsNPSJcy02B2u68Bpqenq8ny0oizLnLEqoQFZC1JStGmbnjwAkB+dYQx4rL8PiDpkFby5IvCqD9+vZDrM1xRpH/kSsB9PTRQAgzWIh47wkDU1RJwp4RUXib67xrHJZmGyMT88RDCBY+qaRm6SReWMuyV4bSUSkdW5ECKI7SSbyMluXww6B0DYkeG65ySEriGJTXshymmJROelIyr7U0pcB5aS3LYZFJ6ci5NJFTSQ2Ac5Lg9ekJfyqhZTmCZVI6Kk0jSdr6TmDqlGprF4fSEwNN1+G8bGNI6ZRqaxZFF8iWp7refiysWV8bre0CQ21fRqktokHCXLt9lC7QMhTdXqFh0mHso3TJRCU2EdMhHp8efhiTxJc8cFa7ZEVcV6FUL1K7W5d97EHBKQKl0nxoURccdYbZ9jImaHZXILfGNcHpyu9OcLRrn3eeD7k+zqSKQRPLlkzpuudDu3AaHXMJCwBwrU2Sh4NzpcAB8j3z0vJ82pnVTWWzXlpSKArs9xrpvSv9Bke+7Ex9DYijVbaAmwOeUucmmZm2BuVBUdoa7E6VClQT8kBYiIbmsEUZUDowLjqZovQW9umBpxOQARiKWZiQR9OULYHS9OEaglRTwLCf/eeCBBCKh8Xfmz1yYQQjVohzK0IWs0TzKLU98OEb+Ojr+hMMm/28dJIGxJDW0ekjh9HqtkCHknaZdmgyBVK9DSrz8jgZx8zNh+FofbrsL3uNU7gv33f8278aFi1ltlrm/gQ/7XNrvEtet4dXJCgIJoTH9aRcVbUF1PZe74TbkJMp3pvigdJGYHXxm+lPFRiROUTxtEqBp6j9f12riyfAYV70Xq6PlHhIgf6bD2z4a+W/Mn2u/+n6C4kMfAThLvPXAAAAAElFTkSuQmCC",PM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAANk0lEQVRo3q1b349dVRX+vn1HE0Zbm1Be2gCjL1wKxjZ10ErRSRurT860TwatkKImzvwBEm3AGjCN7y0BRRSQ+EQvPgmR0kojSX8wQ2Jk+tQCKT5QA7ZpfZB7Ph/OOXuvtfe+LRhv0h8zc8++e/1e37fWEB/xpeWZdcCn7wOazQDnAK4DtA4CQKD7VxDY/kumpwnIvxFQ+18wPQdzjvubgOLX/fMrAM+DGmEQjnPLyvmPIgevL+idc6AehjTXPZEuRwoSvHDm2Chk/ej2HHZvzBTUP98rz6qgU1X7Hnba5HGQBzi7cux/EljLwxlw8BSAOUByd4of0v2fEhAI9W+ygnbfU7ynPUhVZUkV5aF7rD8j3iMX47cY8wC31S3Oa1j1iHFZYw1no8px8gL17lhYjpXnnWBKAvXvNJYWs8Ocss6B3MO7Vlby40PxeW8M7wPHr0Rh+w/qhWH8biuG/dpKoM4CAp23WgNTyvQlpzx2CrMHsP9kmecl9/nEDKAzOr35vmtaWMubNoNY9h6Z3TQqtHfVwsKdpjuBBDgLODevWRe1n6XY7T2NLhz6ZJk8pM0fQoMd3JbiOviYxZHWikbztPnS5hamCzoL0roggGAupWuEQ6+XiiLyOCW81dF5UQq/lM6DntRrm2cqLs2fAZjp3LfTVXeIekeKIWXKCPtklYyXSowNVLrY7JXK7hPSw3moJJPZ0hV/2idP2UAzb+DnQPzGm2N5OAfylWoGtULiGhlV1kr9s6aExXcExmfie614RCXzygtDn/iYhYRoP6M1RqMd3LZyLHTffNjcoHO//sKdxnNhZdTK7spROcFY2GUBAo352nhDTFTV4lHU6EMvNPjy4of48tKHOPjcGD6VCuY+hEQQD7V5cnk4A4Zz7moueSjTGicEGCvxeb2mI0vbKrzInJ3q/sHnxnjmpcYduDgfsLR7YOqz9bouCD6JGwMQ5iYkEaY6Srrq5K/OtuOCbRVLea0yneVr9RQoTK32wyVgdKIpLvvsn5vOmvY8l/WJ/+C+KVDzpmFAEXNE8kLbLMS+uXumr5mt+8g10EpZ/dJV4fLV9oS109CaG8wZMYS7stOYUoNaC3vNJjJPnESDL0wBnHFv6GuYjHSdctFYjYOFpV1j0J5z8k3g6Blh9W1h9a0obLzVmmlgeAsxvAXYsTXgrmEEFrRwobueCHDvrgEOj8buoPmvBF/no1caz5PmqJVNqvexrGdmTYzFDkyAl64Az7wkjP4ivHsRH+u1cT2wuBCw8NXgFRzV2nrDwecajE60Qn9v1wCL8xMEdoCH71Mrtys2C7nVbM+q7Hu2izI/O/kmuP/xBhc+pqCl4MSP7w3YuTVYaClXSSx4kY11X77Nq+ksbA9TvbVTRdvp/a3Wfy888yfh//laXAhYWhj4JsOBCJPFrxXjbcupqUq3QtfYN2g7L5ri7xqKVuifPAG88Gpd2DXTwM6twOwwYHgrsXa6PfvCReDCe+CpVeHkm3X3Pzxq8I+LwCPfHyDeQ668y9/Ze5w3lEStbGqK4g/rQsizYwYioJ88LtaE3bAeWNoTsHMrtOYGCyCMN5mzRyeEQ0fGVcF3bw945IGBxcQoLKvr9AdQUxE4O4i5SzOVKkKHngcPP18Ku/cbxOLugLXT8bMNZ5ExGqn9JQAcOtLg8KistXt3BTx478A3NrkVVck/ScFNMOWk/eDcmMpLkCIEe/l0Xdhf/JB48LvU2umIpozbZUC/vVTq6AAsLQQ8eO+gOPjZlxqcXG0MsBDQyGcmsshrFugEc4G27vZYGmw7KMbWXh7mSQefLYV98DvE/D20bsbYWSlqLOUMdggpNj3srck2br2P7n+y6Wo5yyajv1vs0ek9llKoI1PjKrah6NkHQqO/gHmsLe0m9n4zIILxWucTGxzTtkYrw7Gbu7cH7N3lSZkL7wlPv9gwO1alHBk46D4nmI4G1c7JY8yYxA5lrrxhPbC4J5Rw0eU6+CTISDZ0OJjFexfnB9iw3p/0x782Wa4xhimbeNmvQwpuIv0xibp3ZyUAf3K1LCFLvbA2CbnaaZUfmUxG3guBkTMzCWftp4DFhUFh5VNnVefCGBNPaXUSoXVRGQJO8kScZRlEgDx6urTuwj05S2E+hZkiRe9vzDCzfIu0c8sAa6Z9LL98ZpzHb4aW+uxF2o4zpJRt6yNrYa1ecatv+R/ddTvhkZaDZh3OleqxjZSlnTumBmLNdKMdW/yDZ99RaZTYR9vw8/g8dIyA/xDvhXKcFInVt/2NZ2/PM6ZtBCJE7BmUmqer7IqS7AT5xaFPXqvvyNM7tr9KXSFidBN9lqY9WRNIih6z6fJV5BAPG9dPZDiYzYiS9zAwIwZSGew1Ylx9443+7MtXgUv/rvBdKpSeiqrIkAK8A9wq6CuaGslLV0ptbLgpT4b+izp+VoJ7tu91VH+aOmxcX1ri8lWhYD4DJ84zACEk1NMlL9qWr5j1qJgWOCxtNSw4Ep6GnE+1k9loJmXxWDkmlE1kKY8TUV0+anE8Uga7HEEOCFx7QwnBLl81dJBNcv1FSY9f1WSThHw2ZZkTdMiqlHnttOucDb2spNws1kJWguojT1OT13wKsiUCAFbPi8VYJm8GhJKsi3Fn+SrS0DORgHv3nyXkXHNDxmrY5BjJgV4ydlm6L9Ds3a3Xeo+u6OdkAoe3eCOfWp2Q5AilMpG1mMzi1wa37e+7x0+tevQ0vNk+a/pw0sPZbBIRIoUJM+2zlyim9NLwVi/dy2eES1eLTE13dp5CZMep2XgVpbedPutd+rZbmCdDVfpa5UUrWCDvSoEKOBddbufWskQcPaOMVzf5yCU62viEH3vWCfTRq42LYRLYuSVkcynzbJxuGsQU2m2FAAYzHOstQj/tY95ooGjoDx9pkpVluxdV+lz422tyBpbIx/44LlrZ2eEgtRT9mWme1dZ5uzHQKT8AjRKRno3h7Wg0m04u3OO1cOFiK3T6/K6s9ADBL66YBFVMHGJIScSh0dhbF8DSt6YqaxGZfi08MKFlylKgbY78aEQFX720JxRWfuZFYfRqo2JCkXdCHt2krso8I5FPvzRGYd2biPntQQW6iyCIJTtjQjUUrkf7r1QdN3WP/+IHxcYEfvqrhr97sUkqzndD3GpTV47suKYro6MTY/zyD+OCQnh035RnZyQ/yfTdXeKqu02gUNmTKuthTkV3DjK7CfreN8ok/MvfNzg0EiW3y2FwdcS72TCb/NcV4OBzY+5/shR2cX6A2dvoWRma9YdUd21VloMLWr5TsWeNwzGhXC7Ld6S6C0v46a/EUYWm3bge+NHugIW7A0wqzGEgBOHyFeDl1xs89kJTdFUEsLB9gEf2DSpUMWpUsm93U+8p6vU7VE7dDUUr1Ftees56/xMNjpzQxLHJ7JD44hDYcCMjurpwsf1z+qxw9HUlMJAJO7894NEHBn6JJZ+SMIMpMty5LC+9fEdJxCsj2fLdq3K9UB2fzMeOCP+vYQsJ7P16wI+/PVWuNzoLZusTOQkfN4rYW7hSbDVhPp7OqUzxpZNvivt/3eDd9/A/C84Ocj667xOYHWZC2cGaJQPLFabarEnU63e+D+gzBWKauCEXvb6y5IIYHqNXxcOjjyc4Cdx2M7H77oDv7hqgsinGbNTjrY1GZr8kKSLGud6nlj9/DtCtCcy5gzLXmLgsmi6RLZ+dWm0Jt7Nvt7RMzpbEgfjNxI4tAbORynGoqr4/QmQbQ6yQDK4sL1PLdzwF8f5qZs7XjlxNtWuB8g1F7l5m1nPpqnD5ikCyhXjTVNFxFQtwqtTGShNTCbHMK0ZTAFcc9izi2KAfKhuT5nMi5KgnG60Ka6fZAXcjkbJ4sbXUEvgw2TfPK9keTncn8w0IU+EItbx5HfTh++2bm0ppIipbymVcu804+iKRlKmJLWZvZVsOWVX8pDEurrP5K4Tmc4FbVj4AcCwmAU/TqyKlHGkgC4CUp1I6QG7XlWgHbZ2wBSXeoX9n4Z4dyUeEduczh6QQyGPctnK+zRBjHDBUaXqo6VkEy0SwG4tYVqNv40LGWNJs9iqn20oQETsnpeahmGwy9zaWK8Yqybzx+EDktDj7t2MgXvHwVTJzJcQ1fMOwe96KyK9fTBJQWXXq1xvdeNWt/KPA0zWnK+jhiBEE4re8Z+W4J/E4tQ/kOeubqS9TpTXoLksLAKK7IU00ZAnBci1ZBmyXWMUM+bo80IOXQhG5xXuF6jzQ/Lw6KtCpO+cQeBSUWQEqinc5jFZl28fBQPfLHOWvBPS1v8n4tHJkUyYqi6PjgMTE90Bb+KXlN0qatndtYF/rCNnSiXffNJnLdU360Uk5IGPJ5vX5ogB2cHMvu3gVw4109JQVlrzfCouJbdPJTZsxGDwP4bPlkIvlSNU1AuX6QtbE5F6QoCZzjjrjx/PzmoyDTq9zULOHd3+EX/IAAN719xWEwQ4QT2X4VT6x9CMaC/QDq1sFRcPCxHb032jAotObNGaJFYWWXRWoV8BmR03YiRYu4pp8CMDXEolkSQJL2LlfAPHxVMx/rtFI2HPdZnsVRPRKOQ4MDnDb6ePXQ2If6aXXNs/gk+M5CN+COANiBsK6iSDC/tJFkzMp2Sq/zWG6XicHQPgAwAcgj6FpVjCNp7sG6rqv/wJhpIXYtE30lQAAAABJRU5ErkJggg==",BM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABM0lEQVRYw+1XuxHCMAx9j8sUUIc92IEUZAAqSnagoYASDwAF7JA9kjqZgjtT8Es4ApaI7iiizj7pyZalJxnopZdOZbdwpdtkkdY+i9zGlbtFfY/1hSv9EMBxnE7OGvh8jwRgNR89dwcNnSMAIMn38lvc4R8o7xzES62LOny8bA1RUzE8UJ+sKFGWw79xIHXxTZsaI4kmtYahWtSfLewQ1F4/NIzUPWD4K1GTI5I8ozzLZWlMaSEBskKkjAp4AvxUUucUsw1kTMVwviwOt7ODp3gWSoQD6y75HyH65ZEjWZrGKZB7JACSHFkXaWpcaMZUYUx2xnRt3HCMW6Zx0zceW4wHL+PRUQf/2bJB18VaBw9MzuP0PpkX6/Z+oIR/ddHqwK9Ycav731xdcMvKr/rPaC/dygVs1zkL/EsfOAAAAABJRU5ErkJggg==";var FM=Object.defineProperty,MM=Object.defineProperties,NM=Object.getOwnPropertyDescriptors,py=Object.getOwnPropertySymbols,UM=Object.prototype.hasOwnProperty,VM=Object.prototype.propertyIsEnumerable,yy=(e,t,n)=>t in e?FM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ih=(e,t)=>{for(var n in t||(t={}))UM.call(t,n)&&yy(e,n,t[n]);if(py)for(var n of py(t))VM.call(t,n)&&yy(e,n,t[n]);return e},sh=(e,t)=>MM(e,NM(t));function _y(e,t,n,r){var i,o=!1,l=0;function f(){i&&clearTimeout(i)}function c(){for(var a=arguments.length,h=new Array(a),m=0;m<a;m++)h[m]=arguments[m];var g=this,w=Date.now()-l;function T(){l=Date.now(),n.apply(g,h)}function y(){i=void 0}o||(r&&!i&&T(),f(),r===void 0&&w>e?T():t!==!0&&(i=setTimeout(r?y:T,r===void 0?e-w:e)))}return typeof t!="boolean"&&(r=n,n=t,t=void 0),c.cancel=function(){f(),o=!0},c}function Ay(e,t,n){return n===void 0?_y(e,t,!1):_y(e,n,t!==!1)}function zM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l1={exports:{}};typeof window<"u"&&(l1.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var l in r)n.d(o,l,function(f){return r[f]}.bind(null,l));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){var r=Object.prototype.hasOwnProperty,i="~";function o(){}function l(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function f(h,m,g,w,T){if(typeof g!="function")throw new TypeError("The listener must be a function");var y=new l(g,w||h,T),d=i?i+m:m;return h._events[d]?h._events[d].fn?h._events[d]=[h._events[d],y]:h._events[d].push(y):(h._events[d]=y,h._eventsCount++),h}function c(h,m){--h._eventsCount==0?h._events=new o:delete h._events[m]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1)),a.prototype.eventNames=function(){var h,m,g=[];if(this._eventsCount===0)return g;for(m in h=this._events)r.call(h,m)&&g.push(i?m.slice(1):m);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(h)):g},a.prototype.listeners=function(h){var m=i?i+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var w=0,T=g.length,y=new Array(T);w<T;w++)y[w]=g[w].fn;return y},a.prototype.listenerCount=function(h){var m=i?i+h:h,g=this._events[m];return g?g.fn?1:g.length:0},a.prototype.emit=function(h,m,g,w,T,y){var d=i?i+h:h;if(!this._events[d])return!1;var _,v,p=this._events[d],A=arguments.length;if(p.fn){switch(p.once&&this.removeListener(h,p.fn,void 0,!0),A){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,m),!0;case 3:return p.fn.call(p.context,m,g),!0;case 4:return p.fn.call(p.context,m,g,w),!0;case 5:return p.fn.call(p.context,m,g,w,T),!0;case 6:return p.fn.call(p.context,m,g,w,T,y),!0}for(v=1,_=new Array(A-1);v<A;v++)_[v-1]=arguments[v];p.fn.apply(p.context,_)}else{var b,E=p.length;for(v=0;v<E;v++)switch(p[v].once&&this.removeListener(h,p[v].fn,void 0,!0),A){case 1:p[v].fn.call(p[v].context);break;case 2:p[v].fn.call(p[v].context,m);break;case 3:p[v].fn.call(p[v].context,m,g);break;case 4:p[v].fn.call(p[v].context,m,g,w);break;default:if(!_)for(b=1,_=new Array(A-1);b<A;b++)_[b-1]=arguments[b];p[v].fn.apply(p[v].context,_)}}return!0},a.prototype.on=function(h,m,g){return f(this,h,m,g,!1)},a.prototype.once=function(h,m,g){return f(this,h,m,g,!0)},a.prototype.removeListener=function(h,m,g,w){var T=i?i+h:h;if(!this._events[T])return this;if(!m)return c(this,T),this;var y=this._events[T];if(y.fn)y.fn!==m||w&&!y.once||g&&y.context!==g||c(this,T);else{for(var d=0,_=[],v=y.length;d<v;d++)(y[d].fn!==m||w&&!y[d].once||g&&y[d].context!==g)&&_.push(y[d]);_.length?this._events[T]=_.length===1?_[0]:_:c(this,T)}return this},a.prototype.removeAllListeners=function(h){var m;return h?(m=i?i+h:h,this._events[m]&&c(this,m)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,e.exports=a},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,i,o,l,f;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,l=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,f={buildAbsoluteURL:function(c,a,h){if(h=h||{},c=c.trim(),!(a=a.trim())){if(!h.alwaysNormalize)return c;var m=f.parseURL(c);if(!m)throw new Error("Error trying to parse base URL.");return m.path=f.normalizePath(m.path),f.buildURLFromParts(m)}var g=f.parseURL(a);if(!g)throw new Error("Error trying to parse relative URL.");if(g.scheme)return h.alwaysNormalize?(g.path=f.normalizePath(g.path),f.buildURLFromParts(g)):a;var w=f.parseURL(c);if(!w)throw new Error("Error trying to parse base URL.");if(!w.netLoc&&w.path&&w.path[0]!=="/"){var T=i.exec(w.path);w.netLoc=T[1],w.path=T[2]}w.netLoc&&!w.path&&(w.path="/");var y={scheme:w.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment};if(!g.netLoc&&(y.netLoc=w.netLoc,g.path[0]!=="/"))if(g.path){var d=w.path,_=d.substring(0,d.lastIndexOf("/")+1)+g.path;y.path=f.normalizePath(_)}else y.path=w.path,g.params||(y.params=w.params,g.query||(y.query=w.query));return y.path===null&&(y.path=h.alwaysNormalize?f.normalizePath(g.path):g.path),f.buildURLFromParts(y)},parseURL:function(c){var a=r.exec(c);return a?{scheme:a[1]||"",netLoc:a[2]||"",path:a[3]||"",params:a[4]||"",query:a[5]||"",fragment:a[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(o,"");c.length!==(c=c.replace(l,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}},e.exports=f},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(a){var h={};function m(w){if(h[w])return h[w].exports;var T=h[w]={i:w,l:!1,exports:{}};return a[w].call(T.exports,T,T.exports,m),T.l=!0,T.exports}m.m=a,m.c=h,m.i=function(w){return w},m.d=function(w,T,y){m.o(w,T)||Object.defineProperty(w,T,{configurable:!1,enumerable:!0,get:y})},m.r=function(w){Object.defineProperty(w,"__esModule",{value:!0})},m.n=function(w){var T=w&&w.__esModule?function(){return w.default}:function(){return w};return m.d(T,"a",T),T},m.o=function(w,T){return Object.prototype.hasOwnProperty.call(w,T)},m.p="/",m.oe=function(w){throw console.error(w),w};var g=m(m.s=ENTRY_MODULE);return g.default||g}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function l(a){return(a+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function f(a,h,m){var g={};g[m]=[];var w=h.toString(),T=w.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!T)return g;for(var y,d=T[1],_=new RegExp("(\\\\n|\\W)"+l(d)+o,"g");y=_.exec(w);)y[3]!=="dll-reference"&&g[m].push(y[3]);for(_=new RegExp("\\("+l(d)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");y=_.exec(w);)a[y[2]]||(g[m].push(y[1]),a[y[2]]=n(y[1]).m),g[y[2]]=g[y[2]]||[],g[y[2]].push(y[4]);for(var v,p=Object.keys(g),A=0;A<p.length;A++)for(var b=0;b<g[p[A]].length;b++)v=g[p[A]][b],isNaN(1*v)||(g[p[A]][b]=1*g[p[A]][b]);return g}function c(a){return Object.keys(a).reduce(function(h,m){return h||a[m].length>0},!1)}e.exports=function(a,h){h=h||{};var m={main:n.m},g=h.all?{main:Object.keys(m.main)}:function(_,v){for(var p={main:[v]},A={main:[]},b={main:{}};c(p);)for(var E=Object.keys(p),x=0;x<E.length;x++){var k=E[x],L=p[k].pop();if(b[k]=b[k]||{},!b[k][L]&&_[k][L]){b[k][L]=!0,A[k]=A[k]||[],A[k].push(L);for(var S=f(_,_[k][L],k),C=Object.keys(S),I=0;I<C.length;I++)p[C[I]]=p[C[I]]||[],p[C[I]]=p[C[I]].concat(S[C[I]])}}return A}(m,a),w="";Object.keys(g).filter(function(_){return _!=="main"}).forEach(function(_){for(var v=0;g[_][v];)v++;g[_].push(v),m[_][v]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",w=w+"var "+_+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(v))+")({"+g[_].map(function(p){return JSON.stringify(p)+": "+m[_][p].toString()}).join(",")+`});
`}),w=w+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(a))+")({"+g.main.map(function(_){return JSON.stringify(_)+": "+m.main[_].toString()}).join(",")+"}))(self);";var T=new window.Blob([w],{type:"text/javascript"});if(h.bare)return T;var y=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(T),d=new window.Worker(y);return d.objectURL=y,d}},"./src/config.ts":function(e,t,n){n.r(t),n.d(t,"hlsDefaultConfig",function(){return E}),n.d(t,"mergeConfig",function(){return x}),n.d(t,"enableStreamingMode",function(){return k});var r=n("./src/controller/abr-controller.ts"),i=n("./src/controller/audio-stream-controller.ts"),o=n("./src/controller/audio-track-controller.ts"),l=n("./src/controller/subtitle-stream-controller.ts"),f=n("./src/controller/subtitle-track-controller.ts"),c=n("./src/controller/buffer-controller.ts"),a=n("./src/controller/timeline-controller.ts"),h=n("./src/controller/cap-level-controller.ts"),m=n("./src/controller/fps-controller.ts"),g=n("./src/controller/eme-controller.ts"),w=n("./src/utils/xhr-loader.ts"),T=n("./src/utils/fetch-loader.ts"),y=n("./src/utils/cues.ts"),d=n("./src/utils/mediakeys-helper.ts"),_=n("./src/utils/logger.ts");function v(){return(v=Object.assign||function(L){for(var S=1;S<arguments.length;S++){var C=arguments[S];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(L[I]=C[I])}return L}).apply(this,arguments)}function p(L,S){var C=Object.keys(L);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(L);S&&(I=I.filter(function(D){return Object.getOwnPropertyDescriptor(L,D).enumerable})),C.push.apply(C,I)}return C}function A(L){for(var S=1;S<arguments.length;S++){var C=arguments[S]!=null?arguments[S]:{};S%2?p(Object(C),!0).forEach(function(I){b(L,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(C)):p(Object(C)).forEach(function(I){Object.defineProperty(L,I,Object.getOwnPropertyDescriptor(C,I))})}return L}function b(L,S,C){return S in L?Object.defineProperty(L,S,{value:C,enumerable:!0,configurable:!0,writable:!0}):L[S]=C,L}var E=A(A({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:w.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:c.default,capLevelController:h.default,fpsController:m.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:d.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:y.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:l.SubtitleStreamController,subtitleTrackController:f.default,timelineController:a.TimelineController,audioStreamController:i.default,audioTrackController:o.default,emeController:g.default});function x(L,S){if((S.liveSyncDurationCount||S.liveMaxLatencyDurationCount)&&(S.liveSyncDuration||S.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(S.liveMaxLatencyDurationCount!==void 0&&(S.liveSyncDurationCount===void 0||S.liveMaxLatencyDurationCount<=S.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(S.liveMaxLatencyDuration!==void 0&&(S.liveSyncDuration===void 0||S.liveMaxLatencyDuration<=S.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return v({},L,S)}function k(L){var S=L.loader;S!==T.default&&S!==w.default?(_.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),L.progressive=!1):Object(T.fetchSupported)()&&(L.loader=T.default,L.progressive=!0,L.enableSoftwareAES=!0,_.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/ewma-bandwidth-estimator.ts"),o=n("./src/events.ts"),l=n("./src/utils/buffer-helper.ts"),f=n("./src/errors.ts"),c=n("./src/types/loader.ts"),a=n("./src/utils/logger.ts");function h(g,w){for(var T=0;T<w.length;T++){var y=w[T];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}var m=function(){function g(d){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=d;var _=d.config;this.bwEstimator=new i.default(_.abrEwmaSlowVoD,_.abrEwmaFastVoD,_.abrEwmaDefaultEstimate),this.registerListeners()}var w,T,y=g.prototype;return y.registerListeners=function(){var d=this.hls;d.on(o.Events.FRAG_LOADING,this.onFragLoading,this),d.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),d.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),d.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.on(o.Events.ERROR,this.onError,this)},y.unregisterListeners=function(){var d=this.hls;d.off(o.Events.FRAG_LOADING,this.onFragLoading,this),d.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),d.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),d.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),d.off(o.Events.ERROR,this.onError,this)},y.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},y.onFragLoading=function(d,_){var v,p=_.frag;p.type===c.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=p,this.partCurrent=(v=_.part)!=null?v:null,this.timer=self.setInterval(this.onCheck,100)))},y.onLevelLoaded=function(d,_){var v=this.hls.config;_.details.live?this.bwEstimator.update(v.abrEwmaSlowLive,v.abrEwmaFastLive):this.bwEstimator.update(v.abrEwmaSlowVoD,v.abrEwmaFastVoD)},y._abandonRulesCheck=function(){var d=this.fragCurrent,_=this.partCurrent,v=this.hls,p=v.autoLevelEnabled,A=v.config,b=v.media;if(d&&b){var E=_?_.stats:d.stats,x=_?_.duration:d.duration;if(E.aborted)return a.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(p&&!b.paused&&b.playbackRate&&b.readyState){var k=performance.now()-E.loading.start,L=Math.abs(b.playbackRate);if(!(k<=500*x/L)){var S=v.levels,C=v.minAutoLevel,I=S[d.level],D=E.total||Math.max(E.loaded,Math.round(x*I.maxBitrate/8)),P=Math.max(1,E.bwEstimate?E.bwEstimate/8:1e3*E.loaded/k),F=(D-E.loaded)/P,U=b.currentTime,M=(l.BufferHelper.bufferInfo(b,U,A.maxBufferHole).end-U)/L;if(!(M>=2*x/L||F<=M)){var V,H=Number.POSITIVE_INFINITY;for(V=d.level-1;V>C&&!((H=x*S[V].maxBitrate/(6.4*P))<M);V--);if(!(H>=F)){var z=this.bwEstimator.getEstimate();a.logger.warn("Fragment "+d.sn+(_?" part "+_.index:"")+" of level "+d.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+V+`
      Current BW estimate: `+(Object(r.isFiniteNumber)(z)?(z/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+F.toFixed(3)+` s
      Estimated load time for the next fragment: `+H.toFixed(3)+` s
      Time to underbuffer: `+M.toFixed(3)+" s"),v.nextLoadLevel=V,this.bwEstimator.sample(k,E.loaded),this.clearTimer(),d.loader&&(this.fragCurrent=this.partCurrent=null,d.loader.abort()),v.trigger(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:d,part:_,stats:E})}}}}}},y.onFragLoaded=function(d,_){var v=_.frag,p=_.part;if(v.type===c.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(v.sn)){var A=p?p.stats:v.stats,b=p?p.duration:v.duration;if(this.clearTimer(),this.lastLoadedFragLevel=v.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var E=this.hls.levels[v.level],x=(E.loaded?E.loaded.bytes:0)+A.loaded,k=(E.loaded?E.loaded.duration:0)+b;E.loaded={bytes:x,duration:k},E.realBitrate=Math.round(8*x/k)}if(v.bitrateTest){var L={stats:A,frag:v,part:p,id:v.type};this.onFragBuffered(o.Events.FRAG_BUFFERED,L),v.bitrateTest=!1}}},y.onFragBuffered=function(d,_){var v=_.frag,p=_.part,A=p?p.stats:v.stats;if(!A.aborted&&v.type===c.PlaylistLevelType.MAIN&&v.sn!=="initSegment"){var b=A.parsing.end-A.loading.start;this.bwEstimator.sample(b,A.loaded),A.bwEstimate=this.bwEstimator.getEstimate(),v.bitrateTest?this.bitrateTestDelay=b/1e3:this.bitrateTestDelay=0}},y.onError=function(d,_){switch(_.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},y.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},y.getNextABRAutoLevel=function(){var d=this.fragCurrent,_=this.partCurrent,v=this.hls,p=v.maxAutoLevel,A=v.config,b=v.minAutoLevel,E=v.media,x=_?_.duration:d?d.duration:0,k=E?E.currentTime:0,L=E&&E.playbackRate!==0?Math.abs(E.playbackRate):1,S=this.bwEstimator?this.bwEstimator.getEstimate():A.abrEwmaDefaultEstimate,C=(l.BufferHelper.bufferInfo(E,k,A.maxBufferHole).end-k)/L,I=this.findBestLevel(S,b,p,C,A.abrBandWidthFactor,A.abrBandWidthUpFactor);if(I>=0)return I;a.logger.trace((C?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var D=x?Math.min(x,A.maxStarvationDelay):A.maxStarvationDelay,P=A.abrBandWidthFactor,F=A.abrBandWidthUpFactor;if(!C){var U=this.bitrateTestDelay;U&&(D=(x?Math.min(x,A.maxLoadingDelay):A.maxLoadingDelay)-U,a.logger.trace("bitrate test took "+Math.round(1e3*U)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*D)+" ms"),P=F=1)}return I=this.findBestLevel(S,b,p,C+D,P,F),Math.max(I,0)},y.findBestLevel=function(d,_,v,p,A,b){for(var E,x=this.fragCurrent,k=this.partCurrent,L=this.lastLoadedFragLevel,S=this.hls.levels,C=S[L],I=!(C==null||(E=C.details)===null||E===void 0||!E.live),D=C==null?void 0:C.codecSet,P=k?k.duration:x?x.duration:0,F=v;F>=_;F--){var U=S[F];if(U&&(!D||U.codecSet===D)){var M=U.details,V=(k?M==null?void 0:M.partTarget:M==null?void 0:M.averagetargetduration)||P,H=void 0;H=F<=L?A*d:b*d;var z=S[F].maxBitrate,j=z*V/H;if(a.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+F+"/"+Math.round(H)+"/"+z+"/"+V+"/"+p+"/"+j),H>z&&(!j||I&&!this.bitrateTestDelay||j<p))return F}}return-1},w=g,(T=[{key:"nextAutoLevel",get:function(){var d=this._nextAutoLevel,_=this.bwEstimator;if(!(d===-1||_&&_.canEstimate()))return d;var v=this.getNextABRAutoLevel();return d!==-1&&(v=Math.min(d,v)),v},set:function(d){this._nextAutoLevel=d}}])&&h(w.prototype,T),g}();t.default=m},"./src/controller/audio-stream-controller.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/events.ts"),l=n("./src/utils/buffer-helper.ts"),f=n("./src/controller/fragment-tracker.ts"),c=n("./src/types/level.ts"),a=n("./src/types/loader.ts"),h=n("./src/loader/fragment.ts"),m=n("./src/demux/chunk-cache.ts"),g=n("./src/demux/transmuxer-interface.ts"),w=n("./src/types/transmuxer.ts"),T=n("./src/controller/fragment-finders.ts"),y=n("./src/utils/discontinuities.ts"),d=n("./src/errors.ts"),_=n("./src/utils/logger.ts");function v(){return(v=Object.assign||function(b){for(var E=1;E<arguments.length;E++){var x=arguments[E];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(b[k]=x[k])}return b}).apply(this,arguments)}function p(b,E){return(p=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x})(b,E)}var A=function(b){var E,x;function k(S,C){var I;return(I=b.call(this,S,C,"[audio-stream-controller]")||this).videoBuffer=null,I.videoTrackCC=-1,I.waitingVideoCC=-1,I.audioSwitch=!1,I.trackId=-1,I.waitingData=null,I.mainDetails=null,I.bufferFlushed=!1,I._registerListeners(),I}x=b,(E=k).prototype=Object.create(x.prototype),E.prototype.constructor=E,p(E,x);var L=k.prototype;return L.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},L._registerListeners=function(){var S=this.hls;S.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.on(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),S.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),S.on(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),S.on(o.Events.ERROR,this.onError,this),S.on(o.Events.BUFFER_RESET,this.onBufferReset,this),S.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),S.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),S.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),S.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},L._unregisterListeners=function(){var S=this.hls;S.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.off(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),S.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),S.off(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),S.off(o.Events.ERROR,this.onError,this),S.off(o.Events.BUFFER_RESET,this.onBufferReset,this),S.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),S.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),S.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),S.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},L.onInitPtsFound=function(S,C){var I=C.frag,D=C.id,P=C.initPTS;if(D==="main"){var F=I.cc;this.initPTS[I.cc]=P,this.log("InitPTS for cc: "+F+" found from main: "+P),this.videoTrackCC=F,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},L.startLoad=function(S){if(!this.levels)return this.startPosition=S,void(this.state=i.State.STOPPED);var C=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,C>0&&S===-1?(this.log("Override startPosition with lastCurrentTime @"+C.toFixed(3)),this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=S,this.tick()},L.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var S,C=this.levels,I=this.trackId,D=C==null||(S=C[I])===null||S===void 0?void 0:S.details;if(D){if(this.waitForCdnTuneIn(D))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var P,F=performance.now(),U=this.retryDate;(!U||F>=U||(P=this.media)!==null&&P!==void 0&&P.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var M=this.waitingData;if(M){var V=M.frag,H=M.part,z=M.cache,j=M.complete;if(this.initPTS[V.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var Q={frag:V,part:H,payload:z.flush(),networkDetails:null};this._handleFragmentLoadProgress(Q),j&&b.prototype._handleFragmentLoadComplete.call(this,Q)}else if(this.videoTrackCC!==this.waitingVideoCC)_.logger.log("Waiting fragment cc ("+V.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var ie=this.getLoadPosition(),ne=l.BufferHelper.bufferInfo(this.mediaBuffer,ie,this.config.maxBufferHole);Object(T.fragmentWithinToleranceTest)(ne.end,this.config.maxFragLookUpTolerance,V)<0&&(_.logger.log("Waiting fragment cc ("+V.cc+") @ "+V.start+" cancelled because another fragment at "+ne.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},L.clearWaitingFragment=function(){var S=this.waitingData;S&&(this.fragmentTracker.removeFragment(S.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},L.onTickEnd=function(){var S=this.media;if(S&&S.readyState){var C=(this.mediaBuffer?this.mediaBuffer:S).buffered;!this.loadedmetadata&&C.length&&(this.loadedmetadata=!0),this.lastCurrentTime=S.currentTime}},L.doTickIdle=function(){var S,C,I=this.hls,D=this.levels,P=this.media,F=this.trackId,U=I.config;if(D&&D[F]&&(P||!this.startFragRequested&&U.startFragPrefetch)){var M=D[F].details;if(!M||M.live&&this.levelLastLoaded!==F||this.waitForCdnTuneIn(M))this.state=i.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,h.ElementaryStreamTypes.AUDIO,a.PlaylistLevelType.AUDIO));var V=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,a.PlaylistLevelType.AUDIO);if(V!==null){var H=V.len,z=this.getMaxBufferLength(),j=this.audioSwitch;if(!(H>=z)||j){if(!j&&this._streamEnded(V,M))return I.trigger(o.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var Q=M.fragments[0].start,ie=V.end;if(j){var ne=this.getLoadPosition();ie=ne,M.PTSKnown&&ne<Q&&(V.end>Q||V.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),P.currentTime=Q+.05)}var X=this.getNextFragment(ie,M);X?((S=X.decryptdata)===null||S===void 0?void 0:S.keyFormat)!=="identity"||(C=X.decryptdata)!==null&&C!==void 0&&C.key?this.loadFragment(X,M,ie):this.loadKey(X,M):this.bufferFlushed=!0}}}}},L.getMaxBufferLength=function(){var S=b.prototype.getMaxBufferLength.call(this),C=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,a.PlaylistLevelType.MAIN);return C===null?S:Math.max(S,C.len)},L.onMediaDetaching=function(){this.videoBuffer=null,b.prototype.onMediaDetaching.call(this)},L.onAudioTracksUpdated=function(S,C){var I=C.audioTracks;this.resetTransmuxer(),this.levels=I.map(function(D){return new c.Level(D)})},L.onAudioTrackSwitching=function(S,C){var I=!!C.url;this.trackId=C.id;var D=this.fragCurrent;D!=null&&D.loader&&D.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),I?this.setInterval(100):this.resetTransmuxer(),I?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},L.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},L.onLevelLoaded=function(S,C){this.mainDetails=C.details},L.onAudioTrackLoaded=function(S,C){var I,D=this.levels,P=C.details,F=C.id;if(D){this.log("Track "+F+" loaded ["+P.startSN+","+P.endSN+"],duration:"+P.totalduration);var U=D[F],M=0;if(P.live||(I=U.details)!==null&&I!==void 0&&I.live){var V=this.mainDetails;if(P.fragments[0]||(P.deltaUpdateFailed=!0),P.deltaUpdateFailed||!V)return;!U.details&&P.hasProgramDateTime&&V.hasProgramDateTime?(Object(y.alignPDT)(P,V),M=P.fragments[0].start):M=this.alignPlaylists(P,U.details)}U.details=P,this.levelLastLoaded=F,this.startFragRequested||!this.mainDetails&&P.live||this.setStartPosition(U.details,M),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(P)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+F)},L._handleFragmentLoadProgress=function(S){var C,I=S.frag,D=S.part,P=S.payload,F=this.config,U=this.trackId,M=this.levels;if(M){var V=M[U];console.assert(V,"Audio track is defined on fragment load progress");var H=V.details;console.assert(H,"Audio track details are defined on fragment load progress");var z=F.defaultAudioCodec||V.audioCodec||"mp4a.40.2",j=this.transmuxer;j||(j=this.transmuxer=new g.default(this.hls,a.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var Q=this.initPTS[I.cc],ie=(C=I.initSegment)===null||C===void 0?void 0:C.data;if(Q!==void 0){var ne=D?D.index:-1,X=ne!==-1,J=new w.ChunkMetadata(I.level,I.sn,I.stats.chunkCount,P.byteLength,ne,X);j.push(P,ie,z,"",I,D,H.totalduration,!1,J,Q)}else _.logger.log("Unknown video PTS for cc "+I.cc+", waiting for video PTS before demuxing audio frag "+I.sn+" of ["+H.startSN+" ,"+H.endSN+"],track "+U),(this.waitingData=this.waitingData||{frag:I,part:D,cache:new m.default,complete:!1}).cache.push(new Uint8Array(P)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+I.sn+" of level "+I.level+" will not be buffered")},L._handleFragmentLoadComplete=function(S){this.waitingData?this.waitingData.complete=!0:b.prototype._handleFragmentLoadComplete.call(this,S)},L.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},L.onBufferCreated=function(S,C){var I=C.tracks.audio;I&&(this.mediaBuffer=I.buffer),C.tracks.video&&(this.videoBuffer=C.tracks.video.buffer)},L.onFragBuffered=function(S,C){var I=C.frag,D=C.part;I.type===a.PlaylistLevelType.AUDIO&&(this.fragContextChanged(I)?this.warn("Fragment "+I.sn+(D?" p: "+D.index:"")+" of level "+I.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(I.sn!=="initSegment"&&(this.fragPrevious=I,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(I,D)))},L.onError=function(S,C){switch(C.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(a.PlaylistLevelType.AUDIO,C);break;case d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case d.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=C.fatal?i.State.ERROR:i.State.IDLE,this.warn(C.details+" while loading frag, switching to "+this.state+" state"));break;case d.ErrorDetails.BUFFER_FULL_ERROR:if(C.parent==="audio"&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var I=!0,D=this.getFwdBufferInfo(this.mediaBuffer,a.PlaylistLevelType.AUDIO);D&&D.len>.5&&(I=!this.reduceMaxBufferLength(D.len)),I&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,b.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},L.onBufferFlushed=function(S,C){C.type===h.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},L._handleTransmuxComplete=function(S){var C,I="audio",D=this.hls,P=S.remuxResult,F=S.chunkMeta,U=this.getCurrentContext(F);if(!U)return this.warn("The loading context changed while buffering fragment "+F.sn+" of level "+F.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(F.level);var M=U.frag,V=U.part,H=P.audio,z=P.text,j=P.id3,Q=P.initSegment;if(!this.fragContextChanged(M)){if(this.state=i.State.PARSING,this.audioSwitch&&H&&this.completeAudioSwitch(),Q!=null&&Q.tracks&&(this._bufferInitSegment(Q.tracks,M,F),D.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:M,id:I,tracks:Q.tracks})),H){var ie=H.startPTS,ne=H.endPTS,X=H.startDTS,J=H.endDTS;V&&(V.elementaryStreams[h.ElementaryStreamTypes.AUDIO]={startPTS:ie,endPTS:ne,startDTS:X,endDTS:J}),M.setElementaryStreamInfo(h.ElementaryStreamTypes.AUDIO,ie,ne,X,J),this.bufferFragmentData(H,M,V,F)}if(j!=null&&(C=j.samples)!==null&&C!==void 0&&C.length){var se=v({frag:M,id:I},j);D.trigger(o.Events.FRAG_PARSING_METADATA,se)}if(z){var ce=v({frag:M,id:I},z);D.trigger(o.Events.FRAG_PARSING_USERDATA,ce)}}},L._bufferInitSegment=function(S,C,I){if(this.state===i.State.PARSING){S.video&&delete S.video;var D=S.audio;if(D){D.levelCodec=D.codec,D.id="audio",this.log("Init audio buffer, container:"+D.container+", codecs[parsed]=["+D.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,S);var P=D.initSegment;if(P!=null&&P.byteLength){var F={type:"audio",frag:C,part:null,chunkMeta:I,parent:C.type,data:P};this.hls.trigger(o.Events.BUFFER_APPENDING,F)}this.tick()}}},L.loadFragment=function(S,C,I){var D=this.fragmentTracker.getState(S);this.fragCurrent=S,(this.audioSwitch||D===f.FragmentState.NOT_LOADED||D===f.FragmentState.PARTIAL)&&(S.sn==="initSegment"?this._loadInitSegment(S):C.live&&!Object(r.isFiniteNumber)(this.initPTS[S.cc])?(this.log("Waiting for video PTS in continuity counter "+S.cc+" of live stream before loading audio fragment "+S.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,b.prototype.loadFragment.call(this,S,C,I)))},L.completeAudioSwitch=function(){var S=this.hls,C=this.media,I=this.trackId;C&&(this.log("Switching audio track : flushing all audio"),b.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,S.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:I})},k}(i.default);t.default=A},"./src/controller/audio-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/controller/base-playlist-controller.ts"),l=n("./src/types/loader.ts");function f(h,m){for(var g=0;g<m.length;g++){var w=m[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}function c(h,m){return(c=Object.setPrototypeOf||function(g,w){return g.__proto__=w,g})(h,m)}var a=function(h){var m,g;function w(_){var v;return(v=h.call(this,_,"[audio-track-controller]")||this).tracks=[],v.groupId=null,v.tracksInGroup=[],v.trackId=-1,v.trackName="",v.selectDefaultTrack=!0,v.registerListeners(),v}g=h,(m=w).prototype=Object.create(g.prototype),m.prototype.constructor=m,c(m,g);var T,y,d=w.prototype;return d.registerListeners=function(){var _=this.hls;_.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),_.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),_.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),_.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),_.on(r.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var _=this.hls;_.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),_.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),_.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),_.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),_.off(r.Events.ERROR,this.onError,this)},d.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,h.prototype.destroy.call(this)},d.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},d.onManifestParsed=function(_,v){this.tracks=v.audioTracks||[]},d.onAudioTrackLoaded=function(_,v){var p=v.id,A=v.details,b=this.tracksInGroup[p];if(b){var E=b.details;b.details=v.details,this.log("audioTrack "+p+" loaded ["+A.startSN+"-"+A.endSN+"]"),p===this.trackId&&(this.retryCount=0,this.playlistLoaded(p,v,E))}else this.warn("Invalid audio track id "+p)},d.onLevelLoading=function(_,v){this.switchLevel(v.level)},d.onLevelSwitching=function(_,v){this.switchLevel(v.level)},d.switchLevel=function(_){var v=this.hls.levels[_];if(v!=null&&v.audioGroupIds){var p=v.audioGroupIds[v.urlId];if(this.groupId!==p){this.groupId=p;var A=this.tracks.filter(function(E){return!p||E.groupId===p});this.selectDefaultTrack&&!A.some(function(E){return E.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=A;var b={audioTracks:A};this.log("Updating audio tracks, "+A.length+' track(s) found in "'+p+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,b),this.selectInitialTrack()}}},d.onError=function(_,v){h.prototype.onError.call(this,_,v),!v.fatal&&v.context&&v.context.type===l.PlaylistContextType.AUDIO_TRACK&&v.context.id===this.trackId&&v.context.groupId===this.groupId&&this.retryLoadingOrFail(v)},d.setAudioTrack=function(_){var v=this.tracksInGroup;if(_<0||_>=v.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var p=v[this.trackId];this.log("Now switching to audio-track index "+_);var A=v[_],b=A.id,E=A.groupId,x=E===void 0?"":E,k=A.name,L=A.type,S=A.url;if(this.trackId=_,this.trackName=k,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:b,groupId:x,name:k,type:L,url:S}),!A.details||A.details.live){var C=this.switchParams(A.url,p==null?void 0:p.details);this.loadPlaylist(C)}}},d.selectInitialTrack=function(){var _=this.tracksInGroup;console.assert(_.length,"Initial audio track should be selected when tracks are known");var v=this.trackName,p=this.findTrackId(v)||this.findTrackId();p!==-1?this.setAudioTrack(p):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},d.findTrackId=function(_){for(var v=this.tracksInGroup,p=0;p<v.length;p++){var A=v[p];if((!this.selectDefaultTrack||A.default)&&(!_||_===A.name))return A.id}return-1},d.loadPlaylist=function(_){var v=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(v)){var p=v.id,A=v.groupId,b=v.url;if(_)try{b=_.addDirectives(b)}catch(E){this.warn("Could not construct new URL with HLS Delivery Directives: "+E)}this.log("loading audio-track playlist for id: "+p),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:b,id:p,groupId:A,deliveryDirectives:_||null})}},T=w,(y=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(_){this.selectDefaultTrack=!1,this.setAudioTrack(_)}}])&&f(T.prototype,y),w}(o.default);t.default=a},"./src/controller/base-playlist-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return c});var r=n("./src/polyfills/number.ts"),i=n("./src/types/level.ts"),o=n("./src/controller/level-helper.ts"),l=n("./src/utils/logger.ts"),f=n("./src/errors.ts"),c=function(){function a(m,g){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=l.logger.log.bind(l.logger,g+":"),this.warn=l.logger.warn.bind(l.logger,g+":"),this.hls=m}var h=a.prototype;return h.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},h.onError=function(m,g){g.fatal&&g.type===f.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},h.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},h.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},h.stopLoad=function(){this.canLoad=!1,this.clearTimer()},h.switchParams=function(m,g){var w=g==null?void 0:g.renditionReports;if(w)for(var T=0;T<w.length;T++){var y=w[T],d=""+y.URI;if(d===m.substr(-d.length)){var _=parseInt(y["LAST-MSN"]),v=parseInt(y["LAST-PART"]);if(g&&this.hls.config.lowLatencyMode){var p=Math.min(g.age-g.partTarget,g.targetduration);v!==void 0&&p>g.partTarget&&(v+=1)}if(Object(r.isFiniteNumber)(_))return new i.HlsUrlParameters(_,Object(r.isFiniteNumber)(v)?v:void 0,i.HlsSkip.No)}}},h.loadPlaylist=function(m){},h.shouldLoadTrack=function(m){return this.canLoad&&m&&!!m.url&&(!m.details||m.details.live)},h.playlistLoaded=function(m,g,w){var T=this,y=g.details,d=g.stats,_=d.loading.end?Math.max(0,self.performance.now()-d.loading.end):0;if(y.advancedDateTime=Date.now()-_,y.live||w!=null&&w.live){if(y.reloaded(w),w&&this.log("live playlist "+m+" "+(y.advanced?"REFRESHED "+y.lastPartSn+"-"+y.lastPartIndex:"MISSED")),w&&y.fragments.length>0&&Object(o.mergeDetails)(w,y),!this.canLoad||!y.live)return;var v,p=void 0,A=void 0;if(y.canBlockReload&&y.endSN&&y.advanced){var b=this.hls.config.lowLatencyMode,E=y.lastPartSn,x=y.endSN,k=y.lastPartIndex,L=E===x;k!==-1?(p=L?x+1:E,A=L?b?0:k:k+1):p=x+1;var S=y.age,C=S+y.ageHeader,I=Math.min(C-y.partTarget,1.5*y.targetduration);if(I>0){if(w&&I>w.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+w.tuneInGoal+" to: "+I+" with playlist age: "+y.age),I=0;else{var D=Math.floor(I/y.targetduration);p+=D,A!==void 0&&(A+=Math.round(I%y.targetduration/y.partTarget)),this.log("CDN Tune-in age: "+y.ageHeader+"s last advanced "+S.toFixed(2)+"s goal: "+I+" skip sn "+D+" to part "+A)}y.tuneInGoal=I}if(v=this.getDeliveryDirectives(y,g.deliveryDirectives,p,A),b||!L)return void this.loadPlaylist(v)}else v=this.getDeliveryDirectives(y,g.deliveryDirectives,p,A);var P=Object(o.computeReloadInterval)(y,d);p!==void 0&&y.canBlockReload&&(P-=y.partTarget||1),this.log("reload live playlist "+m+" in "+Math.round(P)+" ms"),this.timer=self.setTimeout(function(){return T.loadPlaylist(v)},P)}else this.clearTimer()},h.getDeliveryDirectives=function(m,g,w,T){var y=Object(i.getSkipValue)(m,w);return g!=null&&g.skip&&m.deltaUpdateFailed&&(w=g.msn,T=g.part,y=i.HlsSkip.No),new i.HlsUrlParameters(w,T,y)},h.retryLoadingOrFail=function(m){var g,w=this,T=this.hls.config,y=this.retryCount<T.levelLoadingMaxRetry;if(y)if(this.retryCount++,m.details.indexOf("LoadTimeOut")>-1&&(g=m.context)!==null&&g!==void 0&&g.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+m.details+'"'),this.loadPlaylist();else{var d=Math.min(Math.pow(2,this.retryCount)*T.levelLoadingRetryDelay,T.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return w.loadPlaylist()},d),this.warn("retry playlist loading #"+this.retryCount+" in "+d+' ms after "'+m.details+'"')}else this.warn('cannot recover from error "'+m.details+'"'),this.clearTimer(),m.fatal=!0;return y},a}()},"./src/controller/base-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"State",function(){return b}),n.d(t,"default",function(){return E});var r=n("./src/polyfills/number.ts"),i=n("./src/task-loop.ts"),o=n("./src/controller/fragment-tracker.ts"),l=n("./src/utils/buffer-helper.ts"),f=n("./src/utils/logger.ts"),c=n("./src/events.ts"),a=n("./src/errors.ts"),h=n("./src/types/transmuxer.ts"),m=n("./src/utils/mp4-tools.ts"),g=n("./src/utils/discontinuities.ts"),w=n("./src/controller/fragment-finders.ts"),T=n("./src/controller/level-helper.ts"),y=n("./src/loader/fragment-loader.ts"),d=n("./src/crypt/decrypter.ts"),_=n("./src/utils/time-ranges.ts"),v=n("./src/types/loader.ts");function p(x,k){for(var L=0;L<k.length;L++){var S=k[L];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}function A(x,k){return(A=Object.setPrototypeOf||function(L,S){return L.__proto__=S,L})(x,k)}var b={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},E=function(x){var k,L;function S(P,F,U){var M;return(M=x.call(this)||this).hls=void 0,M.fragPrevious=null,M.fragCurrent=null,M.fragmentTracker=void 0,M.transmuxer=null,M._state=b.STOPPED,M.media=void 0,M.mediaBuffer=void 0,M.config=void 0,M.bitrateTest=!1,M.lastCurrentTime=0,M.nextLoadPosition=0,M.startPosition=0,M.loadedmetadata=!1,M.fragLoadError=0,M.retryDate=0,M.levels=null,M.fragmentLoader=void 0,M.levelLastLoaded=null,M.startFragRequested=!1,M.decrypter=void 0,M.initPTS=[],M.onvseeking=null,M.onvended=null,M.logPrefix="",M.log=void 0,M.warn=void 0,M.logPrefix=U,M.log=f.logger.log.bind(f.logger,U+":"),M.warn=f.logger.warn.bind(f.logger,U+":"),M.hls=P,M.fragmentLoader=new y.default(P.config),M.fragmentTracker=F,M.config=P.config,M.decrypter=new d.default(P,P.config),P.on(c.Events.KEY_LOADED,M.onKeyLoaded,function(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}(M)),M}L=x,(k=S).prototype=Object.create(L.prototype),k.prototype.constructor=k,A(k,L);var C,I,D=S.prototype;return D.doTick=function(){this.onTickEnd()},D.onTickEnd=function(){},D.startLoad=function(P){},D.stopLoad=function(){this.fragmentLoader.abort();var P=this.fragCurrent;P&&this.fragmentTracker.removeFragment(P),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=b.STOPPED},D._streamEnded=function(P,F){var U=this.fragCurrent,M=this.fragmentTracker;if(!F.live&&U&&U.sn===F.endSN&&!P.nextStart){var V=M.getState(U);return V===o.FragmentState.PARTIAL||V===o.FragmentState.OK}return!1},D.onMediaAttached=function(P,F){var U=this.media=this.mediaBuffer=F.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),U.addEventListener("seeking",this.onvseeking),U.addEventListener("ended",this.onvended);var M=this.config;this.levels&&M.autoStartLoad&&this.state===b.STOPPED&&this.startLoad(M.startPosition)},D.onMediaDetaching=function(){var P=this.media;P!=null&&P.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),P&&(P.removeEventListener("seeking",this.onvseeking),P.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},D.onMediaSeeking=function(){var P=this.config,F=this.fragCurrent,U=this.media,M=this.mediaBuffer,V=this.state,H=U?U.currentTime:0,z=l.BufferHelper.bufferInfo(M||U,H,P.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(H)?H.toFixed(3):H)+", state: "+V),V===b.ENDED)this.resetLoadingState();else if(F&&!z.len){var j=P.maxFragLookUpTolerance,Q=F.start-j,ie=H>F.start+F.duration+j;(H<Q||ie)&&(ie&&F.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),F.loader.abort()),this.resetLoadingState())}U&&(this.lastCurrentTime=H),this.loadedmetadata||z.len||(this.nextLoadPosition=this.startPosition=H),this.tickImmediate()},D.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},D.onKeyLoaded=function(P,F){if(this.state===b.KEY_LOADING&&F.frag===this.fragCurrent&&this.levels){this.state=b.IDLE;var U=this.levels[F.frag.level].details;U&&this.loadFragment(F.frag,U,F.frag.start)}},D.onHandlerDestroying=function(){this.stopLoad(),x.prototype.onHandlerDestroying.call(this)},D.onHandlerDestroyed=function(){this.state=b.STOPPED,this.hls.off(c.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,x.prototype.onHandlerDestroyed.call(this)},D.loadKey=function(P,F){this.log("Loading key for "+P.sn+" of ["+F.startSN+"-"+F.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+P.level),this.state=b.KEY_LOADING,this.fragCurrent=P,this.hls.trigger(c.Events.KEY_LOADING,{frag:P})},D.loadFragment=function(P,F,U){this._loadFragForPlayback(P,F,U)},D._loadFragForPlayback=function(P,F,U){var M=this;this._doFragLoad(P,F,U,function(V){if(M.fragContextChanged(P))return M.warn("Fragment "+P.sn+(V.part?" p: "+V.part.index:"")+" of level "+P.level+" was dropped during download."),void M.fragmentTracker.removeFragment(P);P.stats.chunkCount++,M._handleFragmentLoadProgress(V)}).then(function(V){if(V){M.fragLoadError=0;var H=M.state;if(!M.fragContextChanged(P))return"payload"in V&&(M.log("Loaded fragment "+P.sn+" of level "+P.level),M.hls.trigger(c.Events.FRAG_LOADED,V),M.state===b.BACKTRACKING)?(M.fragmentTracker.backtrack(P,V),void M.resetFragmentLoading(P)):void M._handleFragmentLoadComplete(V);(H===b.FRAG_LOADING||H===b.BACKTRACKING||!M.fragCurrent&&H===b.PARSING)&&(M.fragmentTracker.removeFragment(P),M.state=b.IDLE)}}).catch(function(V){M.warn(V),M.resetFragmentLoading(P)})},D.flushMainBuffer=function(P,F,U){if(U===void 0&&(U=null),P-F){var M={startOffset:P,endOffset:F,type:U};this.fragLoadError=0,this.hls.trigger(c.Events.BUFFER_FLUSHING,M)}},D._loadInitSegment=function(P){var F=this;this._doFragLoad(P).then(function(U){if(!U||F.fragContextChanged(P)||!F.levels)throw new Error("init load aborted");return U}).then(function(U){var M=F.hls,V=U.payload,H=P.decryptdata;if(V&&V.byteLength>0&&H&&H.key&&H.iv&&H.method==="AES-128"){var z=self.performance.now();return F.decrypter.webCryptoDecrypt(new Uint8Array(V),H.key.buffer,H.iv.buffer).then(function(j){var Q=self.performance.now();return M.trigger(c.Events.FRAG_DECRYPTED,{frag:P,payload:j,stats:{tstart:z,tdecrypt:Q}}),U.payload=j,U})}return U}).then(function(U){var M=F.fragCurrent,V=F.hls,H=F.levels;if(!H)throw new Error("init load aborted, missing levels");var z=H[P.level].details;console.assert(z,"Level details are defined when init segment is loaded");var j=P.stats;F.state=b.IDLE,F.fragLoadError=0,P.data=new Uint8Array(U.payload),j.parsing.start=j.buffering.start=self.performance.now(),j.parsing.end=j.buffering.end=self.performance.now(),U.frag===M&&V.trigger(c.Events.FRAG_BUFFERED,{stats:j,frag:M,part:null,id:P.type}),F.tick()}).catch(function(U){F.warn(U),F.resetFragmentLoading(P)})},D.fragContextChanged=function(P){var F=this.fragCurrent;return!P||!F||P.level!==F.level||P.sn!==F.sn||P.urlId!==F.urlId},D.fragBufferedComplete=function(P,F){var U=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+P.type+" sn: "+P.sn+(F?" part: "+F.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+P.level+" "+_.default.toString(l.BufferHelper.getBuffered(U))),this.state=b.IDLE,this.tick()},D._handleFragmentLoadComplete=function(P){var F=this.transmuxer;if(F){var U=P.frag,M=P.part,V=P.partsLoaded,H=!V||V.length===0||V.some(function(j){return!j}),z=new h.ChunkMetadata(U.level,U.sn,U.stats.chunkCount+1,0,M?M.index:-1,!H);F.flush(z)}},D._handleFragmentLoadProgress=function(P){},D._doFragLoad=function(P,F,U,M){var V=this;if(U===void 0&&(U=null),!this.levels)throw new Error("frag load aborted, missing levels");if(U=Math.max(P.start,U||0),this.config.lowLatencyMode&&F){var H=F.partList;if(H&&M){U>P.end&&F.fragmentHint&&(P=F.fragmentHint);var z=this.getNextPart(H,P,U);if(z>-1){var j=H[z];return this.log("Loading part sn: "+P.sn+" p: "+j.index+" cc: "+P.cc+" of playlist ["+F.startSN+"-"+F.endSN+"] parts [0-"+z+"-"+(H.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+P.level+", target: "+parseFloat(U.toFixed(3))),this.nextLoadPosition=j.start+j.duration,this.state=b.FRAG_LOADING,this.hls.trigger(c.Events.FRAG_LOADING,{frag:P,part:H[z],targetBufferTime:U}),this.doFragPartsLoad(P,H,z,M).catch(function(Q){return V.handleFragLoadError(Q)})}if(!P.url||this.loadedEndOfParts(H,U))return Promise.resolve(null)}}return this.log("Loading fragment "+P.sn+" cc: "+P.cc+" "+(F?"of ["+F.startSN+"-"+F.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+P.level+", target: "+parseFloat(U.toFixed(3))),Object(r.isFiniteNumber)(P.sn)&&!this.bitrateTest&&(this.nextLoadPosition=P.start+P.duration),this.state=b.FRAG_LOADING,this.hls.trigger(c.Events.FRAG_LOADING,{frag:P,targetBufferTime:U}),this.fragmentLoader.load(P,M).catch(function(Q){return V.handleFragLoadError(Q)})},D.doFragPartsLoad=function(P,F,U,M){var V=this;return new Promise(function(H,z){var j=[];(function Q(ie){var ne=F[ie];V.fragmentLoader.loadPart(P,ne,M).then(function(X){j[ne.index]=X;var J=X.part;V.hls.trigger(c.Events.FRAG_LOADED,X);var se=F[ie+1];if(!se||se.fragment!==P)return H({frag:P,part:J,partsLoaded:j});Q(ie+1)}).catch(z)})(U)})},D.handleFragLoadError=function(P){var F=P.data;return F&&F.details===a.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(F.frag,F.part):this.hls.trigger(c.Events.ERROR,F),null},D._handleTransmuxerFlush=function(P){var F=this.getCurrentContext(P);if(F&&this.state===b.PARSING){var U=F.frag,M=F.part,V=F.level,H=self.performance.now();U.stats.parsing.end=H,M&&(M.stats.parsing.end=H),this.updateLevelTiming(U,M,V,P.partial)}else this.fragCurrent||(this.state=b.IDLE)},D.getCurrentContext=function(P){var F=this.levels,U=P.level,M=P.sn,V=P.part;if(!F||!F[U])return this.warn("Levels object was unset while buffering fragment "+M+" of level "+U+". The current chunk will not be buffered."),null;var H=F[U],z=V>-1?Object(T.getPartWith)(H,M,V):null,j=z?z.fragment:Object(T.getFragmentWithSN)(H,M,this.fragCurrent);return j?{frag:j,part:z,level:H}:null},D.bufferFragmentData=function(P,F,U,M){if(P&&this.state===b.PARSING){var V=P.data1,H=P.data2,z=V;if(V&&H&&(z=Object(m.appendUint8Array)(V,H)),z&&z.length){var j={type:P.type,frag:F,part:U,chunkMeta:M,parent:F.type,data:z};this.hls.trigger(c.Events.BUFFER_APPENDING,j),P.dropped&&P.independent&&!U&&this.flushBufferGap(F)}}},D.flushBufferGap=function(P){var F=this.media;if(F)if(l.BufferHelper.isBuffered(F,F.currentTime)){var U=F.currentTime,M=l.BufferHelper.bufferInfo(F,U,0),V=P.duration,H=Math.min(2*this.config.maxFragLookUpTolerance,.25*V),z=Math.max(Math.min(P.start-H,M.end-H),U+H);P.start-z>H&&this.flushMainBuffer(z,P.start)}else this.flushMainBuffer(0,P.start)},D.getFwdBufferInfo=function(P,F){var U=this.config,M=this.getLoadPosition();if(!Object(r.isFiniteNumber)(M))return null;var V=l.BufferHelper.bufferInfo(P,M,U.maxBufferHole);if(V.len===0&&V.nextStart!==void 0){var H=this.fragmentTracker.getBufferedFrag(M,F);if(H&&V.nextStart<H.end)return l.BufferHelper.bufferInfo(P,M,Math.max(V.nextStart,U.maxBufferHole))}return V},D.getMaxBufferLength=function(P){var F,U=this.config;return F=P?Math.max(8*U.maxBufferSize/P,U.maxBufferLength):U.maxBufferLength,Math.min(F,U.maxMaxBufferLength)},D.reduceMaxBufferLength=function(P){var F=this.config,U=P||F.maxBufferLength;return F.maxMaxBufferLength>=U&&(F.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+F.maxMaxBufferLength+"s"),!0)},D.getNextFragment=function(P,F){var U,M,V=F.fragments,H=V.length;if(!H)return null;var z,j=this.config,Q=V[0].start;if(F.live){var ie=j.initialLiveManifestSize;if(H<ie)return this.warn("Not enough fragments to start playback (have: "+H+", need: "+ie+")"),null;F.PTSKnown||this.startFragRequested||this.startPosition!==-1||(z=this.getInitialLiveFragment(F,V),this.startPosition=z?this.hls.liveSyncPosition||z.start:P)}else P<=Q&&(z=V[0]);if(!z){var ne=j.lowLatencyMode?F.partEnd:F.fragmentEnd;z=this.getFragmentAtPosition(P,ne,F)}return(U=z)===null||U===void 0||!U.initSegment||(M=z)!==null&&M!==void 0&&M.initSegment.data||this.bitrateTest||(z=z.initSegment),z},D.getNextPart=function(P,F,U){for(var M=-1,V=!1,H=!0,z=0,j=P.length;z<j;z++){var Q=P[z];if(H=H&&!Q.independent,M>-1&&U<Q.start)break;var ie=Q.loaded;!ie&&(V||Q.independent||H)&&Q.fragment===F&&(M=z),V=ie}return M},D.loadedEndOfParts=function(P,F){var U=P[P.length-1];return U&&F>U.start&&U.loaded},D.getInitialLiveFragment=function(P,F){var U=this.fragPrevious,M=null;if(U){if(P.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+U.programDateTime),M=Object(w.findFragmentByPDT)(F,U.endProgramDateTime,this.config.maxFragLookUpTolerance)),!M){var V=U.sn+1;if(V>=P.startSN&&V<=P.endSN){var H=F[V-P.startSN];U.cc===H.cc&&(M=H,this.log("Live playlist, switching playlist, load frag with next SN: "+M.sn))}M||(M=Object(w.findFragWithCC)(F,U.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+M.sn)}}else{var z=this.hls.liveSyncPosition;z!==null&&(M=this.getFragmentAtPosition(z,this.bitrateTest?P.fragmentEnd:P.edge,P))}return M},D.getFragmentAtPosition=function(P,F,U){var M,V=this.config,H=this.fragPrevious,z=U.fragments,j=U.endSN,Q=U.fragmentHint,ie=V.maxFragLookUpTolerance,ne=!!(V.lowLatencyMode&&U.partList&&Q);if(ne&&Q&&!this.bitrateTest&&(z=z.concat(Q),j=Q.sn),P<F){var X=P>F-ie?0:ie;M=Object(w.findFragmentByPTS)(H,z,P,X)}else M=z[z.length-1];if(M){var J=M.sn-U.startSN,se=H&&M.level===H.level,ce=z[J+1];if(this.fragmentTracker.getState(M)===o.FragmentState.BACKTRACKED){M=null;for(var me=J;z[me]&&this.fragmentTracker.getState(z[me])===o.FragmentState.BACKTRACKED;)M=H?z[me--]:z[--me];M||(M=ce)}else H&&M.sn===H.sn&&!ne&&se&&(M.sn<j&&this.fragmentTracker.getState(ce)!==o.FragmentState.OK?(this.log("SN "+M.sn+" just loaded, load next one: "+ce.sn),M=ce):M=null)}return M},D.synchronizeToLiveEdge=function(P){var F=this.config,U=this.media;if(U){var M=this.hls.liveSyncPosition,V=U.currentTime,H=P.fragments[0].start,z=P.edge,j=V>=H-F.maxFragLookUpTolerance&&V<=z;if(M!==null&&U.duration>M&&(V<M||!j)){var Q=F.liveMaxLatencyDuration!==void 0?F.liveMaxLatencyDuration:F.liveMaxLatencyDurationCount*P.targetduration;(!j&&U.readyState<4||V<z-Q)&&(this.loadedmetadata||(this.nextLoadPosition=M),U.readyState&&(this.warn("Playback: "+V.toFixed(3)+" is located too far from the end of live sliding playlist: "+z+", reset currentTime to : "+M.toFixed(3)),U.currentTime=M))}}},D.alignPlaylists=function(P,F){var U=this.levels,M=this.levelLastLoaded,V=this.fragPrevious,H=M!==null?U[M]:null,z=P.fragments.length;if(!z)return this.warn("No fragments in live playlist"),0;var j=P.fragments[0].start,Q=!F,ie=P.alignedSliding&&Object(r.isFiniteNumber)(j);if(Q||!ie&&!j){Object(g.alignStream)(V,H,P);var ne=P.fragments[0].start;return this.log("Live playlist sliding: "+ne.toFixed(2)+" start-sn: "+(F?F.startSN:"na")+"->"+P.startSN+" prev-sn: "+(V?V.sn:"na")+" fragments: "+z),ne}return j},D.waitForCdnTuneIn=function(P){return P.live&&P.canBlockReload&&P.tuneInGoal>Math.max(P.partHoldBack,3*P.partTarget)},D.setStartPosition=function(P,F){var U=this.startPosition;if(U<F&&(U=-1),U===-1||this.lastCurrentTime===-1){var M=P.startTimeOffset;Object(r.isFiniteNumber)(M)?(U=F+M,M<0&&(U+=P.totalduration),U=Math.min(Math.max(F,U),F+P.totalduration),this.log("Start time offset "+M+" found in playlist, adjust startPosition to "+U),this.startPosition=U):P.live?U=this.hls.liveSyncPosition||F:this.startPosition=U=0,this.lastCurrentTime=U}this.nextLoadPosition=U},D.getLoadPosition=function(){var P=this.media,F=0;return this.loadedmetadata&&P?F=P.currentTime:this.nextLoadPosition&&(F=this.nextLoadPosition),F},D.handleFragLoadAborted=function(P,F){this.transmuxer&&P.sn!=="initSegment"&&P.stats.aborted&&(this.warn("Fragment "+P.sn+(F?" part"+F.index:"")+" of level "+P.level+" was aborted"),this.resetFragmentLoading(P))},D.resetFragmentLoading=function(P){this.fragCurrent&&this.fragContextChanged(P)||(this.state=b.IDLE)},D.onFragmentOrKeyLoadError=function(P,F){if(!F.fatal){var U=F.frag;if(U&&U.type===P){var M=this.fragCurrent;console.assert(M&&U.sn===M.sn&&U.level===M.level&&U.urlId===M.urlId,"Frag load error must match current frag to retry");var V=this.config;if(this.fragLoadError+1<=V.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(U.level))return;var H=Math.min(Math.pow(2,this.fragLoadError)*V.fragLoadingRetryDelay,V.fragLoadingMaxRetryTimeout);this.warn("Fragment "+U.sn+" of "+P+" "+U.level+" failed to load, retrying in "+H+"ms"),this.retryDate=self.performance.now()+H,this.fragLoadError++,this.state=b.FRAG_LOADING_WAITING_RETRY}else F.levelRetry?(P===v.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=b.IDLE):(f.logger.error(F.details+" reaches max retry, redispatch as fatal ..."),F.fatal=!0,this.hls.stopLoad(),this.state=b.ERROR)}}},D.afterBufferFlushed=function(P,F,U){if(P){var M=l.BufferHelper.getBuffered(P);this.fragmentTracker.detectEvictedFragments(F,M,U),this.state===b.ENDED&&this.resetLoadingState()}},D.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=b.IDLE},D.resetLiveStartWhenNotLoaded=function(P){if(!this.loadedmetadata){this.startFragRequested=!1;var F=this.levels?this.levels[P].details:null;if(F!=null&&F.live)return this.startPosition=-1,this.setStartPosition(F,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},D.updateLevelTiming=function(P,F,U,M){var V=this,H=U.details;console.assert(!!H,"level.details must be defined"),Object.keys(P.elementaryStreams).reduce(function(z,j){var Q=P.elementaryStreams[j];if(Q){var ie=Q.endPTS-Q.startPTS;if(ie<=0)return V.warn("Could not parse fragment "+P.sn+" "+j+" duration reliably ("+ie+") resetting transmuxer to fallback to playlist timing"),V.resetTransmuxer(),z||!1;var ne=M?0:Object(T.updateFragPTSDTS)(H,P,Q.startPTS,Q.endPTS,Q.startDTS,Q.endDTS);return V.hls.trigger(c.Events.LEVEL_PTS_UPDATED,{details:H,level:U,drift:ne,type:j,frag:P,start:Q.startPTS,end:Q.endPTS}),!0}return z},!1)?(this.state=b.PARSED,this.hls.trigger(c.Events.FRAG_PARSED,{frag:P,part:F})):this.resetLoadingState()},D.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},C=S,(I=[{key:"state",get:function(){return this._state},set:function(P){var F=this._state;F!==P&&(this._state=P,this.log(F+"->"+P))}}])&&p(C.prototype,I),S}(i.default)},"./src/controller/buffer-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return w});var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),l=n("./src/errors.ts"),f=n("./src/utils/buffer-helper.ts"),c=n("./src/utils/mediasource-helper.ts"),a=n("./src/loader/fragment.ts"),h=n("./src/controller/buffer-operation-queue.ts"),m=Object(c.getMediaSource)(),g=/([ha]vc.)(?:\.[^.,]+)+/,w=function(){function T(d){var _=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var v=_.hls,p=_.media,A=_.mediaSource;o.logger.log("[buffer-controller]: Media source opened"),p&&(_.updateMediaElementDuration(),v.trigger(i.Events.MEDIA_ATTACHED,{media:p})),A&&A.removeEventListener("sourceopen",_._onMediaSourceOpen),_.checkPendingTracks()},this._onMediaSourceClose=function(){o.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.logger.log("[buffer-controller]: Media source ended")},this.hls=d,this._initSourceBuffer(),this.registerListeners()}var y=T.prototype;return y.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},y.destroy=function(){this.unregisterListeners(),this.details=null},y.registerListeners=function(){var d=this.hls;d.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.on(i.Events.BUFFER_RESET,this.onBufferReset,this),d.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),d.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.on(i.Events.BUFFER_EOS,this.onBufferEos,this),d.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),d.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),d.on(i.Events.FRAG_PARSED,this.onFragParsed,this),d.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},y.unregisterListeners=function(){var d=this.hls;d.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),d.off(i.Events.BUFFER_RESET,this.onBufferReset,this),d.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),d.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),d.off(i.Events.BUFFER_EOS,this.onBufferEos,this),d.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),d.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),d.off(i.Events.FRAG_PARSED,this.onFragParsed,this),d.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},y._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new h.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},y.onManifestParsed=function(d,_){var v=2;(_.audio&&!_.video||!_.altAudio)&&(v=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=v,this.details=null,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},y.onMediaAttaching=function(d,_){var v=this.media=_.media;if(v&&m){var p=this.mediaSource=new m;p.addEventListener("sourceopen",this._onMediaSourceOpen),p.addEventListener("sourceended",this._onMediaSourceEnded),p.addEventListener("sourceclose",this._onMediaSourceClose),v.src=self.URL.createObjectURL(p),this._objectUrl=v.src}},y.onMediaDetaching=function(){var d=this.media,_=this.mediaSource,v=this._objectUrl;if(_){if(o.logger.log("[buffer-controller]: media source detaching"),_.readyState==="open")try{_.endOfStream()}catch(p){o.logger.warn("[buffer-controller]: onMediaDetaching: "+p.message+" while calling endOfStream")}this.onBufferReset(),_.removeEventListener("sourceopen",this._onMediaSourceOpen),_.removeEventListener("sourceended",this._onMediaSourceEnded),_.removeEventListener("sourceclose",this._onMediaSourceClose),d&&(v&&self.URL.revokeObjectURL(v),d.src===v?(d.removeAttribute("src"),d.load()):o.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},y.onBufferReset=function(){var d=this;this.getSourceBufferTypes().forEach(function(_){var v=d.sourceBuffer[_];try{v&&(d.removeBufferListeners(_),d.mediaSource&&d.mediaSource.removeSourceBuffer(v),d.sourceBuffer[_]=void 0)}catch(p){o.logger.warn("[buffer-controller]: Failed to reset the "+_+" buffer",p)}}),this._initSourceBuffer()},y.onBufferCodecs=function(d,_){var v=this,p=this.getSourceBufferTypes().length;Object.keys(_).forEach(function(A){if(p){var b=v.tracks[A];if(b&&typeof b.buffer.changeType=="function"){var E=_[A],x=E.codec,k=E.levelCodec,L=E.container;if((b.levelCodec||b.codec).replace(g,"$1")!==(k||x).replace(g,"$1")){var S=L+";codecs="+(k||x);v.appendChangeType(A,S)}}}else v.pendingTracks[A]=_[A]}),p||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},y.appendChangeType=function(d,_){var v=this,p=this.operationQueue,A={execute:function(){var b=v.sourceBuffer[d];b&&(o.logger.log("[buffer-controller]: changing "+d+" sourceBuffer type to "+_),b.changeType(_)),p.shiftAndExecuteNext(d)},onStart:function(){},onComplete:function(){},onError:function(b){o.logger.warn("[buffer-controller]: Failed to change "+d+" SourceBuffer type",b)}};p.append(A,d)},y.onBufferAppending=function(d,_){var v=this,p=this.hls,A=this.operationQueue,b=this.tracks,E=_.data,x=_.type,k=_.frag,L=_.part,S=_.chunkMeta,C=S.buffering[x],I=self.performance.now();C.start=I;var D=k.stats.buffering,P=L?L.stats.buffering:null;D.start===0&&(D.start=I),P&&P.start===0&&(P.start=I);var F=b.audio,U=x==="audio"&&S.id===1&&(F==null?void 0:F.container)==="audio/mpeg",M={execute:function(){if(C.executeStart=self.performance.now(),U){var V=v.sourceBuffer[x];if(V){var H=k.start-V.timestampOffset;Math.abs(H)>=.1&&(o.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+k.start+" (delta: "+H+") sn: "+k.sn+")"),V.timestampOffset=k.start)}}v.appendExecutor(E,x)},onStart:function(){},onComplete:function(){var V=self.performance.now();C.executeEnd=C.end=V,D.first===0&&(D.first=V),P&&P.first===0&&(P.first=V);var H=v.sourceBuffer,z={};for(var j in H)z[j]=f.BufferHelper.getBuffered(H[j]);v.appendError=0,v.hls.trigger(i.Events.BUFFER_APPENDED,{type:x,frag:k,part:L,chunkMeta:S,parent:k.type,timeRanges:z})},onError:function(V){o.logger.error("[buffer-controller]: Error encountered while trying to append to the "+x+" SourceBuffer",V);var H={type:l.ErrorTypes.MEDIA_ERROR,parent:k.type,details:l.ErrorDetails.BUFFER_APPEND_ERROR,err:V,fatal:!1};V.code===DOMException.QUOTA_EXCEEDED_ERR?H.details=l.ErrorDetails.BUFFER_FULL_ERROR:(v.appendError++,H.details=l.ErrorDetails.BUFFER_APPEND_ERROR,v.appendError>p.config.appendErrorMaxRetry&&(o.logger.error("[buffer-controller]: Failed "+p.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),H.fatal=!0)),p.trigger(i.Events.ERROR,H)}};A.append(M,x)},y.onBufferFlushing=function(d,_){var v=this,p=this.operationQueue,A=function(b){return{execute:v.removeExecutor.bind(v,b,_.startOffset,_.endOffset),onStart:function(){},onComplete:function(){v.hls.trigger(i.Events.BUFFER_FLUSHED,{type:b})},onError:function(E){o.logger.warn("[buffer-controller]: Failed to remove from "+b+" SourceBuffer",E)}}};_.type?p.append(A(_.type),_.type):this.getSourceBufferTypes().forEach(function(b){p.append(A(b),b)})},y.onFragParsed=function(d,_){var v=this,p=_.frag,A=_.part,b=[],E=A?A.elementaryStreams:p.elementaryStreams;E[a.ElementaryStreamTypes.AUDIOVIDEO]?b.push("audiovideo"):(E[a.ElementaryStreamTypes.AUDIO]&&b.push("audio"),E[a.ElementaryStreamTypes.VIDEO]&&b.push("video")),b.length===0&&o.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+p.type+" level: "+p.level+" sn: "+p.sn),this.blockBuffers(function(){var x=self.performance.now();p.stats.buffering.end=x,A&&(A.stats.buffering.end=x);var k=A?A.stats:p.stats;v.hls.trigger(i.Events.FRAG_BUFFERED,{frag:p,part:A,stats:k,id:p.type})},b)},y.onFragChanged=function(d,_){this.flushBackBuffer()},y.onBufferEos=function(d,_){var v=this;this.getSourceBufferTypes().reduce(function(p,A){var b=v.sourceBuffer[A];return _.type&&_.type!==A||b&&!b.ended&&(b.ended=!0,o.logger.log("[buffer-controller]: "+A+" sourceBuffer now EOS")),p&&!(b&&!b.ended)},!0)&&this.blockBuffers(function(){var p=v.mediaSource;p&&p.readyState==="open"&&p.endOfStream()})},y.onLevelUpdated=function(d,_){var v=_.details;v.fragments.length&&(this.details=v,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},y.flushBackBuffer=function(){var d=this.hls,_=this.details,v=this.media,p=this.sourceBuffer;if(v&&_!==null){var A=this.getSourceBufferTypes();if(A.length){var b=_.live&&d.config.liveBackBufferLength!==null?d.config.liveBackBufferLength:d.config.backBufferLength;if(Object(r.isFiniteNumber)(b)&&!(b<0)){var E=v.currentTime,x=_.levelTargetDuration,k=Math.max(b,x),L=Math.floor(E/x)*x-k;A.forEach(function(S){var C=p[S];if(C){var I=f.BufferHelper.getBuffered(C);I.length>0&&L>I.start(0)&&(d.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:L}),_.live&&d.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:L}),d.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:L,type:S}))}})}}}},y.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var d=this.details,_=this.hls,v=this.media,p=this.mediaSource,A=d.fragments[0].start+d.totalduration,b=v.duration,E=Object(r.isFiniteNumber)(p.duration)?p.duration:0;d.live&&_.config.liveDurationInfinity?(o.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),p.duration=1/0,this.updateSeekableRange(d)):(A>E&&A>b||!Object(r.isFiniteNumber)(b))&&(o.logger.log("[buffer-controller]: Updating Media Source duration to "+A.toFixed(3)),p.duration=A)}},y.updateSeekableRange=function(d){var _=this.mediaSource,v=d.fragments;if(v.length&&d.live&&_!=null&&_.setLiveSeekableRange){var p=Math.max(0,v[0].start),A=Math.max(p,p+d.totalduration);_.setLiveSeekableRange(p,A)}},y.checkPendingTracks=function(){var d=this.bufferCodecEventsExpected,_=this.operationQueue,v=this.pendingTracks,p=Object.keys(v).length;if(p&&!d||p===2){this.createSourceBuffers(v),this.pendingTracks={};var A=this.getSourceBufferTypes();if(A.length===0)return void this.hls.trigger(i.Events.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});A.forEach(function(b){_.executeNext(b)})}},y.createSourceBuffers=function(d){var _=this.sourceBuffer,v=this.mediaSource;if(!v)throw Error("createSourceBuffers called when mediaSource was null");var p=0;for(var A in d)if(!_[A]){var b=d[A];if(!b)throw Error("source buffer exists for track "+A+", however track does not");var E=b.levelCodec||b.codec,x=b.container+";codecs="+E;o.logger.log("[buffer-controller]: creating sourceBuffer("+x+")");try{var k=_[A]=v.addSourceBuffer(x),L=A;this.addBufferListener(L,"updatestart",this._onSBUpdateStart),this.addBufferListener(L,"updateend",this._onSBUpdateEnd),this.addBufferListener(L,"error",this._onSBUpdateError),this.tracks[A]={buffer:k,codec:E,container:b.container,levelCodec:b.levelCodec,id:b.id},p++}catch(S){o.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+S.message),this.hls.trigger(i.Events.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:S,mimeType:x})}}p&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},y._onSBUpdateStart=function(d){this.operationQueue.current(d).onStart()},y._onSBUpdateEnd=function(d){var _=this.operationQueue;_.current(d).onComplete(),_.shiftAndExecuteNext(d)},y._onSBUpdateError=function(d,_){o.logger.error("[buffer-controller]: "+d+" SourceBuffer error",_),this.hls.trigger(i.Events.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var v=this.operationQueue.current(d);v&&v.onError(_)},y.removeExecutor=function(d,_,v){var p=this.media,A=this.mediaSource,b=this.operationQueue,E=this.sourceBuffer[d];if(!p||!A||!E)return o.logger.warn("[buffer-controller]: Attempting to remove from the "+d+" SourceBuffer, but it does not exist"),void b.shiftAndExecuteNext(d);var x=Object(r.isFiniteNumber)(p.duration)?p.duration:1/0,k=Object(r.isFiniteNumber)(A.duration)?A.duration:1/0,L=Math.max(0,_),S=Math.min(v,x,k);S>L?(o.logger.log("[buffer-controller]: Removing ["+L+","+S+"] from the "+d+" SourceBuffer"),console.assert(!E.updating,d+" sourceBuffer must not be updating"),E.remove(L,S)):b.shiftAndExecuteNext(d)},y.appendExecutor=function(d,_){var v=this.operationQueue,p=this.sourceBuffer[_];if(!p)return o.logger.warn("[buffer-controller]: Attempting to append to the "+_+" SourceBuffer, but it does not exist"),void v.shiftAndExecuteNext(_);p.ended=!1,console.assert(!p.updating,_+" sourceBuffer must not be updating"),p.appendBuffer(d)},y.blockBuffers=function(d,_){var v=this;if(_===void 0&&(_=this.getSourceBufferTypes()),!_.length)return o.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(d);var p=this.operationQueue,A=_.map(function(b){return p.appendBlocker(b)});Promise.all(A).then(function(){d(),_.forEach(function(b){var E=v.sourceBuffer[b];E&&E.updating||p.shiftAndExecuteNext(b)})})},y.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},y.addBufferListener=function(d,_,v){var p=this.sourceBuffer[d];if(p){var A=v.bind(this,d);this.listeners[d].push({event:_,listener:A}),p.addEventListener(_,A)}},y.removeBufferListeners=function(d){var _=this.sourceBuffer[d];_&&this.listeners[d].forEach(function(v){_.removeEventListener(v.event,v.listener)})},T}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return i});var r=n("./src/utils/logger.ts"),i=function(){function o(f){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=f}var l=o.prototype;return l.append=function(f,c){var a=this.queues[c];a.push(f),a.length===1&&this.buffers[c]&&this.executeNext(c)},l.insertAbort=function(f,c){this.queues[c].unshift(f),this.executeNext(c)},l.appendBlocker=function(f){var c,a=new Promise(function(m){c=m}),h={execute:c,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(h,f),a},l.executeNext=function(f){var c=this.buffers,a=this.queues,h=c[f],m=a[f];if(m.length){var g=m[0];try{g.execute()}catch(w){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),g.onError(w),h&&h.updating||(m.shift(),this.executeNext(f))}}},l.shiftAndExecuteNext=function(f){this.queues[f].shift(),this.executeNext(f)},l.current=function(f){return this.queues[f][0]},o}()},"./src/controller/cap-level-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts");function i(l,f){for(var c=0;c<f.length;c++){var a=f[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}var o=function(){function l(m){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=m,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var f,c,a,h=l.prototype;return h.setStreamController=function(m){this.streamController=m},h.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},h.registerListeners=function(){var m=this.hls;m.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),m.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),m.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),m.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),m.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},h.unregisterListener=function(){var m=this.hls;m.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),m.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),m.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),m.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),m.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},h.onFpsDropLevelCapping=function(m,g){l.isLevelAllowed(g.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(g.droppedLevel)},h.onMediaAttaching=function(m,g){this.media=g.media instanceof HTMLVideoElement?g.media:null},h.onManifestParsed=function(m,g){var w=this.hls;this.restrictedLevels=[],this.firstLevel=g.firstLevel,w.config.capLevelToPlayerSize&&g.video&&this.startCapping()},h.onBufferCodecs=function(m,g){this.hls.config.capLevelToPlayerSize&&g.video&&this.startCapping()},h.onMediaDetaching=function(){this.stopCapping()},h.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var m=this.hls.levels;if(m.length){var g=this.hls;g.autoLevelCapping=this.getMaxLevel(m.length-1),g.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=g.autoLevelCapping}}},h.getMaxLevel=function(m){var g=this,w=this.hls.levels;if(!w.length)return-1;var T=w.filter(function(y,d){return l.isLevelAllowed(d,g.restrictedLevels)&&d<=m});return this.clientRect=null,l.getMaxLevelByMediaSize(T,this.mediaWidth,this.mediaHeight)},h.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},h.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},h.getDimensions=function(){if(this.clientRect)return this.clientRect;var m=this.media,g={width:0,height:0};if(m){var w=m.getBoundingClientRect();g.width=w.width,g.height=w.height,g.width||g.height||(g.width=w.right-w.left||m.width||0,g.height=w.bottom-w.top||m.height||0)}return this.clientRect=g,g},l.isLevelAllowed=function(m,g){return g===void 0&&(g=[]),g.indexOf(m)===-1},l.getMaxLevelByMediaSize=function(m,g,w){if(!m||!m.length)return-1;for(var T,y,d=m.length-1,_=0;_<m.length;_+=1){var v=m[_];if((v.width>=g||v.height>=w)&&(T=v,!(y=m[_+1])||T.width!==y.width||T.height!==y.height)){d=_;break}}return d},f=l,a=[{key:"contentScaleFactor",get:function(){var m=1;try{m=self.devicePixelRatio}catch{}return m}}],(c=[{key:"mediaWidth",get:function(){return this.getDimensions().width*l.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*l.contentScaleFactor}}])&&i(f.prototype,c),a&&i(f,a),l}();t.default=o},"./src/controller/eme-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),l=n("./src/utils/mediakeys-helper.ts");function f(a,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}var c=function(){function a(w){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=w,this._config=w.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var h,m,g=a.prototype;return g.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},g._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},g._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},g.getLicenseServerUrl=function(w){switch(w){case l.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+w+'"')},g._attemptKeySystemAccess=function(w,T,y){var d=this,_=function(p,A,b,E){switch(p){case l.KeySystems.WIDEVINE:return function(x,k,L){var S={audioCapabilities:[],videoCapabilities:[]};return x.forEach(function(C){S.audioCapabilities.push({contentType:'audio/mp4; codecs="'+C+'"',robustness:L.audioRobustness||""})}),k.forEach(function(C){S.videoCapabilities.push({contentType:'video/mp4; codecs="'+C+'"',robustness:L.videoRobustness||""})}),[S]}(A,b,E);default:throw new Error("Unknown key-system: "+p)}}(w,T,y,this._drmSystemOptions);o.logger.log("Requesting encrypted media key-system access");var v=this.requestMediaKeySystemAccess(w,_);this.mediaKeysPromise=v.then(function(p){return d._onMediaKeySystemAccessObtained(w,p)}),v.catch(function(p){o.logger.error('Failed to obtain key-system "'+w+'" access:',p)})},g._onMediaKeySystemAccessObtained=function(w,T){var y=this;o.logger.log('Access for key-system "'+w+'" obtained');var d={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:T,mediaKeySystemDomain:w};this._mediaKeysList.push(d);var _=Promise.resolve().then(function(){return T.createMediaKeys()}).then(function(v){return d.mediaKeys=v,o.logger.log('Media-keys created for key-system "'+w+'"'),y._onMediaKeysCreated(),v});return _.catch(function(v){o.logger.error("Failed to create media-keys:",v)}),_},g._onMediaKeysCreated=function(){var w=this;this._mediaKeysList.forEach(function(T){T.mediaKeysSession||(T.mediaKeysSession=T.mediaKeys.createSession(),w._onNewMediaKeySession(T.mediaKeysSession))})},g._onNewMediaKeySession=function(w){var T=this;o.logger.log("New key-system session "+w.sessionId),w.addEventListener("message",function(y){T._onKeySessionMessage(w,y.message)},!1)},g._onKeySessionMessage=function(w,T){o.logger.log("Got EME message event, creating license request"),this._requestLicense(T,function(y){o.logger.log("Received license data (length: "+(y&&y.byteLength)+"), updating key-session"),w.update(y)})},g.onMediaEncrypted=function(w){var T=this;if(o.logger.log('Media is encrypted using "'+w.initDataType+'" init data type'),!this.mediaKeysPromise)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var y=function(d){T._media&&(T._attemptSetMediaKeys(d),T._generateRequestWithPreferredKeySession(w.initDataType,w.initData))};this.mediaKeysPromise.then(y).catch(y)},g._attemptSetMediaKeys=function(w){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var T=this._mediaKeysList[0];if(!T||!T.mediaKeys)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});o.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(T.mediaKeys),this._hasSetMediaKeys=!0}},g._generateRequestWithPreferredKeySession=function(w,T){var y=this,d=this._mediaKeysList[0];if(!d)return o.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(d.mediaKeysSessionInitialized)o.logger.warn("Key-Session already initialized but requested again");else{var _=d.mediaKeysSession;if(!_)return o.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!T)return o.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});o.logger.log('Generating key-session request for "'+w+'" init data type'),d.mediaKeysSessionInitialized=!0,_.generateRequest(w,T).then(function(){o.logger.debug("Key-session generation succeeded")}).catch(function(v){o.logger.error("Error generating key-session request:",v),y.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},g._createLicenseXhr=function(w,T,y){var d=new XMLHttpRequest;d.responseType="arraybuffer",d.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,d,w,T,y);var _=this._licenseXhrSetup;if(_)try{_.call(this.hls,d,w),_=void 0}catch(v){o.logger.error(v)}try{d.readyState||d.open("POST",w,!0),_&&_.call(this.hls,d,w)}catch(v){throw new Error("issue setting up KeySystem license XHR "+v)}return d},g._onLicenseRequestReadyStageChange=function(w,T,y,d){switch(w.readyState){case 4:if(w.status===200){this._requestLicenseFailureCount=0,o.logger.log("License request succeeded");var _=w.response,v=this._licenseResponseCallback;if(v)try{_=v.call(this.hls,w,T)}catch(A){o.logger.error(A)}d(_)}else{if(o.logger.error("License Request XHR failed ("+T+"). Status: "+w.status+" ("+w.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var p=3-this._requestLicenseFailureCount+1;o.logger.warn("Retrying license request, "+p+" attempts left"),this._requestLicense(y,d)}}},g._generateLicenseRequestChallenge=function(w,T){switch(w.mediaKeySystemDomain){case l.KeySystems.WIDEVINE:return T}throw new Error("unsupported key-system: "+w.mediaKeySystemDomain)},g._requestLicense=function(w,T){o.logger.log("Requesting content license for key-system");var y=this._mediaKeysList[0];if(!y)return o.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var d=this.getLicenseServerUrl(y.mediaKeySystemDomain),_=this._createLicenseXhr(d,w,T);o.logger.log("Sending license request to URL: "+d);var v=this._generateLicenseRequestChallenge(y,w);_.send(v)}catch(p){o.logger.error("Failure requesting DRM license: "+p),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},g.onMediaAttached=function(w,T){if(this._emeEnabled){var y=T.media;this._media=y,y.addEventListener("encrypted",this._onMediaEncrypted)}},g.onMediaDetached=function(){var w=this._media,T=this._mediaKeysList;w&&(w.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(T.map(function(y){if(y.mediaKeysSession)return y.mediaKeysSession.close().catch(function(){})})).then(function(){return w.setMediaKeys(null)}).catch(function(){}))},g.onManifestParsed=function(w,T){if(this._emeEnabled){var y=T.levels.map(function(_){return _.audioCodec}).filter(function(_){return!!_}),d=T.levels.map(function(_){return _.videoCodec}).filter(function(_){return!!_});this._attemptKeySystemAccess(l.KeySystems.WIDEVINE,y,d)}},h=a,(m=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&f(h.prototype,m),a}();t.default=c},"./src/controller/fps-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=function(){function l(c){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=c,this.registerListeners()}var f=l.prototype;return f.setStreamController=function(c){this.streamController=c},f.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},f.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},f.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},f.onMediaAttaching=function(c,a){var h=this.hls.config;if(h.capLevelOnFPSDrop){var m=a.media instanceof self.HTMLVideoElement?a.media:null;this.media=m,m&&typeof m.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),h.fpsDroppedMonitoringPeriod)}},f.checkFPS=function(c,a,h){var m=performance.now();if(a){if(this.lastTime){var g=m-this.lastTime,w=h-this.lastDroppedFrames,T=a-this.lastDecodedFrames,y=1e3*w/g,d=this.hls;if(d.trigger(r.Events.FPS_DROP,{currentDropped:w,currentDecoded:T,totalDroppedFrames:h}),y>0&&w>d.config.fpsDroppedMonitoringThreshold*T){var _=d.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+_),_>0&&(d.autoLevelCapping===-1||d.autoLevelCapping>=_)&&(_-=1,d.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:_,droppedLevel:d.currentLevel}),d.autoLevelCapping=_,this.streamController.nextLevelSwitch())}}this.lastTime=m,this.lastDroppedFrames=h,this.lastDecodedFrames=a}},f.checkFPSInterval=function(){var c=this.media;if(c)if(this.isVideoPlaybackQualityAvailable){var a=c.getVideoPlaybackQuality();this.checkFPS(c,a.totalVideoFrames,a.droppedVideoFrames)}else this.checkFPS(c,c.webkitDecodedFrameCount,c.webkitDroppedFrameCount)},l}();t.default=o},"./src/controller/fragment-finders.ts":function(e,t,n){n.r(t),n.d(t,"findFragmentByPDT",function(){return o}),n.d(t,"findFragmentByPTS",function(){return l}),n.d(t,"fragmentWithinToleranceTest",function(){return f}),n.d(t,"pdtWithinToleranceTest",function(){return c}),n.d(t,"findFragWithCC",function(){return a});var r=n("./src/polyfills/number.ts"),i=n("./src/utils/binary-search.ts");function o(h,m,g){if(m===null||!Array.isArray(h)||!h.length||!Object(r.isFiniteNumber)(m)||m<(h[0].programDateTime||0)||m>=(h[h.length-1].endProgramDateTime||0))return null;g=g||0;for(var w=0;w<h.length;++w){var T=h[w];if(c(m,g,T))return T}return null}function l(h,m,g,w){g===void 0&&(g=0),w===void 0&&(w=0);var T=null;if(h?T=m[h.sn-m[0].sn+1]||null:g===0&&m[0].start===0&&(T=m[0]),T&&f(g,w,T)===0)return T;var y=i.default.search(m,f.bind(null,g,w));return y||T}function f(h,m,g){h===void 0&&(h=0),m===void 0&&(m=0);var w=Math.min(m,g.duration+(g.deltaPTS?g.deltaPTS:0));return g.start+g.duration-w<=h?1:g.start-w>h&&g.start?-1:0}function c(h,m,g){var w=1e3*Math.min(m,g.duration+(g.deltaPTS?g.deltaPTS:0));return(g.endProgramDateTime||0)-w>h}function a(h,m){return i.default.search(h,function(g){return g.cc<m?1:g.cc>m?-1:0})}},"./src/controller/fragment-tracker.ts":function(e,t,n){n.r(t),n.d(t,"FragmentState",function(){return r}),n.d(t,"FragmentTracker",function(){return f});var r,i,o=n("./src/events.ts"),l=n("./src/types/loader.ts");(i=r||(r={})).NOT_LOADED="NOT_LOADED",i.BACKTRACKED="BACKTRACKED",i.APPENDING="APPENDING",i.PARTIAL="PARTIAL",i.OK="OK";var f=function(){function h(g){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=g,this._registerListeners()}var m=h.prototype;return m._registerListeners=function(){var g=this.hls;g.on(o.Events.BUFFER_APPENDED,this.onBufferAppended,this),g.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),g.on(o.Events.FRAG_LOADED,this.onFragLoaded,this)},m._unregisterListeners=function(){var g=this.hls;g.off(o.Events.BUFFER_APPENDED,this.onBufferAppended,this),g.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),g.off(o.Events.FRAG_LOADED,this.onFragLoaded,this)},m.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},m.getAppendedFrag=function(g,w){if(w===l.PlaylistLevelType.MAIN){var T=this.activeFragment,y=this.activeParts;if(!T)return null;if(y)for(var d=y.length;d--;){var _=y[d],v=_?_.end:T.appendedPTS;if(_.start<=g&&v!==void 0&&g<=v)return d>9&&(this.activeParts=y.slice(d-9)),_}else if(T.start<=g&&T.appendedPTS!==void 0&&g<=T.appendedPTS)return T}return this.getBufferedFrag(g,w)},m.getBufferedFrag=function(g,w){for(var T=this.fragments,y=Object.keys(T),d=y.length;d--;){var _=T[y[d]];if((_==null?void 0:_.body.type)===w&&_.buffered){var v=_.body;if(v.start<=g&&g<=v.end)return v}}return null},m.detectEvictedFragments=function(g,w,T){var y=this;Object.keys(this.fragments).forEach(function(d){var _=y.fragments[d];if(_)if(_.buffered){var v=_.range[g];v&&v.time.some(function(p){var A=!y.isTimeBuffered(p.startPTS,p.endPTS,w);return A&&y.removeFragment(_.body),A})}else _.body.type===T&&y.removeFragment(_.body)})},m.detectPartialFragments=function(g){var w=this,T=this.timeRanges,y=g.frag,d=g.part;if(T&&y.sn!=="initSegment"){var _=a(y),v=this.fragments[_];v&&(Object.keys(T).forEach(function(p){var A=y.elementaryStreams[p];if(A){var b=T[p],E=d!==null||A.partial===!0;v.range[p]=w.getBufferedTimes(y,d,E,b)}}),v.backtrack=v.loaded=null,Object.keys(v.range).length?v.buffered=!0:this.removeFragment(v.body))}},m.fragBuffered=function(g){var w=a(g),T=this.fragments[w];T&&(T.backtrack=T.loaded=null,T.buffered=!0)},m.getBufferedTimes=function(g,w,T,y){for(var d={time:[],partial:T},_=w?w.start:g.start,v=w?w.end:g.end,p=g.minEndPTS||v,A=g.maxStartPTS||_,b=0;b<y.length;b++){var E=y.start(b)-this.bufferPadding,x=y.end(b)+this.bufferPadding;if(A>=E&&p<=x){d.time.push({startPTS:Math.max(_,y.start(b)),endPTS:Math.min(v,y.end(b))});break}if(_<x&&v>E)d.partial=!0,d.time.push({startPTS:Math.max(_,y.start(b)),endPTS:Math.min(v,y.end(b))});else if(v<=E)break}return d},m.getPartialFragment=function(g){var w,T,y,d=null,_=0,v=this.bufferPadding,p=this.fragments;return Object.keys(p).forEach(function(A){var b=p[A];b&&c(b)&&(T=b.body.start-v,y=b.body.end+v,g>=T&&g<=y&&(w=Math.min(g-T,y-g),_<=w&&(d=b.body,_=w)))}),d},m.getState=function(g){var w=a(g),T=this.fragments[w];return T?T.buffered?c(T)?r.PARTIAL:r.OK:T.backtrack?r.BACKTRACKED:r.APPENDING:r.NOT_LOADED},m.backtrack=function(g,w){var T=a(g),y=this.fragments[T];if(!y||y.backtrack)return null;var d=y.backtrack=w||y.loaded;return y.loaded=null,d},m.getBacktrackData=function(g){var w=a(g),T=this.fragments[w];if(T){var y,d=T.backtrack;if(d!=null&&(y=d.payload)!==null&&y!==void 0&&y.byteLength)return d;this.removeFragment(g)}return null},m.isTimeBuffered=function(g,w,T){for(var y,d,_=0;_<T.length;_++){if(y=T.start(_)-this.bufferPadding,d=T.end(_)+this.bufferPadding,g>=y&&w<=d)return!0;if(w<=y)return!1}return!1},m.onFragLoaded=function(g,w){var T=w.frag,y=w.part;if(T.sn!=="initSegment"&&!T.bitrateTest&&!y){var d=a(T);this.fragments[d]={body:T,loaded:w,backtrack:null,buffered:!1,range:Object.create(null)}}},m.onBufferAppended=function(g,w){var T=this,y=w.frag,d=w.part,_=w.timeRanges;if(y.type===l.PlaylistLevelType.MAIN)if(this.activeFragment=y,d){var v=this.activeParts;v||(this.activeParts=v=[]),v.push(d)}else this.activeParts=null;this.timeRanges=_,Object.keys(_).forEach(function(p){var A=_[p];if(T.detectEvictedFragments(p,A),!d)for(var b=0;b<A.length;b++)y.appendedPTS=Math.max(A.end(b),y.appendedPTS||0)})},m.onFragBuffered=function(g,w){this.detectPartialFragments(w)},m.hasFragment=function(g){var w=a(g);return!!this.fragments[w]},m.removeFragmentsInRange=function(g,w,T){var y=this;Object.keys(this.fragments).forEach(function(d){var _=y.fragments[d];if(_&&_.buffered){var v=_.body;v.type===T&&v.start<w&&v.end>g&&y.removeFragment(v)}})},m.removeFragment=function(g){var w=a(g);g.stats.loaded=0,g.clearElementaryStreamInfo(),delete this.fragments[w]},m.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},h}();function c(h){var m,g;return h.buffered&&(((m=h.range.video)===null||m===void 0?void 0:m.partial)||((g=h.range.audio)===null||g===void 0?void 0:g.partial))}function a(h){return h.type+"_"+h.level+"_"+h.urlId+"_"+h.sn}},"./src/controller/gap-controller.ts":function(e,t,n){n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",function(){return f}),n.d(t,"MAX_START_GAP_JUMP",function(){return c}),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return a}),n.d(t,"SKIP_BUFFER_RANGE_START",function(){return h}),n.d(t,"default",function(){return m});var r=n("./src/utils/buffer-helper.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts"),l=n("./src/utils/logger.ts"),f=250,c=2,a=.1,h=.05,m=function(){function g(T,y,d,_){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=T,this.media=y,this.fragmentTracker=d,this.hls=_}var w=g.prototype;return w.destroy=function(){this.hls=this.fragmentTracker=this.media=null},w.poll=function(T){var y=this.config,d=this.media,_=this.stalled,v=d.currentTime,p=d.seeking,A=this.seeking&&!p,b=!this.seeking&&p;if(this.seeking=p,v===T){if((b||A)&&(this.stalled=null),!d.paused&&!d.ended&&d.playbackRate!==0&&r.BufferHelper.getBuffered(d).length){var E=r.BufferHelper.bufferInfo(d,v,0),x=E.len>0,k=E.nextStart||0;if(x||k){if(p){var L=E.len>c,S=!k||k-v>c&&!this.fragmentTracker.getPartialFragment(v);if(L||S)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var C,I=Math.max(k,E.start||0)-v,D=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,P=!(D==null||(C=D.details)===null||C===void 0)&&C.live?2*D.details.targetduration:c;if(I>0&&I<=P)return void this._trySkipBufferHole(null)}var F=self.performance.now();if(_!==null){var U=F-_;!p&&U>=f&&this._reportStall(E.len);var M=r.BufferHelper.bufferInfo(d,v,y.maxBufferHole);this._tryFixBufferStall(M,U)}else this.stalled=F}}}else if(this.moved=!0,_!==null){if(this.stallReported){var V=self.performance.now()-_;l.logger.warn("playback not stuck anymore @"+v+", after "+Math.round(V)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},w._tryFixBufferStall=function(T,y){var d=this.config,_=this.fragmentTracker,v=this.media.currentTime,p=_.getPartialFragment(v);p&&this._trySkipBufferHole(p)||T.len>d.maxBufferHole&&y>1e3*d.highBufferWatchdogPeriod&&(l.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},w._reportStall=function(T){var y=this.hls,d=this.media;this.stallReported||(this.stallReported=!0,l.logger.warn("Playback stalling at @"+d.currentTime+" due to low buffer (buffer="+T+")"),y.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:T}))},w._trySkipBufferHole=function(T){for(var y=this.config,d=this.hls,_=this.media,v=_.currentTime,p=0,A=r.BufferHelper.getBuffered(_),b=0;b<A.length;b++){var E=A.start(b);if(v+y.maxBufferHole>=p&&v<E){var x=Math.max(E+h,_.currentTime+a);return l.logger.warn("skipping hole, adjusting currentTime from "+v+" to "+x),this.moved=!0,this.stalled=null,_.currentTime=x,T&&d.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+v+" to "+x,frag:T}),x}p=A.end(b)}return 0},w._tryNudgeBuffer=function(){var T=this.config,y=this.hls,d=this.media,_=d.currentTime,v=(this.nudgeRetry||0)+1;if(this.nudgeRetry=v,v<T.nudgeMaxRetry){var p=_+v*T.nudgeOffset;l.logger.warn("Nudging 'currentTime' from "+_+" to "+p),d.currentTime=p,y.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else l.logger.error("Playhead still not moving while enough data buffered @"+_+" after "+T.nudgeMaxRetry+" nudges"),y.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},g}()},"./src/controller/id3-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),o=n("./src/demux/id3.ts"),l=function(){function f(a){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=a,this._registerListeners()}var c=f.prototype;return c.destroy=function(){this._unregisterListeners()},c._registerListeners=function(){var a=this.hls;a.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),a.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),a.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),a.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},c._unregisterListeners=function(){var a=this.hls;a.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),a.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),a.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),a.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},c.onMediaAttached=function(a,h){this.media=h.media},c.onMediaDetaching=function(){this.id3Track&&(Object(i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},c.getID3Track=function(a){if(this.media){for(var h=0;h<a.length;h++){var m=a[h];if(m.kind==="metadata"&&m.label==="id3")return Object(i.sendAddTrackEvent)(m,this.media),m}return this.media.addTextTrack("metadata","id3")}},c.onFragParsingMetadata=function(a,h){if(this.media){var m=h.frag,g=h.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var w=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,T=0;T<g.length;T++){var y=o.getID3Frames(g[T].data);if(y){var d=g[T].pts,_=T<g.length-1?g[T+1].pts:m.end;_-d<=0&&(_=d+.25);for(var v=0;v<y.length;v++){var p=y[v];if(!o.isTimeStampFrame(p)){var A=new w(d,_,"");A.value=p,this.id3Track.addCue(A)}}}}}},c.onBufferFlushing=function(a,h){var m=h.startOffset,g=h.endOffset,w=h.type;if(!w||w==="audio"){var T=this.id3Track;T&&Object(i.removeCuesInRange)(T,m,g)}},f}();t.default=l},"./src/controller/latency-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return f});var r=n("./src/errors.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts");function l(c,a){for(var h=0;h<a.length;h++){var m=a[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}var f=function(){function c(g){var w=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return w.timeupdate()},this.hls=g,this.config=g.config,this.registerListeners()}var a,h,m=c.prototype;return m.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},m.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},m.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},m.onMediaAttached=function(g,w){this.media=w.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},m.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},m.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},m.onLevelUpdated=function(g,w){var T=w.details;this.levelDetails=T,T.advanced&&this.timeupdate(),!T.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},m.onError=function(g,w){w.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,o.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},m.timeupdate=function(){var g=this.media,w=this.levelDetails;if(g&&w){this.currentTime=g.currentTime;var T=this.computeLatency();if(T!==null){this._latency=T;var y=this.config,d=y.lowLatencyMode,_=y.maxLiveSyncPlaybackRate;if(d&&_!==1){var v=this.targetLatency;if(v!==null){var p=T-v,A=p<Math.min(this.maxLatency,v+w.targetduration);if(w.live&&A&&p>.05&&this.forwardBufferLength>1){var b=Math.min(2,Math.max(1,_)),E=Math.round(2/(1+Math.exp(-.75*p-this.edgeStalled))*20)/20;g.playbackRate=Math.min(b,Math.max(1,E))}else g.playbackRate!==1&&g.playbackRate!==0&&(g.playbackRate=1)}}}}},m.estimateLiveEdge=function(){var g=this.levelDetails;return g===null?null:g.edge+g.age},m.computeLatency=function(){var g=this.estimateLiveEdge();return g===null?null:g-this.currentTime},a=c,(h=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var g=this.config,w=this.levelDetails;return g.liveMaxLatencyDuration!==void 0?g.liveMaxLatencyDuration:w?g.liveMaxLatencyDurationCount*w.targetduration:0}},{key:"targetLatency",get:function(){var g=this.levelDetails;if(g===null)return null;var w=g.holdBack,T=g.partHoldBack,y=g.targetduration,d=this.config,_=d.liveSyncDuration,v=d.liveSyncDurationCount,p=d.lowLatencyMode,A=this.hls.userConfig,b=p&&T||w;(A.liveSyncDuration||A.liveSyncDurationCount||b===0)&&(b=_!==void 0?_:v*y);var E=y;return b+Math.min(1*this.stallCount,E)}},{key:"liveSyncPosition",get:function(){var g=this.estimateLiveEdge(),w=this.targetLatency,T=this.levelDetails;if(g===null||w===null||T===null)return null;var y=T.edge,d=g-w-this.edgeStalled,_=y-T.totalduration,v=y-(this.config.lowLatencyMode&&T.partTarget||T.targetduration);return Math.min(Math.max(_,d),v)}},{key:"drift",get:function(){var g=this.levelDetails;return g===null?1:g.drift}},{key:"edgeStalled",get:function(){var g=this.levelDetails;if(g===null)return 0;var w=3*(this.config.lowLatencyMode&&g.partTarget||g.targetduration);return Math.max(g.age-w,0)}},{key:"forwardBufferLength",get:function(){var g=this.media,w=this.levelDetails;if(!g||!w)return 0;var T=g.buffered.length;return T?g.buffered.end(T-1):w.edge-this.currentTime}}])&&l(a.prototype,h),c}()},"./src/controller/level-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return T});var r=n("./src/types/level.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),l=n("./src/utils/codecs.ts"),f=n("./src/controller/level-helper.ts"),c=n("./src/controller/base-playlist-controller.ts"),a=n("./src/types/loader.ts");function h(){return(h=Object.assign||function(y){for(var d=1;d<arguments.length;d++){var _=arguments[d];for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(y[v]=_[v])}return y}).apply(this,arguments)}function m(y,d){for(var _=0;_<d.length;_++){var v=d[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}function g(y,d){return(g=Object.setPrototypeOf||function(_,v){return _.__proto__=v,_})(y,d)}var w=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),T=function(y){var d,_;function v(E){var x;return(x=y.call(this,E,"[level-controller]")||this)._levels=[],x._firstLevel=-1,x._startLevel=void 0,x.currentLevelIndex=-1,x.manualLevelIndex=-1,x.onParsedComplete=void 0,x._registerListeners(),x}_=y,(d=v).prototype=Object.create(_.prototype),d.prototype.constructor=d,g(d,_);var p,A,b=v.prototype;return b._registerListeners=function(){var E=this.hls;E.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),E.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),E.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),E.on(i.Events.ERROR,this.onError,this)},b._unregisterListeners=function(){var E=this.hls;E.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),E.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),E.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),E.off(i.Events.ERROR,this.onError,this)},b.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,y.prototype.destroy.call(this)},b.startLoad=function(){this._levels.forEach(function(E){E.loadError=0}),y.prototype.startLoad.call(this)},b.onManifestLoaded=function(E,x){var k,L,S=[],C=[],I=[],D={},P=!1,F=!1,U=!1;if(x.levels.forEach(function(z){var j=z.attrs;P=P||!(!z.width||!z.height),F=F||!!z.videoCodec,U=U||!!z.audioCodec,w&&z.audioCodec&&z.audioCodec.indexOf("mp4a.40.34")!==-1&&(z.audioCodec=void 0);var Q=z.bitrate+"-"+z.attrs.RESOLUTION+"-"+z.attrs.CODECS;(L=D[Q])?L.url.push(z.url):(L=new r.Level(z),D[Q]=L,S.push(L)),j&&(j.AUDIO&&Object(f.addGroupId)(L,"audio",j.AUDIO),j.SUBTITLES&&Object(f.addGroupId)(L,"text",j.SUBTITLES))}),(P||F)&&U&&(S=S.filter(function(z){var j=z.videoCodec,Q=z.width,ie=z.height;return!!j||!(!Q||!ie)})),S=S.filter(function(z){var j=z.audioCodec,Q=z.videoCodec;return(!j||Object(l.isCodecSupportedInMp4)(j,"audio"))&&(!Q||Object(l.isCodecSupportedInMp4)(Q,"video"))}),x.audioTracks&&(C=x.audioTracks.filter(function(z){return!z.audioCodec||Object(l.isCodecSupportedInMp4)(z.audioCodec,"audio")}),Object(f.assignTrackIdsByGroup)(C)),x.subtitles&&(I=x.subtitles,Object(f.assignTrackIdsByGroup)(I)),S.length>0){k=S[0].bitrate,S.sort(function(z,j){return z.bitrate-j.bitrate}),this._levels=S;for(var M=0;M<S.length;M++)if(S[M].bitrate===k){this._firstLevel=M,this.log("manifest loaded, "+S.length+" level(s) found, first bitrate: "+k);break}var V=U&&!F,H={levels:S,audioTracks:C,subtitleTracks:I,firstLevel:this._firstLevel,stats:x.stats,audio:U,video:F,altAudio:!V&&C.some(function(z){return!!z.url})};this.hls.trigger(i.Events.MANIFEST_PARSED,H),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:x.url,reason:"no level with compatible codecs found in manifest"})},b.onError=function(E,x){if(y.prototype.onError.call(this,E,x),!x.fatal){var k=x.context,L=this._levels[this.currentLevelIndex];if(k&&(k.type===a.PlaylistContextType.AUDIO_TRACK&&L.audioGroupIds&&k.groupId===L.audioGroupIds[L.urlId]||k.type===a.PlaylistContextType.SUBTITLE_TRACK&&L.textGroupIds&&k.groupId===L.textGroupIds[L.urlId]))this.redundantFailover(this.currentLevelIndex);else{var S,C=!1,I=!0;switch(x.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:if(x.frag){var D=this._levels[x.frag.level];D?(D.fragmentError++,D.fragmentError>this.hls.config.fragLoadingMaxRetry&&(S=x.frag.level)):S=x.frag.level}break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:k&&(k.deliveryDirectives&&(I=!1),S=k.level),C=!0;break;case o.ErrorDetails.REMUX_ALLOC_ERROR:S=x.level,C=!0}S!==void 0&&this.recoverLevel(x,S,C,I)}}},b.recoverLevel=function(E,x,k,L){var S=E.details,C=this._levels[x];if(C.loadError++,k){if(!this.retryLoadingOrFail(E))return void(this.currentLevelIndex=-1);E.levelRetry=!0}if(L){var I=C.url.length;if(I>1&&C.loadError<I)E.levelRetry=!0,this.redundantFailover(x);else if(this.manualLevelIndex===-1){var D=x===0?this._levels.length-1:x-1;this.currentLevelIndex!==D&&this._levels[D].loadError===0&&(this.warn(S+": switch to "+D),E.levelRetry=!0,this.hls.nextAutoLevel=D)}}},b.redundantFailover=function(E){var x=this._levels[E],k=x.url.length;if(k>1){var L=(x.urlId+1)%k;this.warn("Switching to redundant URL-id "+L),this._levels.forEach(function(S){S.urlId=L}),this.level=E}},b.onFragLoaded=function(E,x){var k=x.frag;if(k!==void 0&&k.type===a.PlaylistLevelType.MAIN){var L=this._levels[k.level];L!==void 0&&(L.fragmentError=0,L.loadError=0)}},b.onLevelLoaded=function(E,x){var k,L,S=x.level,C=x.details,I=this._levels[S];if(!I)return this.warn("Invalid level index "+S),void((L=x.deliveryDirectives)!==null&&L!==void 0&&L.skip&&(C.deltaUpdateFailed=!0));S===this.currentLevelIndex?(I.fragmentError===0&&(I.loadError=0,this.retryCount=0),this.playlistLoaded(S,x,I.details)):(k=x.deliveryDirectives)!==null&&k!==void 0&&k.skip&&(C.deltaUpdateFailed=!0)},b.onAudioTrackSwitched=function(E,x){var k=this.hls.levels[this.currentLevelIndex];if(k&&k.audioGroupIds){for(var L=-1,S=this.hls.audioTracks[x.id].groupId,C=0;C<k.audioGroupIds.length;C++)if(k.audioGroupIds[C]===S){L=C;break}L!==k.urlId&&(k.urlId=L,this.startLoad())}},b.loadPlaylist=function(E){var x=this.currentLevelIndex,k=this._levels[x];if(this.canLoad&&k&&k.url.length>0){var L=k.urlId,S=k.url[L];if(E)try{S=E.addDirectives(S)}catch(C){this.warn("Could not construct new URL with HLS Delivery Directives: "+C)}this.log("Attempt loading level index "+x+(E?" at sn "+E.msn+" part "+E.part:"")+" with URL-id "+L+" "+S),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:S,level:x,id:L,deliveryDirectives:E||null})}},b.removeLevel=function(E,x){var k=function(S,C){return C!==x},L=this._levels.filter(function(S,C){return C!==E||S.url.length>1&&x!==void 0&&(S.url=S.url.filter(k),S.audioGroupIds&&(S.audioGroupIds=S.audioGroupIds.filter(k)),S.textGroupIds&&(S.textGroupIds=S.textGroupIds.filter(k)),S.urlId=0,!0)}).map(function(S,C){var I=S.details;return I!=null&&I.fragments&&I.fragments.forEach(function(D){D.level=C}),S});this._levels=L,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:L})},p=v,(A=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(E){var x,k=this._levels;if(k.length!==0&&(this.currentLevelIndex!==E||(x=k[E])===null||x===void 0||!x.details)){if(E<0||E>=k.length){var L=E<0;if(this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.LEVEL_SWITCH_ERROR,level:E,fatal:L,reason:"invalid level idx"}),L)return;E=Math.min(E,k.length-1)}this.clearTimer();var S=this.currentLevelIndex,C=k[S],I=k[E];this.log("switching to level "+E+" from "+S),this.currentLevelIndex=E;var D=h({},I,{level:E,maxBitrate:I.maxBitrate,uri:I.uri,urlId:I.urlId});delete D._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,D);var P=I.details;if(!P||P.live){var F=this.switchParams(I.uri,C==null?void 0:C.details);this.loadPlaylist(F)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(E){this.manualLevelIndex=E,this._startLevel===void 0&&(this._startLevel=E),E!==-1&&(this.level=E)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(E){this._firstLevel=E}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var E=this.hls.config.startLevel;return E!==void 0?E:this._firstLevel}return this._startLevel},set:function(E){this._startLevel=E}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(E){this.level=E,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=E)}}])&&m(p.prototype,A),v}(c.default)},"./src/controller/level-helper.ts":function(e,t,n){n.r(t),n.d(t,"addGroupId",function(){return o}),n.d(t,"assignTrackIdsByGroup",function(){return l}),n.d(t,"updatePTS",function(){return f}),n.d(t,"updateFragPTSDTS",function(){return a}),n.d(t,"mergeDetails",function(){return h}),n.d(t,"mapPartIntersection",function(){return m}),n.d(t,"mapFragmentIntersection",function(){return g}),n.d(t,"adjustSliding",function(){return w}),n.d(t,"addSliding",function(){return T}),n.d(t,"computeReloadInterval",function(){return y}),n.d(t,"getFragmentWithSN",function(){return d}),n.d(t,"getPartWith",function(){return _});var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts");function o(v,p,A){switch(p){case"audio":v.audioGroupIds||(v.audioGroupIds=[]),v.audioGroupIds.push(A);break;case"text":v.textGroupIds||(v.textGroupIds=[]),v.textGroupIds.push(A)}}function l(v){var p={};v.forEach(function(A){var b=A.groupId||"";A.id=p[b]=p[b]||0,p[b]++})}function f(v,p,A){c(v[p],v[A])}function c(v,p){var A=p.startPTS;if(Object(r.isFiniteNumber)(A)){var b,E=0;p.sn>v.sn?(E=A-v.start,b=v):(E=v.start-A,b=p),b.duration!==E&&(b.duration=E)}else p.sn>v.sn?v.cc===p.cc&&v.minEndPTS?p.start=v.start+(v.minEndPTS-v.start):p.start=v.start+v.duration:p.start=Math.max(v.start-p.duration,0)}function a(v,p,A,b,E,x){b-A<=0&&(i.logger.warn("Fragment should have a positive duration",p),b=A+p.duration,x=E+p.duration);var k=A,L=b,S=p.startPTS,C=p.endPTS;if(Object(r.isFiniteNumber)(S)){var I=Math.abs(S-A);Object(r.isFiniteNumber)(p.deltaPTS)?p.deltaPTS=Math.max(I,p.deltaPTS):p.deltaPTS=I,k=Math.max(A,S),A=Math.min(A,S),E=Math.min(E,p.startDTS),L=Math.min(b,C),b=Math.max(b,C),x=Math.max(x,p.endDTS)}p.duration=b-A;var D=A-p.start;p.appendedPTS=b,p.start=p.startPTS=A,p.maxStartPTS=k,p.startDTS=E,p.endPTS=b,p.minEndPTS=L,p.endDTS=x;var P,F=p.sn;if(!v||F<v.startSN||F>v.endSN)return 0;var U=F-v.startSN,M=v.fragments;for(M[U]=p,P=U;P>0;P--)c(M[P],M[P-1]);for(P=U;P<M.length-1;P++)c(M[P],M[P+1]);return v.fragmentHint&&c(M[M.length-1],v.fragmentHint),v.PTSKnown=v.alignedSliding=!0,D}function h(v,p){for(var A=null,b=v.fragments,E=b.length-1;E>=0;E--){var x=b[E].initSegment;if(x){A=x;break}}v.fragmentHint&&delete v.fragmentHint.endPTS;var k,L=0;if(g(v,p,function(F,U){var M;F.relurl&&(L=F.cc-U.cc),Object(r.isFiniteNumber)(F.startPTS)&&Object(r.isFiniteNumber)(F.endPTS)&&(U.start=U.startPTS=F.startPTS,U.startDTS=F.startDTS,U.appendedPTS=F.appendedPTS,U.maxStartPTS=F.maxStartPTS,U.endPTS=F.endPTS,U.endDTS=F.endDTS,U.minEndPTS=F.minEndPTS,U.duration=F.endPTS-F.startPTS,U.duration&&(k=U),p.PTSKnown=p.alignedSliding=!0),U.elementaryStreams=F.elementaryStreams,U.loader=F.loader,U.stats=F.stats,U.urlId=F.urlId,F.initSegment?(U.initSegment=F.initSegment,A=F.initSegment):U.initSegment&&U.initSegment.relurl!=((M=A)===null||M===void 0?void 0:M.relurl)||(U.initSegment=A)}),p.skippedSegments&&(p.deltaUpdateFailed=p.fragments.some(function(F){return!F}),p.deltaUpdateFailed)){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var S=p.skippedSegments;S--;)p.fragments.shift();p.startSN=p.fragments[0].sn,p.startCC=p.fragments[0].cc}var C=p.fragments;if(L){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var I=0;I<C.length;I++)C[I].cc+=L}p.skippedSegments&&(p.startCC=p.fragments[0].cc),m(v.partList,p.partList,function(F,U){U.elementaryStreams=F.elementaryStreams,U.stats=F.stats}),k?a(p,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):w(v,p),C.length&&(p.totalduration=p.edge-C[0].start),p.driftStartTime=v.driftStartTime,p.driftStart=v.driftStart;var D=p.advancedDateTime;if(p.advanced&&D){var P=p.edge;p.driftStart||(p.driftStartTime=D,p.driftStart=P),p.driftEndTime=D,p.driftEnd=P}else p.driftEndTime=v.driftEndTime,p.driftEnd=v.driftEnd,p.advancedDateTime=v.advancedDateTime}function m(v,p,A){if(v&&p)for(var b=0,E=0,x=v.length;E<=x;E++){var k=v[E],L=p[E+b];k&&L&&k.index===L.index&&k.fragment.sn===L.fragment.sn?A(k,L):b--}}function g(v,p,A){for(var b=p.skippedSegments,E=Math.max(v.startSN,p.startSN)-p.startSN,x=(v.fragmentHint?1:0)+(b?p.endSN:Math.min(v.endSN,p.endSN))-p.startSN,k=p.startSN-v.startSN,L=p.fragmentHint?p.fragments.concat(p.fragmentHint):p.fragments,S=v.fragmentHint?v.fragments.concat(v.fragmentHint):v.fragments,C=E;C<=x;C++){var I=S[k+C],D=L[C];b&&!D&&C<b&&(D=p.fragments[C]=I),I&&D&&A(I,D)}}function w(v,p){var A=p.startSN+p.skippedSegments-v.startSN,b=v.fragments;A<0||A>=b.length||T(p,b[A].start)}function T(v,p){if(p){for(var A=v.fragments,b=v.skippedSegments;b<A.length;b++)A[b].start+=p;v.fragmentHint&&(v.fragmentHint.start+=p)}}function y(v,p){var A,b=1e3*v.levelTargetDuration,E=b/2,x=v.age,k=x>0&&x<3*b,L=p.loading.end-p.loading.start,S=v.availabilityDelay;if(v.updated===!1)if(k){var C=333*v.misses;A=Math.max(Math.min(E,2*L),C),v.availabilityDelay=(v.availabilityDelay||0)+A}else A=E;else k?(S=Math.min(S||b/2,x),v.availabilityDelay=S,A=S+b-x):A=b-L;return Math.round(A)}function d(v,p,A){if(!v||!v.details)return null;var b=v.details,E=b.fragments[p-b.startSN];return E||((E=b.fragmentHint)&&E.sn===p?E:p<b.startSN&&A&&A.sn===p?A:null)}function _(v,p,A){if(!v||!v.details)return null;var b=v.details.partList;if(b)for(var E=b.length;E--;){var x=b[E];if(x.index===A&&x.fragment.sn===p)return x}return null}},"./src/controller/stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return v});var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/is-supported.ts"),l=n("./src/events.ts"),f=n("./src/utils/buffer-helper.ts"),c=n("./src/controller/fragment-tracker.ts"),a=n("./src/types/loader.ts"),h=n("./src/loader/fragment.ts"),m=n("./src/demux/transmuxer-interface.ts"),g=n("./src/types/transmuxer.ts"),w=n("./src/controller/gap-controller.ts"),T=n("./src/errors.ts"),y=n("./src/utils/logger.ts");function d(p,A){for(var b=0;b<A.length;b++){var E=A[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}function _(p,A){return(_=Object.setPrototypeOf||function(b,E){return b.__proto__=E,b})(p,A)}var v=function(p){var A,b;function E(S,C){var I;return(I=p.call(this,S,C,"[stream-controller]")||this).audioCodecSwap=!1,I.gapController=null,I.level=-1,I._forceStartLoad=!1,I.altAudio=!1,I.audioOnly=!1,I.fragPlaying=null,I.onvplaying=null,I.onvseeked=null,I.fragLastKbps=0,I.stalled=!1,I.couldBacktrack=!1,I.audioCodecSwitch=!1,I.videoBuffer=null,I._registerListeners(),I}b=p,(A=E).prototype=Object.create(b.prototype),A.prototype.constructor=A,_(A,b);var x,k,L=E.prototype;return L._registerListeners=function(){var S=this.hls;S.on(l.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.on(l.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.on(l.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.on(l.Events.MANIFEST_PARSED,this.onManifestParsed,this),S.on(l.Events.LEVEL_LOADING,this.onLevelLoading,this),S.on(l.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.on(l.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),S.on(l.Events.ERROR,this.onError,this),S.on(l.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),S.on(l.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),S.on(l.Events.BUFFER_CREATED,this.onBufferCreated,this),S.on(l.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),S.on(l.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),S.on(l.Events.FRAG_BUFFERED,this.onFragBuffered,this)},L._unregisterListeners=function(){var S=this.hls;S.off(l.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.off(l.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.off(l.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.off(l.Events.MANIFEST_PARSED,this.onManifestParsed,this),S.off(l.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.off(l.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),S.off(l.Events.ERROR,this.onError,this),S.off(l.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),S.off(l.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),S.off(l.Events.BUFFER_CREATED,this.onBufferCreated,this),S.off(l.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),S.off(l.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),S.off(l.Events.FRAG_BUFFERED,this.onFragBuffered,this)},L.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},L.startLoad=function(S){if(this.levels){var C=this.lastCurrentTime,I=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var D=I.startLevel;D===-1&&(I.config.testBandwidth?(D=0,this.bitrateTest=!0):D=I.nextAutoLevel),this.level=I.nextLoadLevel=D,this.loadedmetadata=!1}C>0&&S===-1&&(this.log("Override startPosition with lastCurrentTime @"+C.toFixed(3)),S=C),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=S,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},L.stopLoad=function(){this._forceStartLoad=!1,p.prototype.stopLoad.call(this)},L.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var S,C=this.levels,I=this.level,D=C==null||(S=C[I])===null||S===void 0?void 0:S.details;if(D&&(!D.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(D))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var P,F=self.performance.now(),U=this.retryDate;(!U||F>=U||(P=this.media)!==null&&P!==void 0&&P.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},L.onTickEnd=function(){p.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},L.doTickIdle=function(){var S,C,I=this.hls,D=this.levelLastLoaded,P=this.levels,F=this.media,U=I.config,M=I.nextLoadLevel;if(D!==null&&(F||!this.startFragRequested&&U.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&P&&P[M]){var V=P[M];this.level=I.nextLoadLevel=M;var H=V.details;if(!H||this.state===i.State.WAITING_LEVEL||H.live&&this.levelLastLoaded!==M)this.state=i.State.WAITING_LEVEL;else{var z=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:F,a.PlaylistLevelType.MAIN);if(z!==null&&!(z.len>=this.getMaxBufferLength(V.maxBitrate))){if(this._streamEnded(z,H)){var j={};return this.altAudio&&(j.type="video"),this.hls.trigger(l.Events.BUFFER_EOS,j),void(this.state=i.State.ENDED)}var Q=z.end,ie=this.getNextFragment(Q,H);if(this.couldBacktrack&&!this.fragPrevious&&ie&&ie.sn!=="initSegment"){var ne=ie.sn-H.startSN;ne>1&&(ie=H.fragments[ne-1],this.fragmentTracker.removeFragment(ie))}if(ie&&this.fragmentTracker.getState(ie)===c.FragmentState.OK&&this.nextLoadPosition>Q){var X=this.audioOnly&&!this.altAudio?h.ElementaryStreamTypes.AUDIO:h.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(F,X,a.PlaylistLevelType.MAIN),ie=this.getNextFragment(this.nextLoadPosition,H)}ie&&(!ie.initSegment||ie.initSegment.data||this.bitrateTest||(ie=ie.initSegment),((S=ie.decryptdata)===null||S===void 0?void 0:S.keyFormat)!=="identity"||(C=ie.decryptdata)!==null&&C!==void 0&&C.key?this.loadFragment(ie,H,Q):this.loadKey(ie,H))}}}},L.loadFragment=function(S,C,I){var D,P=this.fragmentTracker.getState(S);if(this.fragCurrent=S,P===c.FragmentState.BACKTRACKED){var F=this.fragmentTracker.getBacktrackData(S);if(F)return this._handleFragmentLoadProgress(F),void this._handleFragmentLoadComplete(F);P=c.FragmentState.NOT_LOADED}P===c.FragmentState.NOT_LOADED||P===c.FragmentState.PARTIAL?S.sn==="initSegment"?this._loadInitSegment(S):this.bitrateTest?(S.bitrateTest=!0,this.log("Fragment "+S.sn+" of level "+S.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(S)):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,S,C,I)):P===c.FragmentState.APPENDING?this.reduceMaxBufferLength(S.duration)&&this.fragmentTracker.removeFragment(S):((D=this.media)===null||D===void 0?void 0:D.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},L.getAppendedFrag=function(S){var C=this.fragmentTracker.getAppendedFrag(S,a.PlaylistLevelType.MAIN);return C&&"fragment"in C?C.fragment:C},L.getBufferedFrag=function(S){return this.fragmentTracker.getBufferedFrag(S,a.PlaylistLevelType.MAIN)},L.followingBufferedFrag=function(S){return S?this.getBufferedFrag(S.end+.5):null},L.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},L.nextLevelSwitch=function(){var S=this.levels,C=this.media;if(C!=null&&C.readyState){var I,D=this.getAppendedFrag(C.currentTime);if(D&&D.start>1&&this.flushMainBuffer(0,D.start-1),!C.paused&&S){var P=S[this.hls.nextLoadLevel],F=this.fragLastKbps;I=F&&this.fragCurrent?this.fragCurrent.duration*P.maxBitrate/(1e3*F)+1:0}else I=0;var U=this.getBufferedFrag(C.currentTime+I);if(U){var M=this.followingBufferedFrag(U);if(M){this.abortCurrentFrag();var V=M.maxStartPTS?M.maxStartPTS:M.start,H=M.duration,z=Math.max(U.end,V+Math.min(Math.max(H-this.config.maxFragLookUpTolerance,.5*H),.75*H));this.flushMainBuffer(z,Number.POSITIVE_INFINITY)}}}},L.abortCurrentFrag=function(){var S=this.fragCurrent;this.fragCurrent=null,S!=null&&S.loader&&S.loader.abort(),this.state===i.State.KEY_LOADING&&(this.state=i.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},L.flushMainBuffer=function(S,C){p.prototype.flushMainBuffer.call(this,S,C,this.altAudio?"video":null)},L.onMediaAttached=function(S,C){p.prototype.onMediaAttached.call(this,S,C);var I=C.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),I.addEventListener("playing",this.onvplaying),I.addEventListener("seeked",this.onvseeked),this.gapController=new w.default(this.config,I,this.fragmentTracker,this.hls)},L.onMediaDetaching=function(){var S=this.media;S&&(S.removeEventListener("playing",this.onvplaying),S.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),p.prototype.onMediaDetaching.call(this)},L.onMediaPlaying=function(){this.tick()},L.onMediaSeeked=function(){var S=this.media,C=S?S.currentTime:null;Object(r.isFiniteNumber)(C)&&this.log("Media seeked to "+C.toFixed(3)),this.tick()},L.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(l.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},L.onManifestParsed=function(S,C){var I,D=!1,P=!1;C.levels.forEach(function(F){(I=F.audioCodec)&&(I.indexOf("mp4a.40.2")!==-1&&(D=!0),I.indexOf("mp4a.40.5")!==-1&&(P=!0))}),this.audioCodecSwitch=D&&P&&!Object(o.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=C.levels,this.startFragRequested=!1},L.onLevelLoading=function(S,C){var I=this.levels;if(I&&this.state===i.State.IDLE){var D=I[C.level];(!D.details||D.details.live&&this.levelLastLoaded!==C.level||this.waitForCdnTuneIn(D.details))&&(this.state=i.State.WAITING_LEVEL)}},L.onLevelLoaded=function(S,C){var I,D=this.levels,P=C.level,F=C.details,U=F.totalduration;if(D){this.log("Level "+P+" loaded ["+F.startSN+","+F.endSN+"], cc ["+F.startCC+", "+F.endCC+"] duration:"+U);var M=this.fragCurrent;!M||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||M.level!==C.level&&M.loader&&(this.state=i.State.IDLE,M.loader.abort());var V=D[P],H=0;if(F.live||(I=V.details)!==null&&I!==void 0&&I.live){if(F.fragments[0]||(F.deltaUpdateFailed=!0),F.deltaUpdateFailed)return;H=this.alignPlaylists(F,V.details)}if(V.details=F,this.levelLastLoaded=P,this.hls.trigger(l.Events.LEVEL_UPDATED,{details:F,level:P}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(F))return;this.state=i.State.IDLE}this.startFragRequested?F.live&&this.synchronizeToLiveEdge(F):this.setStartPosition(F,H),this.tick()}else this.warn("Levels were reset while loading level "+P)},L._handleFragmentLoadProgress=function(S){var C,I=S.frag,D=S.part,P=S.payload,F=this.levels;if(F){var U=F[I.level],M=U.details;if(M){var V=U.videoCodec,H=M.PTSKnown||!M.live,z=(C=I.initSegment)===null||C===void 0?void 0:C.data,j=this._getAudioCodec(U),Q=this.transmuxer=this.transmuxer||new m.default(this.hls,a.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),ie=D?D.index:-1,ne=ie!==-1,X=new g.ChunkMetadata(I.level,I.sn,I.stats.chunkCount,P.byteLength,ie,ne),J=this.initPTS[I.cc];Q.push(P,z,j,V,I,D,M.totalduration,H,X,J)}else this.warn("Dropping fragment "+I.sn+" of level "+I.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+I.sn+" of level "+I.level+" will not be buffered")},L.onAudioTrackSwitching=function(S,C){var I=this.altAudio,D=!!C.url,P=C.id;if(!D){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var F=this.fragCurrent;F!=null&&F.loader&&(this.log("Switching to main audio track, cancel main fragment load"),F.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var U=this.hls;I&&U.trigger(l.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),U.trigger(l.Events.AUDIO_TRACK_SWITCHED,{id:P})}},L.onAudioTrackSwitched=function(S,C){var I=C.id,D=!!this.hls.audioTracks[I].url;if(D){var P=this.videoBuffer;P&&this.mediaBuffer!==P&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=P)}this.altAudio=D,this.tick()},L.onBufferCreated=function(S,C){var I,D,P=C.tracks,F=!1;for(var U in P){var M=P[U];if(M.id==="main"){if(D=U,I=M,U==="video"){var V=P[U];V&&(this.videoBuffer=V.buffer)}}else F=!0}F&&I?(this.log("Alternate track found, use "+D+".buffered to schedule main fragment loading"),this.mediaBuffer=I.buffer):this.mediaBuffer=this.media},L.onFragBuffered=function(S,C){var I=C.frag,D=C.part;if(!I||I.type===a.PlaylistLevelType.MAIN){if(this.fragContextChanged(I))return this.warn("Fragment "+I.sn+(D?" p: "+D.index:"")+" of level "+I.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var P=D?D.stats:I.stats;this.fragLastKbps=Math.round(8*P.total/(P.buffering.end-P.loading.first)),I.sn!=="initSegment"&&(this.fragPrevious=I),this.fragBufferedComplete(I,D)}},L.onError=function(S,C){switch(C.details){case T.ErrorDetails.FRAG_LOAD_ERROR:case T.ErrorDetails.FRAG_LOAD_TIMEOUT:case T.ErrorDetails.KEY_LOAD_ERROR:case T.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(a.PlaylistLevelType.MAIN,C);break;case T.ErrorDetails.LEVEL_LOAD_ERROR:case T.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(C.fatal?(this.warn(""+C.details),this.state=i.State.ERROR):C.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case T.ErrorDetails.BUFFER_FULL_ERROR:if(C.parent==="main"&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var I=!0,D=this.getFwdBufferInfo(this.media,a.PlaylistLevelType.MAIN);D&&D.len>.5&&(I=!this.reduceMaxBufferLength(D.len)),I&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},L.checkBuffer=function(){var S=this.media,C=this.gapController;if(S&&C&&S.readyState){var I=f.BufferHelper.getBuffered(S);!this.loadedmetadata&&I.length?(this.loadedmetadata=!0,this.seekToStartPos()):C.poll(this.lastCurrentTime),this.lastCurrentTime=S.currentTime}},L.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},L.onBufferFlushed=function(S,C){var I=C.type;if(I!==h.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var D=(I===h.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(D,I,a.PlaylistLevelType.MAIN)}},L.onLevelsUpdated=function(S,C){this.levels=C.levels},L.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},L.seekToStartPos=function(){var S=this.media,C=S.currentTime,I=this.startPosition;if(I>=0&&C<I){if(S.seeking)return void y.logger.log("could not seek to "+I+", already seeking at "+C);var D=f.BufferHelper.getBuffered(S),P=(D.length?D.start(0):0)-I;P>0&&P<this.config.maxBufferHole&&(y.logger.log("adjusting start position by "+P+" to match buffer start"),I+=P,this.startPosition=I),this.log("seek to target start position "+I+" from current time "+C),S.currentTime=I}},L._getAudioCodec=function(S){var C=this.config.defaultAudioCodec||S.audioCodec;return this.audioCodecSwap&&C&&(this.log("Swapping audio codec"),C=C.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),C},L._loadBitrateTestFrag=function(S){var C=this;this._doFragLoad(S).then(function(I){var D=C.hls;if(I&&!D.nextLoadLevel&&!C.fragContextChanged(S)){C.fragLoadError=0,C.state=i.State.IDLE,C.startFragRequested=!1,C.bitrateTest=!1;var P=S.stats;P.parsing.start=P.parsing.end=P.buffering.start=P.buffering.end=self.performance.now(),D.trigger(l.Events.FRAG_LOADED,I)}})},L._handleTransmuxComplete=function(S){var C,I="main",D=this.hls,P=S.remuxResult,F=S.chunkMeta,U=this.getCurrentContext(F);if(!U)return this.warn("The loading context changed while buffering fragment "+F.sn+" of level "+F.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(F.level);var M=U.frag,V=U.part,H=U.level,z=P.video,j=P.text,Q=P.id3,ie=P.initSegment,ne=this.altAudio?void 0:P.audio;if(!this.fragContextChanged(M)){if(this.state=i.State.PARSING,ie){ie.tracks&&(this._bufferInitSegment(H,ie.tracks,M,F),D.trigger(l.Events.FRAG_PARSING_INIT_SEGMENT,{frag:M,id:I,tracks:ie.tracks}));var X=ie.initPTS,J=ie.timescale;Object(r.isFiniteNumber)(X)&&(this.initPTS[M.cc]=X,D.trigger(l.Events.INIT_PTS_FOUND,{frag:M,id:I,initPTS:X,timescale:J}))}if(z&&P.independent!==!1){if(H.details){var se=z.startPTS,ce=z.endPTS,me=z.startDTS,Fe=z.endDTS;if(V)V.elementaryStreams[z.type]={startPTS:se,endPTS:ce,startDTS:me,endDTS:Fe};else if(z.firstKeyFrame&&z.independent&&(this.couldBacktrack=!0),z.dropped&&z.independent){if(this.getLoadPosition()+this.config.maxBufferHole<se)return void this.backtrack(M);M.setElementaryStreamInfo(z.type,M.start,ce,M.start,Fe,!0)}M.setElementaryStreamInfo(z.type,se,ce,me,Fe),this.bufferFragmentData(z,M,V,F)}}else if(P.independent===!1)return void this.backtrack(M);if(ne){var Oe=ne.startPTS,Y=ne.endPTS,ee=ne.startDTS,ae=ne.endDTS;V&&(V.elementaryStreams[h.ElementaryStreamTypes.AUDIO]={startPTS:Oe,endPTS:Y,startDTS:ee,endDTS:ae}),M.setElementaryStreamInfo(h.ElementaryStreamTypes.AUDIO,Oe,Y,ee,ae),this.bufferFragmentData(ne,M,V,F)}if(Q!=null&&(C=Q.samples)!==null&&C!==void 0&&C.length){var fe={frag:M,id:I,samples:Q.samples};D.trigger(l.Events.FRAG_PARSING_METADATA,fe)}if(j){var ge={frag:M,id:I,samples:j.samples};D.trigger(l.Events.FRAG_PARSING_USERDATA,ge)}}},L._bufferInitSegment=function(S,C,I,D){var P=this;if(this.state===i.State.PARSING){this.audioOnly=!!C.audio&&!C.video,this.altAudio&&!this.audioOnly&&delete C.audio;var F=C.audio,U=C.video,M=C.audiovideo;if(F){var V=S.audioCodec,H=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(V&&(V=V.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),F.metadata.channelCount!==1&&H.indexOf("firefox")===-1&&(V="mp4a.40.5")),H.indexOf("android")!==-1&&F.container!=="audio/mpeg"&&(V="mp4a.40.2",this.log("Android: force audio codec to "+V)),S.audioCodec&&S.audioCodec!==V&&this.log('Swapping manifest audio codec "'+S.audioCodec+'" for "'+V+'"'),F.levelCodec=V,F.id="main",this.log("Init audio buffer, container:"+F.container+", codecs[selected/level/parsed]=["+(V||"")+"/"+(S.audioCodec||"")+"/"+F.codec+"]")}U&&(U.levelCodec=S.videoCodec,U.id="main",this.log("Init video buffer, container:"+U.container+", codecs[level/parsed]=["+(S.videoCodec||"")+"/"+U.codec+"]")),M&&this.log("Init audiovideo buffer, container:"+M.container+", codecs[level/parsed]=["+(S.attrs.CODECS||"")+"/"+M.codec+"]"),this.hls.trigger(l.Events.BUFFER_CODECS,C),Object.keys(C).forEach(function(z){var j=C[z].initSegment;j!=null&&j.byteLength&&P.hls.trigger(l.Events.BUFFER_APPENDING,{type:z,data:j,frag:I,part:null,chunkMeta:D,parent:I.type})}),this.tick()}},L.backtrack=function(S){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(S);var C=this.fragmentTracker.backtrack(S);this.fragPrevious=null,this.nextLoadPosition=S.start,C?this.resetFragmentLoading(S):this.state=i.State.BACKTRACKING},L.checkFragmentChanged=function(){var S=this.media,C=null;if(S&&S.readyState>1&&S.seeking===!1){var I=S.currentTime;if(f.BufferHelper.isBuffered(S,I)?C=this.getAppendedFrag(I):f.BufferHelper.isBuffered(S,I+.1)&&(C=this.getAppendedFrag(I+.1)),C){var D=this.fragPlaying,P=C.level;D&&C.sn===D.sn&&D.level===P&&C.urlId===D.urlId||(this.hls.trigger(l.Events.FRAG_CHANGED,{frag:C}),D&&D.level===P||this.hls.trigger(l.Events.LEVEL_SWITCHED,{level:P}),this.fragPlaying=C)}}},x=E,(k=[{key:"nextLevel",get:function(){var S=this.nextBufferedFrag;return S?S.level:-1}},{key:"currentLevel",get:function(){var S=this.media;if(S){var C=this.getAppendedFrag(S.currentTime);if(C)return C.level}return-1}},{key:"nextBufferedFrag",get:function(){var S=this.media;if(S){var C=this.getAppendedFrag(S.currentTime);return this.followingBufferedFrag(C)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&d(x.prototype,k),E}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){n.r(t),n.d(t,"SubtitleStreamController",function(){return y});var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=n("./src/utils/buffer-helper.ts"),l=n("./src/controller/fragment-finders.ts"),f=n("./src/utils/discontinuities.ts"),c=n("./src/controller/level-helper.ts"),a=n("./src/controller/fragment-tracker.ts"),h=n("./src/controller/base-stream-controller.ts"),m=n("./src/types/loader.ts"),g=n("./src/types/level.ts");function w(d,_){for(var v=0;v<_.length;v++){var p=_[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function T(d,_){return(T=Object.setPrototypeOf||function(v,p){return v.__proto__=p,v})(d,_)}var y=function(d){var _,v;function p(x,k){var L;return(L=d.call(this,x,k,"[subtitle-stream-controller]")||this).levels=[],L.currentTrackId=-1,L.tracksBuffered=[],L.mainDetails=null,L._registerListeners(),L}v=d,(_=p).prototype=Object.create(v.prototype),_.prototype.constructor=_,T(_,v);var A,b,E=p.prototype;return E.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},E._registerListeners=function(){var x=this.hls;x.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),x.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),x.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),x.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),x.on(r.Events.ERROR,this.onError,this),x.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),x.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),x.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),x.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),x.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},E._unregisterListeners=function(){var x=this.hls;x.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),x.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),x.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),x.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),x.off(r.Events.ERROR,this.onError,this),x.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),x.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),x.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),x.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),x.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},E.startLoad=function(){this.stopLoad(),this.state=h.State.IDLE,this.setInterval(500),this.tick()},E.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},E.onLevelLoaded=function(x,k){this.mainDetails=k.details},E.onSubtitleFragProcessed=function(x,k){var L=k.frag,S=k.success;if(this.fragPrevious=L,this.state=h.State.IDLE,S){var C=this.tracksBuffered[this.currentTrackId];if(C){for(var I,D=L.start,P=0;P<C.length;P++)if(D>=C[P].start&&D<=C[P].end){I=C[P];break}var F=L.start+L.duration;I?I.end=F:(I={start:D,end:F},C.push(I)),this.fragmentTracker.fragBuffered(L)}}},E.onBufferFlushing=function(x,k){var L=k.startOffset,S=k.endOffset;if(L===0&&S!==Number.POSITIVE_INFINITY){var C=this.currentTrackId,I=this.levels;if(!I.length||!I[C]||!I[C].details)return;var D=S-I[C].details.targetduration;if(D<=0)return;k.endOffsetSubtitles=Math.max(0,D),this.tracksBuffered.forEach(function(P){for(var F=0;F<P.length;)if(P[F].end<=D)P.shift();else{if(!(P[F].start<D))break;P[F].start=D,F++}}),this.fragmentTracker.removeFragmentsInRange(L,D,m.PlaylistLevelType.SUBTITLE)}},E.onError=function(x,k){var L,S=k.frag;S&&S.type===m.PlaylistLevelType.SUBTITLE&&((L=this.fragCurrent)!==null&&L!==void 0&&L.loader&&this.fragCurrent.loader.abort(),this.state=h.State.IDLE)},E.onSubtitleTracksUpdated=function(x,k){var L=this,S=k.subtitleTracks;this.tracksBuffered=[],this.levels=S.map(function(C){return new g.Level(C)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(C){L.tracksBuffered[C.id]=[]}),this.mediaBuffer=null},E.onSubtitleTrackSwitch=function(x,k){if(this.currentTrackId=k.id,this.levels.length&&this.currentTrackId!==-1){var L=this.levels[this.currentTrackId];L!=null&&L.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},E.onSubtitleTrackLoaded=function(x,k){var L,S=k.details,C=k.id,I=this.currentTrackId,D=this.levels;if(D.length){var P=D[I];if(!(C>=D.length||C!==I)&&P){if(this.mediaBuffer=this.mediaBufferTimeRanges,S.live||(L=P.details)!==null&&L!==void 0&&L.live){var F=this.mainDetails;if(S.deltaUpdateFailed||!F)return;var U=F.fragments[0];P.details?this.alignPlaylists(S,P.details)===0&&U&&Object(c.addSliding)(S,U.start):S.hasProgramDateTime&&F.hasProgramDateTime?Object(f.alignPDT)(S,F):U&&Object(c.addSliding)(S,U.start)}P.details=S,this.levelLastLoaded=C,this.tick(),S.live&&!this.fragCurrent&&this.media&&this.state===h.State.IDLE&&(Object(l.findFragmentByPTS)(null,S.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),P.details=void 0))}}},E._handleFragmentLoadComplete=function(x){var k=x.frag,L=x.payload,S=k.decryptdata,C=this.hls;if(!this.fragContextChanged(k)&&L&&L.byteLength>0&&S&&S.key&&S.iv&&S.method==="AES-128"){var I=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(L),S.key.buffer,S.iv.buffer).then(function(D){var P=performance.now();C.trigger(r.Events.FRAG_DECRYPTED,{frag:k,payload:D,stats:{tstart:I,tdecrypt:P}})})}},E.doTick=function(){if(this.media){if(this.state===h.State.IDLE){var x,k=this.currentTrackId,L=this.levels;if(!L.length||!L[k]||!L[k].details)return;var S=L[k].details,C=S.targetduration,I=this.config,D=this.media,P=o.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,D.currentTime-C,I.maxBufferHole),F=P.end;if(P.len>this.getMaxBufferLength()+C)return;console.assert(S,"Subtitle track details are defined on idle subtitle stream controller tick");var U,M=S.fragments,V=M.length,H=S.edge,z=this.fragPrevious;if(F<H){var j=I.maxFragLookUpTolerance;z&&S.hasProgramDateTime&&(U=Object(l.findFragmentByPDT)(M,z.endProgramDateTime,j)),U||!(U=Object(l.findFragmentByPTS)(z,M,F,j))&&z&&z.start<M[0].start&&(U=M[0])}else U=M[V-1];(x=U)!==null&&x!==void 0&&x.encrypted?(i.logger.log("Loading key for "+U.sn),this.state=h.State.KEY_LOADING,this.hls.trigger(r.Events.KEY_LOADING,{frag:U})):U&&this.fragmentTracker.getState(U)===a.FragmentState.NOT_LOADED&&this.loadFragment(U,S,F)}}else this.state=h.State.IDLE},E.loadFragment=function(x,k,L){this.fragCurrent=x,d.prototype.loadFragment.call(this,x,k,L)},A=p,(b=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&w(A.prototype,b),p}(h.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),o=n("./src/controller/base-playlist-controller.ts"),l=n("./src/types/loader.ts");function f(m,g){for(var w=0;w<g.length;w++){var T=g[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function c(m,g){return(c=Object.setPrototypeOf||function(w,T){return w.__proto__=T,w})(m,g)}var a=function(m){var g,w;function T(v){var p;return(p=m.call(this,v,"[subtitle-track-controller]")||this).media=null,p.tracks=[],p.groupId=null,p.tracksInGroup=[],p.trackId=-1,p.selectDefaultTrack=!0,p.queuedDefaultTrack=-1,p.trackChangeListener=function(){return p.onTextTracksChanged()},p.asyncPollTrackChange=function(){return p.pollTrackChange(0)},p.useTextTrackPolling=!1,p.subtitlePollingInterval=-1,p.subtitleDisplay=!0,p.registerListeners(),p}w=m,(g=T).prototype=Object.create(w.prototype),g.prototype.constructor=g,c(g,w);var y,d,_=T.prototype;return _.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,m.prototype.destroy.call(this)},_.registerListeners=function(){var v=this.hls;v.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),v.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),v.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),v.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),v.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),v.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),v.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),v.on(r.Events.ERROR,this.onError,this)},_.unregisterListeners=function(){var v=this.hls;v.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),v.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),v.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),v.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),v.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),v.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),v.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),v.off(r.Events.ERROR,this.onError,this)},_.onMediaAttached=function(v,p){this.media=p.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},_.pollTrackChange=function(v){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,v)},_.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),h(this.media.textTracks).forEach(function(v){Object(i.clearCurrentCues)(v)}),this.subtitleTrack=-1,this.media=null)},_.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},_.onManifestParsed=function(v,p){this.tracks=p.subtitleTracks},_.onSubtitleTrackLoaded=function(v,p){var A=p.id,b=p.details,E=this.trackId,x=this.tracksInGroup[E];if(x){var k=x.details;x.details=p.details,this.log("subtitle track "+A+" loaded ["+b.startSN+"-"+b.endSN+"]"),A===this.trackId&&(this.retryCount=0,this.playlistLoaded(A,p,k))}else this.warn("Invalid subtitle track id "+A)},_.onLevelLoading=function(v,p){this.switchLevel(p.level)},_.onLevelSwitching=function(v,p){this.switchLevel(p.level)},_.switchLevel=function(v){var p=this.hls.levels[v];if(p!=null&&p.textGroupIds){var A=p.textGroupIds[p.urlId];if(this.groupId!==A){var b=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,E=this.tracks.filter(function(L){return!A||L.groupId===A});this.tracksInGroup=E;var x=this.findTrackId(b==null?void 0:b.name)||this.findTrackId();this.groupId=A;var k={subtitleTracks:E};this.log("Updating subtitle tracks, "+E.length+' track(s) found in "'+A+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,k),x!==-1&&this.setSubtitleTrack(x,b)}}},_.findTrackId=function(v){for(var p=this.tracksInGroup,A=0;A<p.length;A++){var b=p[A];if((!this.selectDefaultTrack||b.default)&&(!v||v===b.name))return b.id}return-1},_.onError=function(v,p){m.prototype.onError.call(this,v,p),!p.fatal&&p.context&&p.context.type===l.PlaylistContextType.SUBTITLE_TRACK&&p.context.id===this.trackId&&p.context.groupId===this.groupId&&this.retryLoadingOrFail(p)},_.loadPlaylist=function(v){var p=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(p)){var A=p.id,b=p.groupId,E=p.url;if(v)try{E=v.addDirectives(E)}catch(x){this.warn("Could not construct new URL with HLS Delivery Directives: "+x)}this.log("Loading subtitle playlist for id "+A),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:E,id:A,groupId:b,deliveryDirectives:v||null})}},_.toggleTrackModes=function(v){var p=this,A=this.media,b=this.subtitleDisplay,E=this.trackId;if(A){var x=h(A.textTracks),k=x.filter(function(C){return C.groupId===p.groupId});if(v===-1)[].slice.call(x).forEach(function(C){C.mode="disabled"});else{var L=k[E];L&&(L.mode="disabled")}var S=k[v];S&&(S.mode=b?"showing":"hidden")}},_.setSubtitleTrack=function(v,p){var A,b=this.tracksInGroup;if(this.media){if(this.trackId!==v&&this.toggleTrackModes(v),!(this.trackId===v&&(v===-1||(A=b[v])!==null&&A!==void 0&&A.details)||v<-1||v>=b.length)){this.clearTimer();var E=b[v];if(this.log("Switching to subtitle track "+v),this.trackId=v,E){var x=E.id,k=E.groupId,L=k===void 0?"":k,S=E.name,C=E.type,I=E.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:x,groupId:L,name:S,type:C,url:I});var D=this.switchParams(E.url,p==null?void 0:p.details);this.loadPlaylist(D)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:v})}}else this.queuedDefaultTrack=v},_.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var v=-1,p=h(this.media.textTracks),A=0;A<p.length;A++)if(p[A].mode==="hidden")v=A;else if(p[A].mode==="showing"){v=A;break}this.subtitleTrack!==v&&(this.subtitleTrack=v)}},y=T,(d=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(v){this.selectDefaultTrack=!1;var p=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(v,p)}}])&&f(y.prototype,d),T}(o.default);function h(m){for(var g=[],w=0;w<m.length;w++){var T=m[w];T.kind==="subtitles"&&T.label&&g.push(m[w])}return g}t.default=a},"./src/controller/timeline-controller.ts":function(e,t,n){n.r(t),n.d(t,"TimelineController",function(){return g});var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/cea-608-parser.ts"),l=n("./src/utils/output-filter.ts"),f=n("./src/utils/webvtt-parser.ts"),c=n("./src/utils/texttrack-utils.ts"),a=n("./src/utils/imsc1-ttml-parser.ts"),h=n("./src/types/loader.ts"),m=n("./src/utils/logger.ts"),g=function(){function T(d){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=d,this.config=d.config,this.Cues=d.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var _=new l.default(this,"textTrack1"),v=new l.default(this,"textTrack2"),p=new l.default(this,"textTrack3"),A=new l.default(this,"textTrack4");this.cea608Parser1=new o.default(1,_,v),this.cea608Parser2=new o.default(3,p,A)}d.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),d.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),d.on(i.Events.FRAG_LOADING,this.onFragLoading,this),d.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),d.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),d.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),d.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),d.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),d.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var y=T.prototype;return y.destroy=function(){var d=this.hls;d.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),d.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),d.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),d.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),d.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),d.off(i.Events.FRAG_LOADING,this.onFragLoading,this),d.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),d.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),d.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),d.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),d.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),d.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},y.addCues=function(d,_,v,p,A){for(var b,E,x,k,L=!1,S=A.length;S--;){var C=A[S],I=(b=C[0],E=C[1],x=_,k=v,Math.min(E,k)-Math.max(b,x));if(I>=0&&(C[0]=Math.min(C[0],_),C[1]=Math.max(C[1],v),L=!0,I/(v-_)>.5))return}if(L||A.push([_,v]),this.config.renderTextTracksNatively){var D=this.captionsTracks[d];this.Cues.newCue(D,_,v,p)}else{var P=this.Cues.newCue(null,_,v,p);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:P,track:d})}},y.onInitPtsFound=function(d,_){var v=this,p=_.frag,A=_.id,b=_.initPTS,E=_.timescale,x=this.unparsedVttFrags;A==="main"&&(this.initPTS[p.cc]=b,this.timescale[p.cc]=E),x.length&&(this.unparsedVttFrags=[],x.forEach(function(k){v.onFragLoaded(i.Events.FRAG_LOADED,k)}))},y.getExistingTrack=function(d){var _=this.media;if(_)for(var v=0;v<_.textTracks.length;v++){var p=_.textTracks[v];if(p[d])return p}return null},y.createCaptionsTrack=function(d){this.config.renderTextTracksNatively?this.createNativeTrack(d):this.createNonNativeTrack(d)},y.createNativeTrack=function(d){if(!this.captionsTracks[d]){var _=this.captionsProperties,v=this.captionsTracks,p=this.media,A=_[d],b=A.label,E=A.languageCode,x=this.getExistingTrack(d);if(x)v[d]=x,Object(c.clearCurrentCues)(v[d]),Object(c.sendAddTrackEvent)(v[d],p);else{var k=this.createTextTrack("captions",b,E);k&&(k[d]=!0,v[d]=k)}}},y.createNonNativeTrack=function(d){if(!this.nonNativeCaptionsTracks[d]){var _=this.captionsProperties[d];if(_){var v={_id:d,label:_.label,kind:"captions",default:!!_.media&&!!_.media.default,closedCaptions:_.media};this.nonNativeCaptionsTracks[d]=v,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[v]})}}},y.createTextTrack=function(d,_,v){var p=this.media;if(p)return p.addTextTrack(d,_,v)},y.onMediaAttaching=function(d,_){this.media=_.media,this._cleanTracks()},y.onMediaDetaching=function(){var d=this.captionsTracks;Object.keys(d).forEach(function(_){Object(c.clearCurrentCues)(d[_]),delete d[_]}),this.nonNativeCaptionsTracks={}},y.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},y._cleanTracks=function(){var d=this.media;if(d){var _=d.textTracks;if(_)for(var v=0;v<_.length;v++)Object(c.clearCurrentCues)(_[v])}},y.onSubtitleTracksUpdated=function(d,_){var v=this;this.textTracks=[];var p=_.subtitleTracks||[],A=p.some(function(k){return k.textCodec===a.IMSC1_CODEC});if(this.config.enableWebVTT||A&&this.config.enableIMSC1){var b=this.tracks&&p&&this.tracks.length===p.length;if(this.tracks=p||[],this.config.renderTextTracksNatively){var E=this.media?this.media.textTracks:[];this.tracks.forEach(function(k,L){var S;if(L<E.length){for(var C=null,I=0;I<E.length;I++)if(w(E[I],k)){C=E[I];break}C&&(S=C)}S?Object(c.clearCurrentCues)(S):(S=v.createTextTrack("subtitles",k.name,k.lang))&&(S.mode="disabled"),S&&(S.groupId=k.groupId,v.textTracks.push(S))})}else if(!b&&this.tracks&&this.tracks.length){var x=this.tracks.map(function(k){return{label:k.name,kind:k.type.toLowerCase(),default:k.default,subtitleTrack:k}});this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:x})}}},y.onManifestLoaded=function(d,_){var v=this;this.config.enableCEA708Captions&&_.captions&&_.captions.forEach(function(p){var A=/(?:CC|SERVICE)([1-4])/.exec(p.instreamId);if(A){var b="textTrack"+A[1],E=v.captionsProperties[b];E&&(E.label=p.name,p.lang&&(E.languageCode=p.lang),E.media=p)}})},y.onFragLoading=function(d,_){var v=this.cea608Parser1,p=this.cea608Parser2,A=this.lastSn;if(this.enabled&&v&&p&&_.frag.type===h.PlaylistLevelType.MAIN){var b=_.frag.sn;b!==A+1&&(v.reset(),p.reset()),this.lastSn=b}},y.onFragLoaded=function(d,_){var v=_.frag,p=_.payload,A=this.initPTS,b=this.unparsedVttFrags;if(v.type===h.PlaylistLevelType.SUBTITLE)if(p.byteLength){if(!Object(r.isFiniteNumber)(A[v.cc]))return b.push(_),void(A.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:v,error:new Error("Missing initial subtitle PTS")}));var E=v.decryptdata;if(E==null||E.key==null||E.method!=="AES-128"){var x=this.tracks[v.level],k=this.vttCCs;k[v.cc]||(k[v.cc]={start:v.start,prevCC:this.prevCC,new:!0},this.prevCC=v.cc),x&&x.textCodec===a.IMSC1_CODEC?this._parseIMSC1(v,p):this._parseVTTs(v,p,k)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:v,error:new Error("Empty subtitle payload")})},y._parseIMSC1=function(d,_){var v=this,p=this.hls;Object(a.parseIMSC1)(_,this.initPTS[d.cc],this.timescale[d.cc],function(A){v._appendCues(A,d.level),p.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:d})},function(A){m.logger.log("Failed to parse IMSC1: "+A),p.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:d,error:A})})},y._parseVTTs=function(d,_,v){var p=this,A=this.hls;Object(f.parseWebVTT)(_,this.initPTS[d.cc],this.timescale[d.cc],v,d.cc,d.start,function(b){p._appendCues(b,d.level),A.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:d})},function(b){p._fallbackToIMSC1(d,_),m.logger.log("Failed to parse VTT cue: "+b),A.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:d,error:b})})},y._fallbackToIMSC1=function(d,_){var v=this,p=this.tracks[d.level];p.textCodec||Object(a.parseIMSC1)(_,this.initPTS[d.cc],this.timescale[d.cc],function(){p.textCodec=a.IMSC1_CODEC,v._parseIMSC1(d,_)},function(){p.textCodec="wvtt"})},y._appendCues=function(d,_){var v=this.hls;if(this.config.renderTextTracksNatively){var p=this.textTracks[_];if(p.mode==="disabled")return;d.forEach(function(b){return Object(c.addCueToTrack)(p,b)})}else{var A=this.tracks[_].default?"default":"subtitles"+_;v.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:d,track:A})}},y.onFragDecrypted=function(d,_){var v=_.frag;if(v.type===h.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[v.cc]))return void this.unparsedVttFrags.push(_);this.onFragLoaded(i.Events.FRAG_LOADED,_)}},y.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},y.onFragParsingUserdata=function(d,_){var v=this.cea608Parser1,p=this.cea608Parser2;if(this.enabled&&v&&p)for(var A=0;A<_.samples.length;A++){var b=_.samples[A].bytes;if(b){var E=this.extractCea608Data(b);v.addData(_.samples[A].pts,E[0]),p.addData(_.samples[A].pts,E[1])}}},y.onBufferFlushing=function(d,_){var v=_.startOffset,p=_.endOffset,A=_.endOffsetSubtitles,b=_.type,E=this.media;if(E&&!(E.currentTime<p)){if(!b||b==="video"){var x=this.captionsTracks;Object.keys(x).forEach(function(L){return Object(c.removeCuesInRange)(x[L],v,p)})}if(this.config.renderTextTracksNatively&&v===0&&A!==void 0){var k=this.textTracks;Object.keys(k).forEach(function(L){return Object(c.removeCuesInRange)(k[L],v,A)})}}},y.extractCea608Data=function(d){for(var _=31&d[0],v=2,p=[[],[]],A=0;A<_;A++){var b=d[v++],E=127&d[v++],x=127&d[v++],k=3&b;E===0&&x===0||(4&b)!=0&&(k!==0&&k!==1||(p[k].push(E),p[k].push(x)))}return p},T}();function w(T,y){return T&&T.label===y.name&&!(T.textTrack1||T.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function i(o,l){this.subtle=void 0,this.aesIV=void 0,this.subtle=o,this.aesIV=l}return i.prototype.decrypt=function(o,l){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},l,o)},i}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){n.r(t),n.d(t,"removePadding",function(){return i}),n.d(t,"default",function(){return o});var r=n("./src/utils/typed-array.ts");function i(l){var f=l.byteLength,c=f&&new DataView(l.buffer).getUint8(f-1);return c?Object(r.sliceUint8)(l,0,f-c):l}var o=function(){function l(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var f=l.prototype;return f.uint8ArrayToUint32Array_=function(c){for(var a=new DataView(c),h=new Uint32Array(4),m=0;m<4;m++)h[m]=a.getUint32(4*m);return h},f.initTable=function(){var c=this.sBox,a=this.invSBox,h=this.subMix,m=h[0],g=h[1],w=h[2],T=h[3],y=this.invSubMix,d=y[0],_=y[1],v=y[2],p=y[3],A=new Uint32Array(256),b=0,E=0,x=0;for(x=0;x<256;x++)A[x]=x<128?x<<1:x<<1^283;for(x=0;x<256;x++){var k=E^E<<1^E<<2^E<<3^E<<4;k=k>>>8^255&k^99,c[b]=k,a[k]=b;var L=A[b],S=A[L],C=A[S],I=257*A[k]^16843008*k;m[b]=I<<24|I>>>8,g[b]=I<<16|I>>>16,w[b]=I<<8|I>>>24,T[b]=I,I=16843009*C^65537*S^257*L^16843008*b,d[k]=I<<24|I>>>8,_[k]=I<<16|I>>>16,v[k]=I<<8|I>>>24,p[k]=I,b?(b=L^A[A[A[C^L]]],E^=A[A[E]]):b=E=1}},f.expandKey=function(c){for(var a=this.uint8ArrayToUint32Array_(c),h=!0,m=0;m<a.length&&h;)h=a[m]===this.key[m],m++;if(!h){this.key=a;var g=this.keySize=a.length;if(g!==4&&g!==6&&g!==8)throw new Error("Invalid aes key size="+g);var w,T,y,d,_=this.ksRows=4*(g+6+1),v=this.keySchedule=new Uint32Array(_),p=this.invKeySchedule=new Uint32Array(_),A=this.sBox,b=this.rcon,E=this.invSubMix,x=E[0],k=E[1],L=E[2],S=E[3];for(w=0;w<_;w++)w<g?y=v[w]=a[w]:(d=y,w%g==0?(d=A[(d=d<<8|d>>>24)>>>24]<<24|A[d>>>16&255]<<16|A[d>>>8&255]<<8|A[255&d],d^=b[w/g|0]<<24):g>6&&w%g==4&&(d=A[d>>>24]<<24|A[d>>>16&255]<<16|A[d>>>8&255]<<8|A[255&d]),v[w]=y=(v[w-g]^d)>>>0);for(T=0;T<_;T++)w=_-T,d=3&T?v[w]:v[w-4],p[T]=T<4||w<=4?d:x[A[d>>>24]]^k[A[d>>>16&255]]^L[A[d>>>8&255]]^S[A[255&d]],p[T]=p[T]>>>0}},f.networkToHostOrderSwap=function(c){return c<<24|(65280&c)<<8|(16711680&c)>>8|c>>>24},f.decrypt=function(c,a,h){for(var m,g,w,T,y,d,_,v,p,A,b,E,x,k,L=this.keySize+6,S=this.invKeySchedule,C=this.invSBox,I=this.invSubMix,D=I[0],P=I[1],F=I[2],U=I[3],M=this.uint8ArrayToUint32Array_(h),V=M[0],H=M[1],z=M[2],j=M[3],Q=new Int32Array(c),ie=new Int32Array(Q.length),ne=this.networkToHostOrderSwap;a<Q.length;){for(p=ne(Q[a]),A=ne(Q[a+1]),b=ne(Q[a+2]),E=ne(Q[a+3]),y=p^S[0],d=E^S[1],_=b^S[2],v=A^S[3],x=4,k=1;k<L;k++)m=D[y>>>24]^P[d>>16&255]^F[_>>8&255]^U[255&v]^S[x],g=D[d>>>24]^P[_>>16&255]^F[v>>8&255]^U[255&y]^S[x+1],w=D[_>>>24]^P[v>>16&255]^F[y>>8&255]^U[255&d]^S[x+2],T=D[v>>>24]^P[y>>16&255]^F[d>>8&255]^U[255&_]^S[x+3],y=m,d=g,_=w,v=T,x+=4;m=C[y>>>24]<<24^C[d>>16&255]<<16^C[_>>8&255]<<8^C[255&v]^S[x],g=C[d>>>24]<<24^C[_>>16&255]<<16^C[v>>8&255]<<8^C[255&y]^S[x+1],w=C[_>>>24]<<24^C[v>>16&255]<<16^C[y>>8&255]<<8^C[255&d]^S[x+2],T=C[v>>>24]<<24^C[y>>16&255]<<16^C[d>>8&255]<<8^C[255&_]^S[x+3],ie[a]=ne(m^V),ie[a+1]=ne(T^H),ie[a+2]=ne(w^z),ie[a+3]=ne(g^j),V=p,H=A,z=b,j=E,a+=4}return ie.buffer},l}()},"./src/crypt/decrypter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return a});var r=n("./src/crypt/aes-crypto.ts"),i=n("./src/crypt/fast-aes-key.ts"),o=n("./src/crypt/aes-decryptor.ts"),l=n("./src/utils/logger.ts"),f=n("./src/utils/mp4-tools.ts"),c=n("./src/utils/typed-array.ts"),a=function(){function h(g,w,T){var y=(T===void 0?{}:T).removePKCS7Padding,d=y===void 0||y;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=g,this.config=w,this.removePKCS7Padding=d,d)try{var _=self.crypto;_&&(this.subtle=_.subtle||_.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var m=h.prototype;return m.destroy=function(){this.observer=null},m.isSync=function(){return this.config.enableSoftwareAES},m.flush=function(){var g=this.currentResult;if(g){var w=new Uint8Array(g);return this.reset(),this.removePKCS7Padding?Object(o.removePadding)(w):w}this.reset()},m.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},m.decrypt=function(g,w,T,y){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(g),w,T);var d=this.flush();d&&y(d.buffer)}else this.webCryptoDecrypt(new Uint8Array(g),w,T).then(y)},m.softwareDecrypt=function(g,w,T){var y=this.currentIV,d=this.currentResult,_=this.remainderData;this.logOnce("JS AES decrypt"),_&&(g=Object(f.appendUint8Array)(_,g),this.remainderData=null);var v=this.getValidChunk(g);if(!v.length)return null;y&&(T=y);var p=this.softwareDecrypter;p||(p=this.softwareDecrypter=new o.default),p.expandKey(w);var A=d;return this.currentResult=p.decrypt(v.buffer,0,T),this.currentIV=Object(c.sliceUint8)(v,-16).buffer,A||null},m.webCryptoDecrypt=function(g,w,T){var y=this,d=this.subtle;return this.key===w&&this.fastAesKey||(this.key=w,this.fastAesKey=new i.default(d,w)),this.fastAesKey.expandKey().then(function(_){return d?new r.default(d,T).decrypt(g.buffer,_):Promise.reject(new Error("web crypto not initialized"))}).catch(function(_){return y.onWebCryptoError(_,g,w,T)})},m.onWebCryptoError=function(g,w,T,y){return l.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",g),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(w,T,y)},m.getValidChunk=function(g){var w=g,T=g.length-g.length%16;return T!==g.length&&(w=Object(c.sliceUint8)(g,0,T),this.remainderData=Object(c.sliceUint8)(g,T)),w},m.logOnce=function(g){this.logEnabled&&(l.logger.log("[decrypter.ts]: "+g),this.logEnabled=!1)},h}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function i(o,l){this.subtle=void 0,this.key=void 0,this.subtle=o,this.key=l}return i.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},i}()},"./src/demux/aacdemuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/adts.ts"),o=n("./src/utils/logger.ts"),l=n("./src/demux/id3.ts");function f(a,h){return(f=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(a,h)}var c=function(a){var h,m;function g(T,y){var d;return(d=a.call(this)||this).observer=void 0,d.config=void 0,d.observer=T,d.config=y,d}m=a,(h=g).prototype=Object.create(m.prototype),h.prototype.constructor=h,f(h,m);var w=g.prototype;return w.resetInitSegment=function(T,y,d){a.prototype.resetInitSegment.call(this,T,y,d),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:T,duration:d,inputTimeScale:9e4,dropped:0}},g.probe=function(T){if(!T)return!1;for(var y=(l.getID3Data(T,0)||[]).length,d=T.length;y<d;y++)if(i.probe(T,y))return o.logger.log("ADTS sync word found !"),!0;return!1},w.canParse=function(T,y){return i.canParse(T,y)},w.appendFrame=function(T,y,d){i.initTrackConfig(T,this.observer,y,d,T.manifestCodec);var _=i.appendFrame(T,y,d,this.initPTS,this.frameIndex);if(_&&_.missing===0)return _},g}(r.default);c.minProbeByteLength=9,t.default=c},"./src/demux/adts.ts":function(e,t,n){n.r(t),n.d(t,"getAudioConfig",function(){return l}),n.d(t,"isHeaderPattern",function(){return f}),n.d(t,"getHeaderLength",function(){return c}),n.d(t,"getFullFrameLength",function(){return a}),n.d(t,"canGetFrameLength",function(){return h}),n.d(t,"isHeader",function(){return m}),n.d(t,"canParse",function(){return g}),n.d(t,"probe",function(){return w}),n.d(t,"initTrackConfig",function(){return T}),n.d(t,"getFrameDuration",function(){return y}),n.d(t,"parseFrameHeader",function(){return d}),n.d(t,"appendFrame",function(){return _});var r=n("./src/utils/logger.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts");function l(v,p,A,b){var E,x,k,L,S=navigator.userAgent.toLowerCase(),C=b,I=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];E=1+((192&p[A+2])>>>6);var D=(60&p[A+2])>>>2;if(!(D>I.length-1))return k=(1&p[A+2])<<2,k|=(192&p[A+3])>>>6,r.logger.log("manifest codec:"+b+", ADTS type:"+E+", samplingIndex:"+D),/firefox/i.test(S)?D>=6?(E=5,L=new Array(4),x=D-3):(E=2,L=new Array(2),x=D):S.indexOf("android")!==-1?(E=2,L=new Array(2),x=D):(E=5,L=new Array(4),b&&(b.indexOf("mp4a.40.29")!==-1||b.indexOf("mp4a.40.5")!==-1)||!b&&D>=6?x=D-3:((b&&b.indexOf("mp4a.40.2")!==-1&&(D>=6&&k===1||/vivaldi/i.test(S))||!b&&k===1)&&(E=2,L=new Array(2)),x=D)),L[0]=E<<3,L[0]|=(14&D)>>1,L[1]|=(1&D)<<7,L[1]|=k<<3,E===5&&(L[1]|=(14&x)>>1,L[2]=(1&x)<<7,L[2]|=8,L[3]=0),{config:L,samplerate:I[D],channelCount:k,codec:"mp4a.40."+E,manifestCodec:C};v.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+D})}function f(v,p){return v[p]===255&&(246&v[p+1])==240}function c(v,p){return 1&v[p+1]?7:9}function a(v,p){return(3&v[p+3])<<11|v[p+4]<<3|(224&v[p+5])>>>5}function h(v,p){return p+5<v.length}function m(v,p){return p+1<v.length&&f(v,p)}function g(v,p){return h(v,p)&&f(v,p)&&a(v,p)<=v.length-p}function w(v,p){if(m(v,p)){var A=c(v,p);if(p+A>=v.length)return!1;var b=a(v,p);if(b<=A)return!1;var E=p+b;return E===v.length||m(v,E)}return!1}function T(v,p,A,b,E){if(!v.samplerate){var x=l(p,A,b,E);if(!x)return;v.config=x.config,v.samplerate=x.samplerate,v.channelCount=x.channelCount,v.codec=x.codec,v.manifestCodec=x.manifestCodec,r.logger.log("parsed codec:"+v.codec+", rate:"+x.samplerate+", channels:"+x.channelCount)}}function y(v){return 9216e4/v}function d(v,p,A,b,E){var x=c(v,p),k=a(v,p);if((k-=x)>0)return{headerLength:x,frameLength:k,stamp:A+b*E}}function _(v,p,A,b,E){var x=d(p,A,b,E,y(v.samplerate));if(x){var k,L=x.frameLength,S=x.headerLength,C=x.stamp,I=S+L,D=Math.max(0,A+I-p.length);D?(k=new Uint8Array(I-S)).set(p.subarray(A+S,p.length),0):k=p.subarray(A+S,A+I);var P={unit:k,pts:C};return D||v.samples.push(P),{sample:P,length:I,missing:D}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){n.r(t),n.d(t,"initPTSFn",function(){return a});var r=n("./src/polyfills/number.ts"),i=n("./src/demux/id3.ts"),o=n("./src/demux/dummy-demuxed-track.ts"),l=n("./src/utils/mp4-tools.ts"),f=n("./src/utils/typed-array.ts"),c=function(){function h(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var m=h.prototype;return m.resetInitSegment=function(g,w,T){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},m.resetTimeStamp=function(){},m.resetContiguity=function(){},m.canParse=function(g,w){return!1},m.appendFrame=function(g,w,T){},m.demux=function(g,w){this.cachedData&&(g=Object(l.appendUint8Array)(this.cachedData,g),this.cachedData=null);var T,y,d=i.getID3Data(g,0),_=d?d.length:0,v=this._audioTrack,p=this._id3Track,A=d?i.getTimeStamp(d):void 0,b=g.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=a(A,w)),d&&d.length>0&&p.samples.push({pts:this.initPTS,dts:this.initPTS,data:d}),y=this.initPTS;_<b;){if(this.canParse(g,_)){var E=this.appendFrame(v,g,_);E?(this.frameIndex++,y=E.sample.pts,T=_+=E.length):_=b}else i.canParse(g,_)?(d=i.getID3Data(g,_),p.samples.push({pts:y,dts:y,data:d}),T=_+=d.length):_++;if(_===b&&T!==b){var x=Object(f.sliceUint8)(g,T);this.cachedData?this.cachedData=Object(l.appendUint8Array)(this.cachedData,x):this.cachedData=x}}return{audioTrack:v,avcTrack:Object(o.dummyTrack)(),id3Track:p,textTrack:Object(o.dummyTrack)()}},m.demuxSampleAes=function(g,w,T){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},m.flush=function(g){var w=this.cachedData;return w&&(this.cachedData=null,this.demux(w,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(o.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(o.dummyTrack)()}},m.destroy=function(){},h}(),a=function(h,m){return Object(r.isFiniteNumber)(h)?90*h:9e4*m};t.default=c},"./src/demux/chunk-cache.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function i(){this.chunks=[],this.dataLength=0}var o=i.prototype;return o.push=function(l){this.chunks.push(l),this.dataLength+=l.length},o.flush=function(){var l,f=this.chunks,c=this.dataLength;return f.length?(l=f.length===1?f[0]:function(a,h){for(var m=new Uint8Array(h),g=0,w=0;w<a.length;w++){var T=a[w];m.set(T,g),g+=T.length}return m}(f,c),this.reset(),l):new Uint8Array(0)},o.reset=function(){this.chunks.length=0,this.dataLength=0},i}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){function r(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",function(){return r})},"./src/demux/exp-golomb.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=function(){function o(f){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=f,this.bytesAvailable=f.byteLength,this.word=0,this.bitsAvailable=0}var l=o.prototype;return l.loadWord=function(){var f=this.data,c=this.bytesAvailable,a=f.byteLength-c,h=new Uint8Array(4),m=Math.min(4,c);if(m===0)throw new Error("no bytes available");h.set(f.subarray(a,a+m)),this.word=new DataView(h.buffer).getUint32(0),this.bitsAvailable=8*m,this.bytesAvailable-=m},l.skipBits=function(f){var c;this.bitsAvailable>f?(this.word<<=f,this.bitsAvailable-=f):(f-=this.bitsAvailable,f-=(c=f>>3)>>3,this.bytesAvailable-=c,this.loadWord(),this.word<<=f,this.bitsAvailable-=f)},l.readBits=function(f){var c=Math.min(this.bitsAvailable,f),a=this.word>>>32-c;return f>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=c,this.bitsAvailable>0?this.word<<=c:this.bytesAvailable>0&&this.loadWord(),(c=f-c)>0&&this.bitsAvailable?a<<c|this.readBits(c):a},l.skipLZ=function(){var f;for(f=0;f<this.bitsAvailable;++f)if((this.word&2147483648>>>f)!=0)return this.word<<=f,this.bitsAvailable-=f,f;return this.loadWord(),f+this.skipLZ()},l.skipUEG=function(){this.skipBits(1+this.skipLZ())},l.skipEG=function(){this.skipBits(1+this.skipLZ())},l.readUEG=function(){var f=this.skipLZ();return this.readBits(f+1)-1},l.readEG=function(){var f=this.readUEG();return 1&f?1+f>>>1:-1*(f>>>1)},l.readBoolean=function(){return this.readBits(1)===1},l.readUByte=function(){return this.readBits(8)},l.readUShort=function(){return this.readBits(16)},l.readUInt=function(){return this.readBits(32)},l.skipScalingList=function(f){for(var c=8,a=8,h=0;h<f;h++)a!==0&&(a=(c+this.readEG()+256)%256),c=a===0?c:a},l.readSPS=function(){var f,c,a,h=0,m=0,g=0,w=0,T=this.readUByte.bind(this),y=this.readBits.bind(this),d=this.readUEG.bind(this),_=this.readBoolean.bind(this),v=this.skipBits.bind(this),p=this.skipEG.bind(this),A=this.skipUEG.bind(this),b=this.skipScalingList.bind(this);T();var E=T();if(y(5),v(3),T(),A(),E===100||E===110||E===122||E===244||E===44||E===83||E===86||E===118||E===128){var x=d();if(x===3&&v(1),A(),A(),v(1),_())for(c=x!==3?8:12,a=0;a<c;a++)_()&&b(a<6?16:64)}A();var k=d();if(k===0)d();else if(k===1)for(v(1),p(),p(),f=d(),a=0;a<f;a++)p();A(),v(1);var L=d(),S=d(),C=y(1);C===0&&v(1),v(1),_()&&(h=d(),m=d(),g=d(),w=d());var I=[1,1];if(_()&&_())switch(T()){case 1:I=[1,1];break;case 2:I=[12,11];break;case 3:I=[10,11];break;case 4:I=[16,11];break;case 5:I=[40,33];break;case 6:I=[24,11];break;case 7:I=[20,11];break;case 8:I=[32,11];break;case 9:I=[80,33];break;case 10:I=[18,11];break;case 11:I=[15,11];break;case 12:I=[64,33];break;case 13:I=[160,99];break;case 14:I=[4,3];break;case 15:I=[3,2];break;case 16:I=[2,1];break;case 255:I=[T()<<8|T(),T()<<8|T()]}return{width:Math.ceil(16*(L+1)-2*h-2*m),height:(2-C)*(S+1)*16-(C?2:4)*(g+w),pixelRatio:I}},l.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},o}();t.default=i},"./src/demux/id3.ts":function(e,t,n){n.r(t),n.d(t,"isHeader",function(){return i}),n.d(t,"isFooter",function(){return o}),n.d(t,"getID3Data",function(){return l}),n.d(t,"canParse",function(){return c}),n.d(t,"getTimeStamp",function(){return a}),n.d(t,"isTimeStampFrame",function(){return h}),n.d(t,"getID3Frames",function(){return g}),n.d(t,"decodeFrame",function(){return w}),n.d(t,"utf8ArrayToStr",function(){return v}),n.d(t,"testables",function(){return p});var r,i=function(A,b){return b+10<=A.length&&A[b]===73&&A[b+1]===68&&A[b+2]===51&&A[b+3]<255&&A[b+4]<255&&A[b+6]<128&&A[b+7]<128&&A[b+8]<128&&A[b+9]<128},o=function(A,b){return b+10<=A.length&&A[b]===51&&A[b+1]===68&&A[b+2]===73&&A[b+3]<255&&A[b+4]<255&&A[b+6]<128&&A[b+7]<128&&A[b+8]<128&&A[b+9]<128},l=function(A,b){for(var E=b,x=0;i(A,b);)x+=10,x+=f(A,b+6),o(A,b+10)&&(x+=10),b+=x;if(x>0)return A.subarray(E,E+x)},f=function(A,b){var E=0;return E=(127&A[b])<<21,E|=(127&A[b+1])<<14,E|=(127&A[b+2])<<7,E|=127&A[b+3]},c=function(A,b){return i(A,b)&&f(A,b+6)+10<=A.length-b},a=function(A){for(var b=g(A),E=0;E<b.length;E++){var x=b[E];if(h(x))return _(x)}},h=function(A){return A&&A.key==="PRIV"&&A.info==="com.apple.streaming.transportStreamTimestamp"},m=function(A){var b=String.fromCharCode(A[0],A[1],A[2],A[3]),E=f(A,4);return{type:b,size:E,data:A.subarray(10,10+E)}},g=function(A){for(var b=0,E=[];i(A,b);){for(var x=f(A,b+6),k=(b+=10)+x;b+8<k;){var L=m(A.subarray(b)),S=w(L);S&&E.push(S),b+=L.size+10}o(A,b)&&(b+=10)}return E},w=function(A){return A.type==="PRIV"?T(A):A.type[0]==="W"?d(A):y(A)},T=function(A){if(!(A.size<2)){var b=v(A.data,!0),E=new Uint8Array(A.data.subarray(b.length+1));return{key:A.type,info:b,data:E.buffer}}},y=function(A){if(!(A.size<2)){if(A.type==="TXXX"){var b=1,E=v(A.data.subarray(b),!0);b+=E.length+1;var x=v(A.data.subarray(b));return{key:A.type,info:E,data:x}}var k=v(A.data.subarray(1));return{key:A.type,data:k}}},d=function(A){if(A.type==="WXXX"){if(A.size<2)return;var b=1,E=v(A.data.subarray(b),!0);b+=E.length+1;var x=v(A.data.subarray(b));return{key:A.type,info:E,data:x}}var k=v(A.data);return{key:A.type,data:k}},_=function(A){if(A.data.byteLength===8){var b=new Uint8Array(A.data),E=1&b[3],x=(b[4]<<23)+(b[5]<<15)+(b[6]<<7)+b[7];return x/=45,E&&(x+=4772185884e-2),Math.round(x)}},v=function(A,b){b===void 0&&(b=!1);var E=(r||self.TextDecoder===void 0||(r=new self.TextDecoder("utf-8")),r);if(E){var x=E.decode(A);if(b){var k=x.indexOf("\0");return k!==-1?x.substring(0,k):x}return x.replace(/\0/g,"")}for(var L,S,C,I=A.length,D="",P=0;P<I;){if((L=A[P++])===0&&b)return D;if(L!==0&&L!==3)switch(L>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:D+=String.fromCharCode(L);break;case 12:case 13:S=A[P++],D+=String.fromCharCode((31&L)<<6|63&S);break;case 14:S=A[P++],C=A[P++],D+=String.fromCharCode((15&L)<<12|(63&S)<<6|(63&C)<<0)}}return D},p={decodeTextFrame:y}},"./src/demux/mp3demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/id3.ts"),o=n("./src/utils/logger.ts"),l=n("./src/demux/mpegaudio.ts");function f(a,h){return(f=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(a,h)}var c=function(a){var h,m;function g(){return a.apply(this,arguments)||this}m=a,(h=g).prototype=Object.create(m.prototype),h.prototype.constructor=h,f(h,m);var w=g.prototype;return w.resetInitSegment=function(T,y,d){a.prototype.resetInitSegment.call(this,T,y,d),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:T,duration:d,inputTimeScale:9e4,dropped:0}},g.probe=function(T){if(!T)return!1;for(var y=(i.getID3Data(T,0)||[]).length,d=T.length;y<d;y++)if(l.probe(T,y))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},w.canParse=function(T,y){return l.canParse(T,y)},w.appendFrame=function(T,y,d){if(this.initPTS!==null)return l.appendFrame(T,y,d,this.initPTS,this.frameIndex)},g}(r.default);c.minProbeByteLength=4,t.default=c},"./src/demux/mp4demuxer.ts":function(e,t,n){n.r(t);var r=n("./src/utils/mp4-tools.ts"),i=n("./src/demux/dummy-demuxed-track.ts"),o=function(){function l(c,a){this.remainderData=null,this.config=void 0,this.config=a}var f=l.prototype;return f.resetTimeStamp=function(){},f.resetInitSegment=function(){},f.resetContiguity=function(){},l.probe=function(c){return Object(r.findBox)({data:c,start:0,end:Math.min(c.length,16384)},["moof"]).length>0},f.demux=function(c){var a=c,h=Object(i.dummyTrack)();if(this.config.progressive){this.remainderData&&(a=Object(r.appendUint8Array)(this.remainderData,c));var m=Object(r.segmentValidRange)(a);this.remainderData=m.remainder,h.samples=m.valid||new Uint8Array}else h.samples=a;return{audioTrack:Object(i.dummyTrack)(),avcTrack:h,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},f.flush=function(){var c=Object(i.dummyTrack)();return c.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(i.dummyTrack)(),avcTrack:c,id3Track:Object(i.dummyTrack)(),textTrack:Object(i.dummyTrack)()}},f.demuxSampleAes=function(c,a,h){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},f.destroy=function(){},l}();o.minProbeByteLength=1024,t.default=o},"./src/demux/mpegaudio.ts":function(e,t,n){n.r(t),n.d(t,"appendFrame",function(){return c}),n.d(t,"parseHeader",function(){return a}),n.d(t,"isHeaderPattern",function(){return h}),n.d(t,"isHeader",function(){return m}),n.d(t,"canParse",function(){return g}),n.d(t,"probe",function(){return w});var r=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],l=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],f=[0,1,1,4];function c(T,y,d,_,v){if(!(d+24>y.length)){var p=a(y,d);if(p&&d+p.frameLength<=y.length){var A=_+v*(9e4*p.samplesPerFrame/p.sampleRate),b={unit:y.subarray(d,d+p.frameLength),pts:A,dts:A};return T.config=[],T.channelCount=p.channelCount,T.samplerate=p.sampleRate,T.samples.push(b),{sample:b,length:p.frameLength,missing:0}}}}function a(T,y){var d=T[y+1]>>3&3,_=T[y+1]>>1&3,v=T[y+2]>>4&15,p=T[y+2]>>2&3;if(d!==1&&v!==0&&v!==15&&p!==3){var A=T[y+2]>>1&1,b=T[y+3]>>6,E=1e3*i[14*(d===3?3-_:_===3?3:4)+v-1],x=o[3*(d===3?0:d===2?1:2)+p],k=b===3?1:2,L=l[d][_],S=f[_],C=8*L*S,I=Math.floor(L*E/x+A)*S;if(r===null){var D=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=D?parseInt(D[1]):0}return!!r&&r<=87&&_===2&&E>=224e3&&b===0&&(T[y+3]=128|T[y+3]),{sampleRate:x,channelCount:k,frameLength:I,samplesPerFrame:C}}}function h(T,y){return T[y]===255&&(224&T[y+1])==224&&(6&T[y+1])!=0}function m(T,y){return y+1<T.length&&h(T,y)}function g(T,y){return h(T,y)&&4<=T.length-y}function w(T,y){if(y+1<T.length&&h(T,y)){var d=a(T,y),_=4;d!=null&&d.frameLength&&(_=d.frameLength);var v=y+_;return v===T.length||m(T,v)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){n.r(t);var r=n("./src/crypt/decrypter.ts"),i=n("./src/demux/tsdemuxer.ts"),o=function(){function l(c,a,h){this.keyData=void 0,this.decrypter=void 0,this.keyData=h,this.decrypter=new r.default(c,a,{removePKCS7Padding:!1})}var f=l.prototype;return f.decryptBuffer=function(c,a){this.decrypter.decrypt(c,this.keyData.key.buffer,this.keyData.iv.buffer,a)},f.decryptAacSample=function(c,a,h,m){var g=c[a].unit,w=g.subarray(16,g.length-g.length%16),T=w.buffer.slice(w.byteOffset,w.byteOffset+w.length),y=this;this.decryptBuffer(T,function(d){var _=new Uint8Array(d);g.set(_,16),m||y.decryptAacSamples(c,a+1,h)})},f.decryptAacSamples=function(c,a,h){for(;;a++){if(a>=c.length)return void h();if(!(c[a].unit.length<32)){var m=this.decrypter.isSync();if(this.decryptAacSample(c,a,h,m),!m)return}}},f.getAvcEncryptedData=function(c){for(var a=16*Math.floor((c.length-48)/160)+16,h=new Int8Array(a),m=0,g=32;g<=c.length-16;g+=160,m+=16)h.set(c.subarray(g,g+16),m);return h},f.getAvcDecryptedUnit=function(c,a){for(var h=new Uint8Array(a),m=0,g=32;g<=c.length-16;g+=160,m+=16)c.set(h.subarray(m,m+16),g);return c},f.decryptAvcSample=function(c,a,h,m,g,w){var T=Object(i.discardEPB)(g.data),y=this.getAvcEncryptedData(T),d=this;this.decryptBuffer(y.buffer,function(_){g.data=d.getAvcDecryptedUnit(T,_),w||d.decryptAvcSamples(c,a,h+1,m)})},f.decryptAvcSamples=function(c,a,h,m){if(c instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;a++,h=0){if(a>=c.length)return void m();for(var g=c[a].units;!(h>=g.length);h++){var w=g[h];if(!(w.data.length<=48||w.type!==1&&w.type!==5)){var T=this.decrypter.isSync();if(this.decryptAvcSample(c,a,h,m,w,T),!T)return}}}},l}();t.default=o},"./src/demux/transmuxer-interface.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return m});var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.ts"),o=n("./src/demux/transmuxer.ts"),l=n("./src/utils/logger.ts"),f=n("./src/errors.ts"),c=n("./src/utils/mediasource-helper.ts"),a=n("./node_modules/eventemitter3/index.js"),h=Object(c.getMediaSource)()||{isTypeSupported:function(){return!1}},m=function(){function g(T,y,d,_){var v=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=T,this.id=y,this.onTransmuxComplete=d,this.onFlush=_;var p=T.config,A=function(k,L){(L=L||{}).frag=v.frag,L.id=v.id,T.trigger(k,L)};this.observer=new a.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,A),this.observer.on(i.Events.ERROR,A);var b={mp4:h.isTypeSupported("video/mp4"),mpeg:h.isTypeSupported("audio/mpeg"),mp3:h.isTypeSupported('audio/mp4; codecs="mp3"')},E=navigator.vendor;if(p.enableWorker&&typeof Worker<"u"){var x;l.logger.log("demuxing in webworker");try{x=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),x.addEventListener("message",this.onwmsg),x.onerror=function(k){T.trigger(i.Events.ERROR,{type:f.ErrorTypes.OTHER_ERROR,details:f.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(k.message+"  ("+k.filename+":"+k.lineno+")")})},x.postMessage({cmd:"init",typeSupported:b,vendor:E,id:y,config:JSON.stringify(p)})}catch(k){l.logger.warn("Error in worker:",k),l.logger.error("Error while initializing DemuxerWorker, fallback to inline"),x&&self.URL.revokeObjectURL(x.objectURL),this.transmuxer=new o.default(this.observer,b,p,E,y),this.worker=null}}else this.transmuxer=new o.default(this.observer,b,p,E,y)}var w=g.prototype;return w.destroy=function(){var T=this.worker;if(T)T.removeEventListener("message",this.onwmsg),T.terminate(),this.worker=null;else{var y=this.transmuxer;y&&(y.destroy(),this.transmuxer=null)}var d=this.observer;d&&d.removeAllListeners(),this.observer=null},w.push=function(T,y,d,_,v,p,A,b,E,x){var k=this;E.transmuxing.start=self.performance.now();var L=this.transmuxer,S=this.worker,C=p?p.start:v.start,I=v.decryptdata,D=this.frag,P=!(D&&v.cc===D.cc),F=!(D&&E.level===D.level),U=D?E.sn-D.sn:-1,M=this.part?E.part-this.part.index:1,V=!F&&(U===1||U===0&&M===1),H=self.performance.now();(F||U||v.stats.parsing.start===0)&&(v.stats.parsing.start=H),!p||!M&&V||(p.stats.parsing.start=H);var z=new o.TransmuxState(P,V,b,F,C);if(!V||P){l.logger.log("[transmuxer-interface, "+v.type+"]: Starting new transmux session for sn: "+E.sn+" p: "+E.part+" level: "+E.level+" id: "+E.id+`
        discontinuity: `+P+`
        trackSwitch: `+F+`
        contiguous: `+V+`
        accurateTimeOffset: `+b+`
        timeOffset: `+C);var j=new o.TransmuxConfig(d,_,y,A,x);this.configureTransmuxer(j)}if(this.frag=v,this.part=p,S)S.postMessage({cmd:"demux",data:T,decryptdata:I,chunkMeta:E,state:z},T instanceof ArrayBuffer?[T]:[]);else if(L){var Q=L.push(T,I,E,z);Object(o.isPromise)(Q)?Q.then(function(ie){k.handleTransmuxComplete(ie)}):this.handleTransmuxComplete(Q)}},w.flush=function(T){var y=this;T.transmuxing.start=self.performance.now();var d=this.transmuxer,_=this.worker;if(_)_.postMessage({cmd:"flush",chunkMeta:T});else if(d){var v=d.flush(T);Object(o.isPromise)(v)?v.then(function(p){y.handleFlushResult(p,T)}):this.handleFlushResult(v,T)}},w.handleFlushResult=function(T,y){var d=this;T.forEach(function(_){d.handleTransmuxComplete(_)}),this.onFlush(y)},w.onWorkerMessage=function(T){var y=T.data,d=this.hls;switch(y.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(y.data);break;case"flush":this.onFlush(y.data);break;default:y.data=y.data||{},y.data.frag=this.frag,y.data.id=this.id,d.trigger(y.event,y.data)}},w.configureTransmuxer=function(T){var y=this.worker,d=this.transmuxer;y?y.postMessage({cmd:"configure",config:T}):d&&d.configure(T)},w.handleTransmuxComplete=function(T){T.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(T)},g}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return f});var r=n("./src/demux/transmuxer.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),l=n("./node_modules/eventemitter3/index.js");function f(m){var g=new l.EventEmitter,w=function(T,y){m.postMessage({event:T,data:y})};g.on(i.Events.FRAG_DECRYPTED,w),g.on(i.Events.ERROR,w),m.addEventListener("message",function(T){var y=T.data;switch(y.cmd){case"init":var d=JSON.parse(y.config);m.transmuxer=new r.default(g,y.typeSupported,d,y.vendor,y.id),Object(o.enableLogs)(d.debug),w("init",null);break;case"configure":m.transmuxer.configure(y.config);break;case"demux":var _=m.transmuxer.push(y.data,y.decryptdata,y.chunkMeta,y.state);Object(r.isPromise)(_)?_.then(function(A){c(m,A)}):c(m,_);break;case"flush":var v=y.chunkMeta,p=m.transmuxer.flush(v);Object(r.isPromise)(p)?p.then(function(A){h(m,A,v)}):h(m,p,v)}})}function c(m,g){if((w=g.remuxResult).audio||w.video||w.text||w.id3||w.initSegment){var w,T=[],y=g.remuxResult,d=y.audio,_=y.video;d&&a(T,d),_&&a(T,_),m.postMessage({event:"transmuxComplete",data:g},T)}}function a(m,g){g.data1&&m.push(g.data1.buffer),g.data2&&m.push(g.data2.buffer)}function h(m,g,w){g.forEach(function(T){c(m,T)}),m.postMessage({event:"flush",data:w})}},"./src/demux/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return v}),n.d(t,"isPromise",function(){return A}),n.d(t,"TransmuxConfig",function(){return b}),n.d(t,"TransmuxState",function(){return E});var r,i=n("./src/events.ts"),o=n("./src/errors.ts"),l=n("./src/crypt/decrypter.ts"),f=n("./src/demux/aacdemuxer.ts"),c=n("./src/demux/mp4demuxer.ts"),a=n("./src/demux/tsdemuxer.ts"),h=n("./src/demux/mp3demuxer.ts"),m=n("./src/remux/mp4-remuxer.ts"),g=n("./src/remux/passthrough-remuxer.ts"),w=n("./src/demux/chunk-cache.ts"),T=n("./src/utils/mp4-tools.ts"),y=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch{y.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var d=[{demux:a.default,remux:m.default},{demux:c.default,remux:g.default},{demux:f.default,remux:m.default},{demux:h.default,remux:m.default}],_=1024;d.forEach(function(x){var k=x.demux;_=Math.max(_,k.minProbeByteLength)});var v=function(){function x(L,S,C,I,D){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new w.default,this.observer=L,this.typeSupported=S,this.config=C,this.vendor=I,this.id=D}var k=x.prototype;return k.configure=function(L){this.transmuxConfig=L,this.decrypter&&this.decrypter.reset()},k.push=function(L,S,C,I){var D=this,P=C.transmuxing;P.executeStart=r();var F=new Uint8Array(L),U=this.cache,M=this.config,V=this.currentTransmuxState,H=this.transmuxConfig;I&&(this.currentTransmuxState=I);var z=function(_e,xe){var Te=null;return _e.byteLength>0&&xe!=null&&xe.key!=null&&xe.iv!==null&&xe.method!=null&&(Te=xe),Te}(F,S);if(z&&z.method==="AES-128"){var j=this.getDecrypter();if(!M.enableSoftwareAES)return this.decryptionPromise=j.webCryptoDecrypt(F,z.key.buffer,z.iv.buffer).then(function(_e){var xe=D.push(_e,null,C);return D.decryptionPromise=null,xe}),this.decryptionPromise;var Q=j.softwareDecrypt(F,z.key.buffer,z.iv.buffer);if(!Q)return P.executeEnd=r(),p(C);F=new Uint8Array(Q)}var ie=I||V,ne=ie.contiguous,X=ie.discontinuity,J=ie.trackSwitch,se=ie.accurateTimeOffset,ce=ie.timeOffset,me=H.audioCodec,Fe=H.videoCodec,Oe=H.defaultInitPts,Y=H.duration,ee=H.initSegmentData;if((X||J)&&this.resetInitSegment(ee,me,Fe,Y),X&&this.resetInitialTimestamp(Oe),ne||this.resetContiguity(),this.needsProbing(F,X,J)){if(U.dataLength){var ae=U.flush();F=Object(T.appendUint8Array)(ae,F)}this.configureTransmuxer(F,H)}var fe=this.transmux(F,z,ce,se,C),ge=this.currentTransmuxState;return ge.contiguous=!0,ge.discontinuity=!1,ge.trackSwitch=!1,P.executeEnd=r(),fe},k.flush=function(L){var S=this,C=L.transmuxing;C.executeStart=r();var I=this.decrypter,D=this.cache,P=this.currentTransmuxState,F=this.decryptionPromise;if(F)return F.then(function(){return S.flush(L)});var U=[],M=P.timeOffset;if(I){var V=I.flush();V&&U.push(this.push(V,null,L))}var H=D.dataLength;D.reset();var z=this.demuxer,j=this.remuxer;if(!z||!j)return H>=_&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),C.executeEnd=r(),[p(L)];var Q=z.flush(M);return A(Q)?Q.then(function(ie){return S.flushRemux(U,ie,L),U}):(this.flushRemux(U,Q,L),U)},k.flushRemux=function(L,S,C){var I=S.audioTrack,D=S.avcTrack,P=S.id3Track,F=S.textTrack,U=this.currentTransmuxState,M=U.accurateTimeOffset,V=U.timeOffset;y.logger.log("[transmuxer.ts]: Flushed fragment "+C.sn+(C.part>-1?" p: "+C.part:"")+" of level "+C.level);var H=this.remuxer.remux(I,D,P,F,V,M,!0,this.id);L.push({remuxResult:H,chunkMeta:C}),C.transmuxing.executeEnd=r()},k.resetInitialTimestamp=function(L){var S=this.demuxer,C=this.remuxer;S&&C&&(S.resetTimeStamp(L),C.resetTimeStamp(L))},k.resetContiguity=function(){var L=this.demuxer,S=this.remuxer;L&&S&&(L.resetContiguity(),S.resetNextTimestamp())},k.resetInitSegment=function(L,S,C,I){var D=this.demuxer,P=this.remuxer;D&&P&&(D.resetInitSegment(S,C,I),P.resetInitSegment(L,S,C))},k.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},k.transmux=function(L,S,C,I,D){return S&&S.method==="SAMPLE-AES"?this.transmuxSampleAes(L,S,C,I,D):this.transmuxUnencrypted(L,C,I,D)},k.transmuxUnencrypted=function(L,S,C,I){var D=this.demuxer.demux(L,S,!1,!this.config.progressive),P=D.audioTrack,F=D.avcTrack,U=D.id3Track,M=D.textTrack;return{remuxResult:this.remuxer.remux(P,F,U,M,S,C,!1,this.id),chunkMeta:I}},k.transmuxSampleAes=function(L,S,C,I,D){var P=this;return this.demuxer.demuxSampleAes(L,S,C).then(function(F){return{remuxResult:P.remuxer.remux(F.audioTrack,F.avcTrack,F.id3Track,F.textTrack,C,I,!1,P.id),chunkMeta:D}})},k.configureTransmuxer=function(L,S){for(var C,I=this.config,D=this.observer,P=this.typeSupported,F=this.vendor,U=S.audioCodec,M=S.defaultInitPts,V=S.duration,H=S.initSegmentData,z=S.videoCodec,j=0,Q=d.length;j<Q;j++)if(d[j].demux.probe(L)){C=d[j];break}C||(y.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),C={demux:c.default,remux:g.default});var ie=this.demuxer,ne=this.remuxer,X=C.remux,J=C.demux;ne&&ne instanceof X||(this.remuxer=new X(D,I,P,F)),ie&&ie instanceof J||(this.demuxer=new J(D,I,P),this.probe=J.probe),this.resetInitSegment(H,U,z,V),this.resetInitialTimestamp(M)},k.needsProbing=function(L,S,C){return!this.demuxer||!this.remuxer||S||C},k.getDecrypter=function(){var L=this.decrypter;return L||(L=this.decrypter=new l.default(this.observer,this.config)),L},x}(),p=function(x){return{remuxResult:{},chunkMeta:x}};function A(x){return"then"in x&&x.then instanceof Function}var b=function(x,k,L,S,C){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=x,this.videoCodec=k,this.initSegmentData=L,this.duration=S,this.defaultInitPts=C},E=function(x,k,L,S,C){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=x,this.contiguous=k,this.accurateTimeOffset=L,this.trackSwitch=S,this.timeOffset=C}},"./src/demux/tsdemuxer.ts":function(e,t,n){n.r(t),n.d(t,"discardEPB",function(){return A});var r=n("./src/demux/adts.ts"),i=n("./src/demux/mpegaudio.ts"),o=n("./src/demux/exp-golomb.ts"),l=n("./src/demux/id3.ts"),f=n("./src/demux/sample-aes.ts"),c=n("./src/events.ts"),a=n("./src/utils/mp4-tools.ts"),h=n("./src/utils/logger.ts"),m=n("./src/errors.ts"),g={video:1,audio:2,id3:3,text:4},w=function(){function b(x,k,L){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=x,this.config=k,this.typeSupported=L}b.probe=function(x){var k=b.syncOffset(x);return!(k<0||(k&&h.logger.warn("MPEG2-TS detected but first sync word found @ offset "+k+", junk ahead ?"),0))},b.syncOffset=function(x){for(var k=Math.min(1e3,x.length-564),L=0;L<k;){if(x[L]===71&&x[L+188]===71&&x[L+376]===71)return L;L++}return-1},b.createTrack=function(x,k){return{container:x==="video"||x==="audio"?"video/mp2t":void 0,type:x,id:g[x],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:x==="audio"?k:void 0}};var E=b.prototype;return E.resetInitSegment=function(x,k,L){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=b.createTrack("video",L),this._audioTrack=b.createTrack("audio",L),this._id3Track=b.createTrack("id3",L),this._txtTrack=b.createTrack("text",L),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=x,this.videoCodec=k,this._duration=L},E.resetTimeStamp=function(){},E.resetContiguity=function(){var x=this._audioTrack,k=this._avcTrack,L=this._id3Track;x&&(x.pesData=null),k&&(k.pesData=null),L&&(L.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},E.demux=function(x,k,L,S){var C;L===void 0&&(L=!1),S===void 0&&(S=!1),L||(this.sampleAes=null);var I=this._avcTrack,D=this._audioTrack,P=this._id3Track,F=I.pid,U=I.pesData,M=D.pid,V=P.pid,H=D.pesData,z=P.pesData,j=!1,Q=this.pmtParsed,ie=this._pmtId,ne=x.length;if(this.remainderData&&(ne=(x=Object(a.appendUint8Array)(this.remainderData,x)).length,this.remainderData=null),ne<188&&!S)return this.remainderData=x,{audioTrack:D,avcTrack:I,id3Track:P,textTrack:this._txtTrack};var X=Math.max(0,b.syncOffset(x));(ne-=(ne+X)%188)<x.byteLength&&!S&&(this.remainderData=new Uint8Array(x.buffer,ne,x.buffer.byteLength-ne));for(var J=X;J<ne;J+=188)if(x[J]===71){var se=!!(64&x[J+1]),ce=((31&x[J+1])<<8)+x[J+2],me=void 0;if((48&x[J+3])>>4>1){if((me=J+5+x[J+4])===J+188)continue}else me=J+4;switch(ce){case F:se&&(U&&(C=_(U))&&this.parseAVCPES(C,!1),U={data:[],size:0}),U&&(U.data.push(x.subarray(me,J+188)),U.size+=J+188-me);break;case M:se&&(H&&(C=_(H))&&(D.isAAC?this.parseAACPES(C):this.parseMPEGPES(C)),H={data:[],size:0}),H&&(H.data.push(x.subarray(me,J+188)),H.size+=J+188-me);break;case V:se&&(z&&(C=_(z))&&this.parseID3PES(C),z={data:[],size:0}),z&&(z.data.push(x.subarray(me,J+188)),z.size+=J+188-me);break;case 0:se&&(me+=x[me]+1),ie=this._pmtId=y(x,me);break;case ie:se&&(me+=x[me]+1);var Fe=d(x,me,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,L);(F=Fe.avc)>0&&(I.pid=F),(M=Fe.audio)>0&&(D.pid=M,D.isAAC=Fe.isAAC),(V=Fe.id3)>0&&(P.pid=V),j&&!Q&&(h.logger.log("reparse from beginning"),j=!1,J=X-188),Q=this.pmtParsed=!0;break;case 17:case 8191:break;default:j=!0}}else this.observer.emit(c.Events.ERROR,c.Events.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});I.pesData=U,D.pesData=H,P.pesData=z;var Oe={audioTrack:D,avcTrack:I,id3Track:P,textTrack:this._txtTrack};return S&&this.extractRemainingSamples(Oe),Oe},E.flush=function(){var x,k=this.remainderData;return this.remainderData=null,x=k?this.demux(k,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(x),this.sampleAes?this.decrypt(x,this.sampleAes):x},E.extractRemainingSamples=function(x){var k,L=x.audioTrack,S=x.avcTrack,C=x.id3Track,I=S.pesData,D=L.pesData,P=C.pesData;I&&(k=_(I))?(this.parseAVCPES(k,!0),S.pesData=null):S.pesData=I,D&&(k=_(D))?(L.isAAC?this.parseAACPES(k):this.parseMPEGPES(k),L.pesData=null):(D!=null&&D.size&&h.logger.log("last AAC PES packet truncated,might overlap between fragments"),L.pesData=D),P&&(k=_(P))?(this.parseID3PES(k),C.pesData=null):C.pesData=P},E.demuxSampleAes=function(x,k,L){var S=this.demux(x,L,!0,!this.config.progressive),C=this.sampleAes=new f.default(this.observer,this.config,k);return this.decrypt(S,C)},E.decrypt=function(x,k){return new Promise(function(L){var S=x.audioTrack,C=x.avcTrack;S.samples&&S.isAAC?k.decryptAacSamples(S.samples,0,function(){C.samples?k.decryptAvcSamples(C.samples,0,0,function(){L(x)}):L(x)}):C.samples&&k.decryptAvcSamples(C.samples,0,0,function(){L(x)})})},E.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},E.parseAVCPES=function(x,k){var L,S=this,C=this._avcTrack,I=this.parseAVCNALu(x.data),D=this.avcSample,P=!1;x.data=null,D&&I.length&&!C.audFound&&(v(D,C),D=this.avcSample=T(!1,x.pts,x.dts,"")),I.forEach(function(F){switch(F.type){case 1:L=!0,D||(D=S.avcSample=T(!0,x.pts,x.dts,"")),D.frame=!0;var U=F.data;if(P&&U.length>4){var M=new o.default(U).readSliceType();M!==2&&M!==4&&M!==7&&M!==9||(D.key=!0)}break;case 5:L=!0,D||(D=S.avcSample=T(!0,x.pts,x.dts,"")),D.key=!0,D.frame=!0;break;case 6:L=!0;var V=new o.default(A(F.data));V.readUByte();for(var H=0,z=0,j=!1,Q=0;!j&&V.bytesAvailable>1;){H=0;do H+=Q=V.readUByte();while(Q===255);z=0;do z+=Q=V.readUByte();while(Q===255);if(H===4&&V.bytesAvailable!==0){if(j=!0,V.readUByte()===181&&V.readUShort()===49&&V.readUInt()===1195456820&&V.readUByte()===3){for(var ie=V.readUByte(),ne=31&ie,X=[ie,V.readUByte()],J=0;J<ne;J++)X.push(V.readUByte()),X.push(V.readUByte()),X.push(V.readUByte());p(S._txtTrack.samples,{type:3,pts:x.pts,bytes:X})}}else if(H===5&&V.bytesAvailable!==0){if(j=!0,z>16){for(var se=[],ce=0;ce<16;ce++)se.push(V.readUByte().toString(16)),ce!==3&&ce!==5&&ce!==7&&ce!==9||se.push("-");for(var me=z-16,Fe=new Uint8Array(me),Oe=0;Oe<me;Oe++)Fe[Oe]=V.readUByte();p(S._txtTrack.samples,{pts:x.pts,payloadType:H,uuid:se.join(""),userData:Object(l.utf8ArrayToStr)(Fe),userDataBytes:Fe})}}else if(z<V.bytesAvailable)for(var Y=0;Y<z;Y++)V.readUByte()}break;case 7:if(L=!0,P=!0,!C.sps){var ee=new o.default(F.data).readSPS();C.width=ee.width,C.height=ee.height,C.pixelRatio=ee.pixelRatio,C.sps=[F.data],C.duration=S._duration;for(var ae=F.data.subarray(1,4),fe="avc1.",ge=0;ge<3;ge++){var _e=ae[ge].toString(16);_e.length<2&&(_e="0"+_e),fe+=_e}C.codec=fe}break;case 8:L=!0,C.pps||(C.pps=[F.data]);break;case 9:L=!1,C.audFound=!0,D&&v(D,C),D=S.avcSample=T(!1,x.pts,x.dts,"");break;case 12:L=!1;break;default:L=!1,D&&(D.debug+="unknown NAL "+F.type+" ")}D&&L&&D.units.push(F)}),k&&D&&(v(D,C),this.avcSample=null)},E.getLastNalUnit=function(){var x,k,L=this.avcSample;if(!L||L.units.length===0){var S=this._avcTrack.samples;L=S[S.length-1]}if((x=L)!==null&&x!==void 0&&x.units){var C=L.units;k=C[C.length-1]}return k},E.parseAVCNALu=function(x){var k,L,S=x.byteLength,C=this._avcTrack,I=C.naluState||0,D=I,P=[],F=0,U=-1,M=0;for(I===-1&&(U=0,M=31&x[0],I=0,F=1);F<S;)if(k=x[F++],I)if(I!==1)if(k)if(k===1){if(U>=0){var V={data:x.subarray(U,F-I-1),type:M};P.push(V)}else{var H=this.getLastNalUnit();if(H&&(D&&F<=4-D&&H.state&&(H.data=H.data.subarray(0,H.data.byteLength-D)),(L=F-I-1)>0)){var z=new Uint8Array(H.data.byteLength+L);z.set(H.data,0),z.set(x.subarray(0,L),H.data.byteLength),H.data=z}}F<S?(U=F,M=31&x[F],I=0):I=-1}else I=0;else I=3;else I=k?0:2;else I=k?0:1;if(U>=0&&I>=0){var j={data:x.subarray(U,S),type:M,state:I};P.push(j)}if(P.length===0){var Q=this.getLastNalUnit();if(Q){var ie=new Uint8Array(Q.data.byteLength+x.byteLength);ie.set(Q.data,0),ie.set(x,Q.data.byteLength),Q.data=ie}}return C.naluState=I,P},E.parseAACPES=function(x){var k,L,S,C,I,D=0,P=this._audioTrack,F=this.aacOverFlow,U=x.data;if(F){this.aacOverFlow=null;var M=F.sample.unit.byteLength,V=Math.min(F.missing,M),H=M-V;F.sample.unit.set(U.subarray(0,V),H),P.samples.push(F.sample),D=F.missing}for(k=D,L=U.length;k<L-1&&!r.isHeader(U,k);k++);if(k===D||(k<L-1?(S="AAC PES did not start with ADTS header,offset:"+k,C=!1):(S="no ADTS header found in AAC PES",C=!0),h.logger.warn("parsing error:"+S),this.observer.emit(c.Events.ERROR,c.Events.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.FRAG_PARSING_ERROR,fatal:C,reason:S}),!C)){if(r.initTrackConfig(P,this.observer,U,k,this.audioCodec),x.pts!==void 0)I=x.pts;else{if(!F)return void h.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var z=r.getFrameDuration(P.samplerate);I=F.sample.pts+z}for(var j=0;k<L;){if(r.isHeader(U,k)){if(k+5<L){var Q=r.appendFrame(P,U,k,I,j);if(Q){if(!Q.missing){k+=Q.length,j++;continue}this.aacOverFlow=Q}}break}k++}}},E.parseMPEGPES=function(x){var k=x.data,L=k.length,S=0,C=0,I=x.pts;if(I!==void 0)for(;C<L;)if(i.isHeader(k,C)){var D=i.appendFrame(this._audioTrack,k,C,I,S);if(!D)break;C+=D.length,S++}else C++;else h.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},E.parseID3PES=function(x){x.pts!==void 0?this._id3Track.samples.push(x):h.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},b}();function T(b,E,x,k){return{key:b,frame:!1,pts:E,dts:x,units:[],debug:k,length:0}}function y(b,E){return(31&b[E+10])<<8|b[E+11]}function d(b,E,x,k){var L={audio:-1,avc:-1,id3:-1,isAAC:!0},S=E+3+((15&b[E+1])<<8|b[E+2])-4;for(E+=12+((15&b[E+10])<<8|b[E+11]);E<S;){var C=(31&b[E+1])<<8|b[E+2];switch(b[E]){case 207:if(!k){h.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:L.audio===-1&&(L.audio=C);break;case 21:L.id3===-1&&(L.id3=C);break;case 219:if(!k){h.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:L.avc===-1&&(L.avc=C);break;case 3:case 4:x?L.audio===-1&&(L.audio=C,L.isAAC=!1):h.logger.log("MPEG audio found, not supported in this browser");break;case 36:h.logger.warn("Unsupported HEVC stream type found")}E+=5+((15&b[E+3])<<8|b[E+4])}return L}function _(b){var E,x,k,L,S,C=0,I=b.data;if(!b||b.size===0)return null;for(;I[0].length<19&&I.length>1;){var D=new Uint8Array(I[0].length+I[1].length);D.set(I[0]),D.set(I[1],I[0].length),I[0]=D,I.splice(1,1)}if(((E=I[0])[0]<<16)+(E[1]<<8)+E[2]===1){if((x=(E[4]<<8)+E[5])&&x>b.size-6)return null;var P=E[7];192&P&&(L=536870912*(14&E[9])+4194304*(255&E[10])+16384*(254&E[11])+128*(255&E[12])+(254&E[13])/2,64&P?L-(S=536870912*(14&E[14])+4194304*(255&E[15])+16384*(254&E[16])+128*(255&E[17])+(254&E[18])/2)>54e5&&(h.logger.warn(Math.round((L-S)/9e4)+"s delta between PTS and DTS, align them"),L=S):S=L);var F=(k=E[8])+9;if(b.size<=F)return null;b.size-=F;for(var U=new Uint8Array(b.size),M=0,V=I.length;M<V;M++){var H=(E=I[M]).byteLength;if(F){if(F>H){F-=H;continue}E=E.subarray(F),H-=F,F=0}U.set(E,C),C+=H}return x&&(x-=k+3),{data:U,pts:L,dts:S,len:x}}return null}function v(b,E){if(b.units.length&&b.frame){if(b.pts===void 0){var x=E.samples,k=x.length;if(!k)return void E.dropped++;var L=x[k-1];b.pts=L.pts,b.dts=L.dts}E.samples.push(b)}b.debug.length&&h.logger.log(b.pts+"/"+b.dts+":"+b.debug)}function p(b,E){var x=b.length;if(x>0){if(E.pts>=b[x-1].pts)b.push(E);else for(var k=x-1;k>=0;k--)if(E.pts<b[k].pts){b.splice(k,0,E);break}}else b.push(E)}function A(b){for(var E=b.byteLength,x=[],k=1;k<E-2;)b[k]===0&&b[k+1]===0&&b[k+2]===3?(x.push(k+2),k+=2):k++;if(x.length===0)return b;var L=E-x.length,S=new Uint8Array(L),C=0;for(k=0;k<L;C++,k++)C===x[0]&&(C++,x.shift()),S[k]=b[C];return S}w.minProbeByteLength=188,t.default=w},"./src/errors.ts":function(e,t,n){var r,i,o,l;n.r(t),n.d(t,"ErrorTypes",function(){return r}),n.d(t,"ErrorDetails",function(){return o}),(i=r||(r={})).NETWORK_ERROR="networkError",i.MEDIA_ERROR="mediaError",i.KEY_SYSTEM_ERROR="keySystemError",i.MUX_ERROR="muxError",i.OTHER_ERROR="otherError",(l=o||(o={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",l.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",l.KEY_SYSTEM_NO_SESSION="keySystemNoSession",l.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",l.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",l.MANIFEST_LOAD_ERROR="manifestLoadError",l.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",l.MANIFEST_PARSING_ERROR="manifestParsingError",l.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",l.LEVEL_EMPTY_ERROR="levelEmptyError",l.LEVEL_LOAD_ERROR="levelLoadError",l.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",l.LEVEL_SWITCH_ERROR="levelSwitchError",l.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",l.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",l.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",l.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",l.FRAG_LOAD_ERROR="fragLoadError",l.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",l.FRAG_DECRYPT_ERROR="fragDecryptError",l.FRAG_PARSING_ERROR="fragParsingError",l.REMUX_ALLOC_ERROR="remuxAllocError",l.KEY_LOAD_ERROR="keyLoadError",l.KEY_LOAD_TIMEOUT="keyLoadTimeOut",l.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",l.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",l.BUFFER_APPEND_ERROR="bufferAppendError",l.BUFFER_APPENDING_ERROR="bufferAppendingError",l.BUFFER_STALLED_ERROR="bufferStalledError",l.BUFFER_FULL_ERROR="bufferFullError",l.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",l.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",l.INTERNAL_EXCEPTION="internalException",l.INTERNAL_ABORTED="aborted",l.UNKNOWN="unknown"},"./src/events.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"Events",function(){return r}),(i=r||(r={})).MEDIA_ATTACHING="hlsMediaAttaching",i.MEDIA_ATTACHED="hlsMediaAttached",i.MEDIA_DETACHING="hlsMediaDetaching",i.MEDIA_DETACHED="hlsMediaDetached",i.BUFFER_RESET="hlsBufferReset",i.BUFFER_CODECS="hlsBufferCodecs",i.BUFFER_CREATED="hlsBufferCreated",i.BUFFER_APPENDING="hlsBufferAppending",i.BUFFER_APPENDED="hlsBufferAppended",i.BUFFER_EOS="hlsBufferEos",i.BUFFER_FLUSHING="hlsBufferFlushing",i.BUFFER_FLUSHED="hlsBufferFlushed",i.MANIFEST_LOADING="hlsManifestLoading",i.MANIFEST_LOADED="hlsManifestLoaded",i.MANIFEST_PARSED="hlsManifestParsed",i.LEVEL_SWITCHING="hlsLevelSwitching",i.LEVEL_SWITCHED="hlsLevelSwitched",i.LEVEL_LOADING="hlsLevelLoading",i.LEVEL_LOADED="hlsLevelLoaded",i.LEVEL_UPDATED="hlsLevelUpdated",i.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",i.LEVELS_UPDATED="hlsLevelsUpdated",i.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",i.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",i.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",i.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",i.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",i.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",i.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",i.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",i.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",i.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",i.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",i.CUES_PARSED="hlsCuesParsed",i.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",i.INIT_PTS_FOUND="hlsInitPtsFound",i.FRAG_LOADING="hlsFragLoading",i.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",i.FRAG_LOADED="hlsFragLoaded",i.FRAG_DECRYPTED="hlsFragDecrypted",i.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",i.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",i.FRAG_PARSING_METADATA="hlsFragParsingMetadata",i.FRAG_PARSED="hlsFragParsed",i.FRAG_BUFFERED="hlsFragBuffered",i.FRAG_CHANGED="hlsFragChanged",i.FPS_DROP="hlsFpsDrop",i.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",i.ERROR="hlsError",i.DESTROYING="hlsDestroying",i.KEY_LOADING="hlsKeyLoading",i.KEY_LOADED="hlsKeyLoaded",i.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",i.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return v});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/playlist-loader.ts"),o=n("./src/loader/key-loader.ts"),l=n("./src/controller/id3-track-controller.ts"),f=n("./src/controller/latency-controller.ts"),c=n("./src/controller/level-controller.ts"),a=n("./src/controller/fragment-tracker.ts"),h=n("./src/controller/stream-controller.ts"),m=n("./src/is-supported.ts"),g=n("./src/utils/logger.ts"),w=n("./src/config.ts"),T=n("./node_modules/eventemitter3/index.js"),y=n("./src/events.ts"),d=n("./src/errors.ts");function _(p,A){for(var b=0;b<A.length;b++){var E=A[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}var v=function(){function p(k){k===void 0&&(k={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new T.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var L=this.config=Object(w.mergeConfig)(p.DefaultConfig,k);this.userConfig=k,Object(g.enableLogs)(L.debug),this._autoLevelCapping=-1,L.progressive&&Object(w.enableStreamingMode)(L);var S=L.abrController,C=L.bufferController,I=L.capLevelController,D=L.fpsController,P=this.abrController=new S(this),F=this.bufferController=new C(this),U=this.capLevelController=new I(this),M=new D(this),V=new i.default(this),H=new o.default(this),z=new l.default(this),j=this.levelController=new c.default(this),Q=new a.FragmentTracker(this),ie=this.streamController=new h.default(this,Q);U.setStreamController(ie),M.setStreamController(ie);var ne=[j,ie];this.networkControllers=ne;var X=[V,H,P,F,U,M,z,Q];this.audioTrackController=this.createController(L.audioTrackController,null,ne),this.createController(L.audioStreamController,Q,ne),this.subtitleTrackController=this.createController(L.subtitleTrackController,null,ne),this.createController(L.subtitleStreamController,Q,ne),this.createController(L.timelineController,null,X),this.emeController=this.createController(L.emeController,null,X),this.latencyController=this.createController(f.default,null,X),this.coreComponents=X}p.isSupported=function(){return Object(m.isSupported)()};var A,b,E,x=p.prototype;return x.createController=function(k,L,S){if(k){var C=L?new k(this,L):new k(this);return S&&S.push(C),C}return null},x.on=function(k,L,S){S===void 0&&(S=this),this._emitter.on(k,L,S)},x.once=function(k,L,S){S===void 0&&(S=this),this._emitter.once(k,L,S)},x.removeAllListeners=function(k){this._emitter.removeAllListeners(k)},x.off=function(k,L,S,C){S===void 0&&(S=this),this._emitter.off(k,L,S,C)},x.listeners=function(k){return this._emitter.listeners(k)},x.emit=function(k,L,S){return this._emitter.emit(k,L,S)},x.trigger=function(k,L){if(this.config.debug)return this.emit(k,k,L);try{return this.emit(k,k,L)}catch(S){g.logger.error("An internal error happened while handling event "+k+'. Error message: "'+S.message+'". Here is a stacktrace:',S),this.trigger(y.Events.ERROR,{type:d.ErrorTypes.OTHER_ERROR,details:d.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:k,error:S})}return!1},x.listenerCount=function(k){return this._emitter.listenerCount(k)},x.destroy=function(){g.logger.log("destroy"),this.trigger(y.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(k){return k.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(k){return k.destroy()}),this.coreComponents.length=0},x.attachMedia=function(k){g.logger.log("attachMedia"),this._media=k,this.trigger(y.Events.MEDIA_ATTACHING,{media:k})},x.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(y.Events.MEDIA_DETACHING,void 0),this._media=null},x.loadSource=function(k){this.stopLoad();var L=this.media,S=this.url,C=this.url=r.buildAbsoluteURL(self.location.href,k,{alwaysNormalize:!0});g.logger.log("loadSource:"+C),L&&S&&S!==C&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(L)),this.trigger(y.Events.MANIFEST_LOADING,{url:k})},x.startLoad=function(k){k===void 0&&(k=-1),g.logger.log("startLoad("+k+")"),this.networkControllers.forEach(function(L){L.startLoad(k)})},x.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach(function(k){k.stopLoad()})},x.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},x.recoverMediaError=function(){g.logger.log("recoverMediaError");var k=this._media;this.detachMedia(),k&&this.attachMedia(k)},x.removeLevel=function(k,L){L===void 0&&(L=0),this.levelController.removeLevel(k,L)},A=p,E=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return y.Events}},{key:"ErrorTypes",get:function(){return d.ErrorTypes}},{key:"ErrorDetails",get:function(){return d.ErrorDetails}},{key:"DefaultConfig",get:function(){return p.defaultConfig?p.defaultConfig:w.hlsDefaultConfig},set:function(k){p.defaultConfig=k}}],(b=[{key:"levels",get:function(){var k=this.levelController.levels;return k||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(k){g.logger.log("set currentLevel:"+k),this.loadLevel=k,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(k){g.logger.log("set nextLevel:"+k),this.levelController.manualLevel=k,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(k){g.logger.log("set loadLevel:"+k),this.levelController.manualLevel=k}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(k){this.levelController.nextLoadLevel=k}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(k){g.logger.log("set firstLevel:"+k),this.levelController.firstLevel=k}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(k){g.logger.log("set startLevel:"+k),k!==-1&&(k=Math.max(k,this.minAutoLevel)),this.levelController.startLevel=k}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(k){var L=!!k;L!==this.config.capLevelToPlayerSize&&(L?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=L)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(k){this._autoLevelCapping!==k&&(g.logger.log("set autoLevelCapping:"+k),this._autoLevelCapping=k)}},{key:"bandwidthEstimate",get:function(){var k=this.abrController.bwEstimator;return k?k.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var k=this.levels,L=this.config.minAutoBitrate;if(!k)return 0;for(var S=k.length,C=0;C<S;C++)if(k[C].maxBitrate>L)return C;return 0}},{key:"maxAutoLevel",get:function(){var k=this.levels,L=this.autoLevelCapping;return L===-1&&k&&k.length?k.length-1:L}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(k){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,k)}},{key:"audioTracks",get:function(){var k=this.audioTrackController;return k?k.audioTracks:[]}},{key:"audioTrack",get:function(){var k=this.audioTrackController;return k?k.audioTrack:-1},set:function(k){var L=this.audioTrackController;L&&(L.audioTrack=k)}},{key:"subtitleTracks",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var k=this.subtitleTrackController;return k?k.subtitleTrack:-1},set:function(k){var L=this.subtitleTrackController;L&&(L.subtitleTrack=k)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var k=this.subtitleTrackController;return!!k&&k.subtitleDisplay},set:function(k){var L=this.subtitleTrackController;L&&(L.subtitleDisplay=k)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(k){this.config.lowLatencyMode=k}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&_(A.prototype,b),E&&_(A,E),p}();v.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){n.r(t),n.d(t,"isSupported",function(){return o}),n.d(t,"changeTypeSupported",function(){return l});var r=n("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function o(){var f=Object(r.getMediaSource)();if(!f)return!1;var c=i(),a=f&&typeof f.isTypeSupported=="function"&&f.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),h=!c||c.prototype&&typeof c.prototype.appendBuffer=="function"&&typeof c.prototype.remove=="function";return!!a&&!!h}function l(){var f,c=i();return typeof(c==null||(f=c.prototype)===null||f===void 0?void 0:f.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return m}),n.d(t,"LoadError",function(){return w});var r=n("./src/polyfills/number.ts"),i=n("./src/errors.ts");function o(T){var y=typeof Map=="function"?new Map:void 0;return(o=function(d){if(d===null||(_=d,Function.toString.call(_).indexOf("[native code]")===-1))return d;var _;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(y!==void 0){if(y.has(d))return y.get(d);y.set(d,v)}function v(){return l(d,arguments,a(this).constructor)}return v.prototype=Object.create(d.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),c(v,d)})(T)}function l(T,y,d){return(l=f()?Reflect.construct:function(_,v,p){var A=[null];A.push.apply(A,v);var b=new(Function.bind.apply(_,A));return p&&c(b,p.prototype),b}).apply(null,arguments)}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(T,y){return(c=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(T,y)}function a(T){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(T)}var h=Math.pow(2,17),m=function(){function T(d){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=d}var y=T.prototype;return y.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},y.abort=function(){this.loader&&this.loader.abort()},y.load=function(d,_){var v=this,p=d.url;if(!p)return Promise.reject(new w({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:d,networkDetails:null},"Fragment does not have a "+(p?"part list":"url")));this.abort();var A=this.config,b=A.fLoader,E=A.loader;return new Promise(function(x,k){v.loader&&v.loader.destroy();var L=v.loader=d.loader=b?new b(A):new E(A),S=g(d),C={timeout:A.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:A.fragLoadingMaxRetryTimeout,highWaterMark:h};d.stats=L.stats,L.load(S,C,{onSuccess:function(I,D,P,F){v.resetLoader(d,L),x({frag:d,part:null,payload:I.data,networkDetails:F})},onError:function(I,D,P){v.resetLoader(d,L),k(new w({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:d,response:I,networkDetails:P}))},onAbort:function(I,D,P){v.resetLoader(d,L),k(new w({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:d,networkDetails:P}))},onTimeout:function(I,D,P){v.resetLoader(d,L),k(new w({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:d,networkDetails:P}))},onProgress:function(I,D,P,F){_&&_({frag:d,part:null,payload:P,networkDetails:F})}})})},y.loadPart=function(d,_,v){var p=this;this.abort();var A=this.config,b=A.fLoader,E=A.loader;return new Promise(function(x,k){p.loader&&p.loader.destroy();var L=p.loader=d.loader=b?new b(A):new E(A),S=g(d,_),C={timeout:A.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:A.fragLoadingMaxRetryTimeout,highWaterMark:h};_.stats=L.stats,L.load(S,C,{onSuccess:function(I,D,P,F){p.resetLoader(d,L),p.updateStatsFromPart(d,_);var U={frag:d,part:_,payload:I.data,networkDetails:F};v(U),x(U)},onError:function(I,D,P){p.resetLoader(d,L),k(new w({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:d,part:_,response:I,networkDetails:P}))},onAbort:function(I,D,P){d.stats.aborted=_.stats.aborted,p.resetLoader(d,L),k(new w({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:d,part:_,networkDetails:P}))},onTimeout:function(I,D,P){p.resetLoader(d,L),k(new w({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:d,part:_,networkDetails:P}))}})})},y.updateStatsFromPart=function(d,_){var v=d.stats,p=_.stats,A=p.total;if(v.loaded+=p.loaded,A){var b=Math.round(d.duration/_.duration),E=Math.min(Math.round(v.loaded/A),b),x=(b-E)*Math.round(v.loaded/E);v.total=v.loaded+x}else v.total=Math.max(v.loaded,v.total);var k=v.loading,L=p.loading;k.start?k.first+=L.first-L.start:(k.start=L.start,k.first=L.first),k.end=L.end},y.resetLoader=function(d,_){d.loader=null,this.loader===_&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),_.destroy()},T}();function g(T,y){y===void 0&&(y=null);var d=y||T,_={frag:T,part:y,responseType:"arraybuffer",url:d.url,rangeStart:0,rangeEnd:0},v=d.byteRangeStartOffset,p=d.byteRangeEndOffset;return Object(r.isFiniteNumber)(v)&&Object(r.isFiniteNumber)(p)&&(_.rangeStart=v,_.rangeEnd=p),_}var w=function(T){var y,d;function _(v){for(var p,A=arguments.length,b=new Array(A>1?A-1:0),E=1;E<A;E++)b[E-1]=arguments[E];return(p=T.call.apply(T,[this].concat(b))||this).data=void 0,p.data=v,p}return d=T,(y=_).prototype=Object.create(d.prototype),y.prototype.constructor=y,c(y,d),_}(o(Error))},"./src/loader/fragment.ts":function(e,t,n){n.r(t),n.d(t,"ElementaryStreamTypes",function(){return r}),n.d(t,"BaseSegment",function(){return T}),n.d(t,"Fragment",function(){return y}),n.d(t,"Part",function(){return d});var r,i,o=n("./src/polyfills/number.ts"),l=n("./node_modules/url-toolkit/src/url-toolkit.js"),f=n("./src/utils/logger.ts"),c=n("./src/loader/level-key.ts"),a=n("./src/loader/load-stats.ts");function h(_,v){_.prototype=Object.create(v.prototype),_.prototype.constructor=_,m(_,v)}function m(_,v){return(m=Object.setPrototypeOf||function(p,A){return p.__proto__=A,p})(_,v)}function g(_,v){for(var p=0;p<v.length;p++){var A=v[p];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}function w(_,v,p){return v&&g(_.prototype,v),p&&g(_,p),_}(i=r||(r={})).AUDIO="audio",i.VIDEO="video",i.AUDIOVIDEO="audiovideo";var T=function(){function _(v){var p;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((p={})[r.AUDIO]=null,p[r.VIDEO]=null,p[r.AUDIOVIDEO]=null,p),this.baseurl=v}return _.prototype.setByteRange=function(v,p){var A=v.split("@",2),b=[];A.length===1?b[0]=p?p.byteRangeEndOffset:0:b[0]=parseInt(A[1]),b[1]=parseInt(A[0])+b[0],this._byteRange=b},w(_,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(l.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(v){this._url=v}}]),_}(),y=function(_){function v(A,b){var E;return(E=_.call(this,b)||this)._decryptdata=null,E.rawProgramDateTime=null,E.programDateTime=null,E.tagList=[],E.duration=0,E.sn=0,E.levelkey=void 0,E.type=void 0,E.loader=null,E.level=-1,E.cc=0,E.startPTS=void 0,E.endPTS=void 0,E.appendedPTS=void 0,E.startDTS=void 0,E.endDTS=void 0,E.start=0,E.deltaPTS=void 0,E.maxStartPTS=void 0,E.minEndPTS=void 0,E.stats=new a.LoadStats,E.urlId=0,E.data=void 0,E.bitrateTest=!1,E.title=null,E.initSegment=null,E.type=A,E}h(v,_);var p=v.prototype;return p.createInitializationVector=function(A){for(var b=new Uint8Array(16),E=12;E<16;E++)b[E]=A>>8*(15-E)&255;return b},p.setDecryptDataFromLevelKey=function(A,b){var E=A;return(A==null?void 0:A.method)==="AES-128"&&A.uri&&!A.iv&&((E=c.LevelKey.fromURI(A.uri)).method=A.method,E.iv=this.createInitializationVector(b),E.keyFormat="identity"),E},p.setElementaryStreamInfo=function(A,b,E,x,k,L){L===void 0&&(L=!1);var S=this.elementaryStreams,C=S[A];C?(C.startPTS=Math.min(C.startPTS,b),C.endPTS=Math.max(C.endPTS,E),C.startDTS=Math.min(C.startDTS,x),C.endDTS=Math.max(C.endDTS,k)):S[A]={startPTS:b,endPTS:E,startDTS:x,endDTS:k,partial:L}},p.clearElementaryStreamInfo=function(){var A=this.elementaryStreams;A[r.AUDIO]=null,A[r.VIDEO]=null,A[r.AUDIOVIDEO]=null},w(v,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var A=this.sn;typeof A!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&f.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),A=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,A)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(o.isFiniteNumber)(this.programDateTime))return null;var A=Object(o.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*A}},{key:"encrypted",get:function(){var A;return!((A=this.decryptdata)===null||A===void 0||!A.keyFormat||!this.decryptdata.uri)}}]),v}(T),d=function(_){function v(p,A,b,E,x){var k;(k=_.call(this,b)||this).fragOffset=0,k.duration=0,k.gap=!1,k.independent=!1,k.relurl=void 0,k.fragment=void 0,k.index=void 0,k.stats=new a.LoadStats,k.duration=p.decimalFloatingPoint("DURATION"),k.gap=p.bool("GAP"),k.independent=p.bool("INDEPENDENT"),k.relurl=p.enumeratedString("URI"),k.fragment=A,k.index=E;var L=p.enumeratedString("BYTERANGE");return L&&k.setByteRange(L,x),x&&(k.fragOffset=x.fragOffset+x.duration),k}return h(v,_),w(v,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var p=this.elementaryStreams;return!!(p.audio||p.video||p.audiovideo)}}]),v}(T)},"./src/loader/key-loader.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return l});var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),l=function(){function f(a){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=a,this._registerListeners()}var c=f.prototype;return c._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},c._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},c.destroy=function(){for(var a in this._unregisterListeners(),this.loaders){var h=this.loaders[a];h&&h.destroy()}this.loaders={}},c.onKeyLoading=function(a,h){var m=h.frag,g=m.type,w=this.loaders[g];if(m.decryptdata){var T=m.decryptdata.uri;if(T!==this.decrypturl||this.decryptkey===null){var y=this.hls.config;if(w&&(o.logger.warn("abort previous key loader for type:"+g),w.abort()),!T)return void o.logger.warn("key uri is falsy");var d=y.loader,_=m.loader=this.loaders[g]=new d(y);this.decrypturl=T,this.decryptkey=null;var v={url:T,frag:m,responseType:"arraybuffer"},p={timeout:y.fragLoadingTimeOut,maxRetry:0,retryDelay:y.fragLoadingRetryDelay,maxRetryDelay:y.fragLoadingMaxRetryTimeout,highWaterMark:0},A={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};_.load(v,p,A)}else this.decryptkey&&(m.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:m}))}else o.logger.warn("Missing decryption data on fragment in onKeyLoading")},c.loadsuccess=function(a,h,m){var g=m.frag;g.decryptdata?(this.decryptkey=g.decryptdata.key=new Uint8Array(a.data),g.loader=null,delete this.loaders[g.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:g})):o.logger.error("after key load, decryptdata unset")},c.loaderror=function(a,h){var m=h.frag,g=m.loader;g&&g.abort(),delete this.loaders[m.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:m,response:a})},c.loadtimeout=function(a,h){var m=h.frag,g=m.loader;g&&g.abort(),delete this.loaders[m.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:m})},f}()},"./src/loader/level-details.ts":function(e,t,n){n.r(t),n.d(t,"LevelDetails",function(){return o});var r=n("./src/polyfills/number.ts");function i(l,f){for(var c=0;c<f.length;c++){var a=f[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}var o=function(){function l(a){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=a}var f,c;return l.prototype.reloaded=function(a){if(!a)return this.advanced=!0,void(this.updated=!0);var h=this.lastPartSn-a.lastPartSn,m=this.lastPartIndex-a.lastPartIndex;this.updated=this.endSN!==a.endSN||!!m||!!h,this.advanced=this.endSN>a.endSN||h>0||h===0&&m>0,this.updated||this.advanced?this.misses=Math.floor(.6*a.misses):this.misses=a.misses+1,this.availabilityDelay=a.availabilityDelay},f=l,(c=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var a=this.driftEndTime-this.driftStartTime;return a>0?1e3*(this.driftEnd-this.driftStart)/a:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var a;return(a=this.partList)!==null&&a!==void 0&&a.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var a;return(a=this.fragments)!==null&&a!==void 0&&a.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var a;return(a=this.partList)!==null&&a!==void 0&&a.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var a;return(a=this.partList)!==null&&a!==void 0&&a.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&i(f.prototype,c),l}()},"./src/loader/level-key.ts":function(e,t,n){n.r(t),n.d(t,"LevelKey",function(){return o});var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function i(l,f){for(var c=0;c<f.length;c++){var a=f[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}var o=function(){function l(a,h){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=h?Object(r.buildAbsoluteURL)(a,h,{alwaysNormalize:!0}):a}var f,c;return l.fromURL=function(a,h){return new l(a,h)},l.fromURI=function(a){return new l(a)},f=l,(c=[{key:"uri",get:function(){return this._uri}}])&&i(f.prototype,c),l}()},"./src/loader/load-stats.ts":function(e,t,n){n.r(t),n.d(t,"LoadStats",function(){return r});var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return d});var r=n("./src/polyfills/number.ts"),i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/fragment.ts"),l=n("./src/loader/level-details.ts"),f=n("./src/loader/level-key.ts"),c=n("./src/utils/attr-list.ts"),a=n("./src/utils/logger.ts"),h=n("./src/utils/codecs.ts"),m=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,g=/#EXT-X-MEDIA:(.*)/g,w=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),T=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),y=/\.(mp4|m4s|m4v|m4a)$/i,d=function(){function A(){}return A.findGroup=function(b,E){for(var x=0;x<b.length;x++){var k=b[x];if(k.id===E)return k}},A.convertAVC1ToAVCOTI=function(b){var E=b.split(".");if(E.length>2){var x=E.shift()+".";return x+=parseInt(E.shift()).toString(16),x+=("000"+parseInt(E.shift()).toString(16)).substr(-4)}return b},A.resolve=function(b,E){return i.buildAbsoluteURL(E,b,{alwaysNormalize:!0})},A.parseMasterPlaylist=function(b,E){var x,k=[],L={},S=!1;for(m.lastIndex=0;(x=m.exec(b))!=null;)if(x[1]){var C=new c.AttrList(x[1]),I={attrs:C,bitrate:C.decimalInteger("AVERAGE-BANDWIDTH")||C.decimalInteger("BANDWIDTH"),name:C.NAME,url:A.resolve(x[2],E)},D=C.decimalResolution("RESOLUTION");D&&(I.width=D.width,I.height=D.height),_((C.CODECS||"").split(/[ ,]+/).filter(function(F){return F}),I),I.videoCodec&&I.videoCodec.indexOf("avc1")!==-1&&(I.videoCodec=A.convertAVC1ToAVCOTI(I.videoCodec)),k.push(I)}else if(x[3]){var P=new c.AttrList(x[3]);P["DATA-ID"]&&(S=!0,L[P["DATA-ID"]]=P)}return{levels:k,sessionData:S?L:null}},A.parseMasterPlaylistMedia=function(b,E,x,k){var L;k===void 0&&(k=[]);var S=[],C=0;for(g.lastIndex=0;(L=g.exec(b))!==null;){var I=new c.AttrList(L[1]);if(I.TYPE===x){var D={attrs:I,bitrate:0,id:C++,groupId:I["GROUP-ID"],instreamId:I["INSTREAM-ID"],name:I.NAME||I.LANGUAGE||"",type:x,default:I.bool("DEFAULT"),autoselect:I.bool("AUTOSELECT"),forced:I.bool("FORCED"),lang:I.LANGUAGE,url:I.URI?A.resolve(I.URI,E):""};if(k.length){var P=A.findGroup(k,D.groupId)||k[0];v(D,P,"audioCodec"),v(D,P,"textCodec")}S.push(D)}}return S},A.parseLevelPlaylist=function(b,E,x,k,L){var S,C,I,D=new l.LevelDetails(E),P=D.fragments,F=null,U=0,M=0,V=0,H=0,z=null,j=new o.Fragment(k,E),Q=-1,ie=!1;for(w.lastIndex=0,D.m3u8=b;(S=w.exec(b))!==null;){ie&&(ie=!1,(j=new o.Fragment(k,E)).start=V,j.sn=U,j.cc=H,j.level=x,F&&(j.initSegment=F,j.rawProgramDateTime=F.rawProgramDateTime));var ne=S[1];if(ne){j.duration=parseFloat(ne);var X=(" "+S[2]).slice(1);j.title=X||null,j.tagList.push(X?["INF",ne,X]:["INF",ne])}else if(S[3])Object(r.isFiniteNumber)(j.duration)&&(j.start=V,I&&(j.levelkey=I),j.sn=U,j.level=x,j.cc=H,j.urlId=L,P.push(j),j.relurl=(" "+S[3]).slice(1),p(j,z),z=j,V+=j.duration,U++,M=0,ie=!0);else if(S[4]){var J=(" "+S[4]).slice(1);z?j.setByteRange(J,z):j.setByteRange(J)}else if(S[5])j.rawProgramDateTime=(" "+S[5]).slice(1),j.tagList.push(["PROGRAM-DATE-TIME",j.rawProgramDateTime]),Q===-1&&(Q=P.length);else{if(!(S=S[0].match(T))){a.logger.warn("No matches on slow regex match for level playlist!");continue}for(C=1;C<S.length&&S[C]===void 0;C++);var se=(" "+S[C]).slice(1),ce=(" "+S[C+1]).slice(1),me=S[C+2]?(" "+S[C+2]).slice(1):"";switch(se){case"PLAYLIST-TYPE":D.type=ce.toUpperCase();break;case"MEDIA-SEQUENCE":U=D.startSN=parseInt(ce);break;case"SKIP":var Fe=new c.AttrList(ce),Oe=Fe.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(Oe)){D.skippedSegments=Oe;for(var Y=Oe;Y--;)P.unshift(null);U+=Oe}var ee=Fe.enumeratedString("RECENTLY-REMOVED-DATERANGES");ee&&(D.recentlyRemovedDateranges=ee.split("	"));break;case"TARGETDURATION":D.targetduration=parseFloat(ce);break;case"VERSION":D.version=parseInt(ce);break;case"EXTM3U":break;case"ENDLIST":D.live=!1;break;case"#":(ce||me)&&j.tagList.push(me?[ce,me]:[ce]);break;case"DIS":H++;case"GAP":j.tagList.push([se]);break;case"BITRATE":j.tagList.push([se,ce]);break;case"DISCONTINUITY-SEQ":H=parseInt(ce);break;case"KEY":var ae,fe=new c.AttrList(ce),ge=fe.enumeratedString("METHOD"),_e=fe.URI,xe=fe.hexadecimalInteger("IV"),Te=fe.enumeratedString("KEYFORMATVERSIONS"),Ie=fe.enumeratedString("KEYID"),pe=(ae=fe.enumeratedString("KEYFORMAT"))!=null?ae:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(pe)>-1){a.logger.warn("Keyformat "+pe+" is not supported from the manifest");continue}if(pe!=="identity")continue;ge&&(I=f.LevelKey.fromURL(E,_e),_e&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(ge)>=0&&(I.method=ge,I.keyFormat=pe,Ie&&(I.keyID=Ie),Te&&(I.keyFormatVersions=Te),I.iv=xe));break;case"START":var Ne=new c.AttrList(ce).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(Ne)&&(D.startTimeOffset=Ne);break;case"MAP":var Ae=new c.AttrList(ce);j.relurl=Ae.URI,Ae.BYTERANGE&&j.setByteRange(Ae.BYTERANGE),j.level=x,j.sn="initSegment",I&&(j.levelkey=I),j.initSegment=null,F=j,ie=!0;break;case"SERVER-CONTROL":var Ue=new c.AttrList(ce);D.canBlockReload=Ue.bool("CAN-BLOCK-RELOAD"),D.canSkipUntil=Ue.optionalFloat("CAN-SKIP-UNTIL",0),D.canSkipDateRanges=D.canSkipUntil>0&&Ue.bool("CAN-SKIP-DATERANGES"),D.partHoldBack=Ue.optionalFloat("PART-HOLD-BACK",0),D.holdBack=Ue.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Ke=new c.AttrList(ce);D.partTarget=Ke.decimalFloatingPoint("PART-TARGET");break;case"PART":var Ye=D.partList;Ye||(Ye=D.partList=[]);var it=M>0?Ye[Ye.length-1]:void 0,nt=M++,_t=new o.Part(new c.AttrList(ce),j,E,nt,it);Ye.push(_t),j.duration+=_t.duration;break;case"PRELOAD-HINT":var Ft=new c.AttrList(ce);D.preloadHint=Ft;break;case"RENDITION-REPORT":var sn=new c.AttrList(ce);D.renditionReports=D.renditionReports||[],D.renditionReports.push(sn);break;default:a.logger.warn("line parsed but not handled: "+S)}}}z&&!z.relurl?(P.pop(),V-=z.duration,D.partList&&(D.fragmentHint=z)):D.partList&&(p(j,z),j.cc=H,D.fragmentHint=j);var rt=P.length,on=P[0],ar=P[rt-1];if((V+=D.skippedSegments*D.targetduration)>0&&rt&&ar){D.averagetargetduration=V/rt;var Kt=ar.sn;D.endSN=Kt!=="initSegment"?Kt:0,on&&(D.startCC=on.cc,on.initSegment||D.fragments.every(function(Qt){return Qt.relurl&&(In=Qt.relurl,y.test((ai=(lr=i.parseURL(In))===null||lr===void 0?void 0:lr.path)!=null?ai:""));var In,ai,lr})&&(a.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(j=new o.Fragment(k,E)).relurl=ar.relurl,j.level=x,j.sn="initSegment",on.initSegment=j,D.needSidxRanges=!0))}else D.endSN=0,D.startCC=0;return D.fragmentHint&&(V+=D.fragmentHint.duration),D.totalduration=V,D.endCC=H,Q>0&&function(Qt,In){for(var ai=Qt[In],lr=In;lr--;){var li=Qt[lr];if(!li)return;li.programDateTime=ai.programDateTime-1e3*li.duration,ai=li}}(P,Q),D},A}();function _(A,b){["video","audio","text"].forEach(function(E){var x=A.filter(function(L){return Object(h.isCodecType)(L,E)});if(x.length){var k=x.filter(function(L){return L.lastIndexOf("avc1",0)===0||L.lastIndexOf("mp4a",0)===0});b[E+"Codec"]=k.length>0?k[0]:x[0],A=A.filter(function(L){return x.indexOf(L)===-1})}}),b.unknownCodecs=A}function v(A,b,E){var x=b[E];x&&(A[E]=x)}function p(A,b){A.rawProgramDateTime?A.programDateTime=Date.parse(A.rawProgramDateTime):b!=null&&b.programDateTime&&(A.programDateTime=b.endProgramDateTime),Object(r.isFiniteNumber)(A.programDateTime)||(A.programDateTime=null,A.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),l=n("./src/utils/logger.ts"),f=n("./src/utils/mp4-tools.ts"),c=n("./src/loader/m3u8-parser.ts"),a=n("./src/types/loader.ts"),h=n("./src/utils/attr-list.ts");function m(w,T){var y=w.url;return y!==void 0&&y.indexOf("data:")!==0||(y=T.url),y}var g=function(){function w(y){this.hls=void 0,this.loaders=Object.create(null),this.hls=y,this.registerListeners()}var T=w.prototype;return T.registerListeners=function(){var y=this.hls;y.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),y.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),y.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},T.unregisterListeners=function(){var y=this.hls;y.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),y.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),y.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},T.createInternalLoader=function(y){var d=this.hls.config,_=d.pLoader,v=d.loader,p=new(_||v)(d);return y.loader=p,this.loaders[y.type]=p,p},T.getInternalLoader=function(y){return this.loaders[y.type]},T.resetInternalLoader=function(y){this.loaders[y]&&delete this.loaders[y]},T.destroyInternalLoaders=function(){for(var y in this.loaders){var d=this.loaders[y];d&&d.destroy(),this.resetInternalLoader(y)}},T.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},T.onManifestLoading=function(y,d){var _=d.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:a.PlaylistContextType.MANIFEST,url:_,deliveryDirectives:null})},T.onLevelLoading=function(y,d){var _=d.id,v=d.level,p=d.url,A=d.deliveryDirectives;this.load({id:_,groupId:null,level:v,responseType:"text",type:a.PlaylistContextType.LEVEL,url:p,deliveryDirectives:A})},T.onAudioTrackLoading=function(y,d){var _=d.id,v=d.groupId,p=d.url,A=d.deliveryDirectives;this.load({id:_,groupId:v,level:null,responseType:"text",type:a.PlaylistContextType.AUDIO_TRACK,url:p,deliveryDirectives:A})},T.onSubtitleTrackLoading=function(y,d){var _=d.id,v=d.groupId,p=d.url,A=d.deliveryDirectives;this.load({id:_,groupId:v,level:null,responseType:"text",type:a.PlaylistContextType.SUBTITLE_TRACK,url:p,deliveryDirectives:A})},T.load=function(y){var d,_,v,p,A,b,E=this.hls.config,x=this.getInternalLoader(y);if(x){var k=x.context;if(k&&k.url===y.url)return void l.logger.trace("[playlist-loader]: playlist request ongoing");l.logger.log("[playlist-loader]: aborting previous loader for type: "+y.type),x.abort()}switch(y.type){case a.PlaylistContextType.MANIFEST:_=E.manifestLoadingMaxRetry,v=E.manifestLoadingTimeOut,p=E.manifestLoadingRetryDelay,A=E.manifestLoadingMaxRetryTimeout;break;case a.PlaylistContextType.LEVEL:case a.PlaylistContextType.AUDIO_TRACK:case a.PlaylistContextType.SUBTITLE_TRACK:_=0,v=E.levelLoadingTimeOut;break;default:_=E.levelLoadingMaxRetry,v=E.levelLoadingTimeOut,p=E.levelLoadingRetryDelay,A=E.levelLoadingMaxRetryTimeout}if(x=this.createInternalLoader(y),(d=y.deliveryDirectives)!==null&&d!==void 0&&d.part&&(y.type===a.PlaylistContextType.LEVEL&&y.level!==null?b=this.hls.levels[y.level].details:y.type===a.PlaylistContextType.AUDIO_TRACK&&y.id!==null?b=this.hls.audioTracks[y.id].details:y.type===a.PlaylistContextType.SUBTITLE_TRACK&&y.id!==null&&(b=this.hls.subtitleTracks[y.id].details),b)){var L=b.partTarget,S=b.targetduration;L&&S&&(v=Math.min(1e3*Math.max(3*L,.8*S),v))}var C={timeout:v,maxRetry:_,retryDelay:p,maxRetryDelay:A,highWaterMark:0},I={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};x.load(y,C,I)},T.loadsuccess=function(y,d,_,v){if(v===void 0&&(v=null),_.isSidxRequest)return this.handleSidxRequest(y,_),void this.handlePlaylistLoaded(y,d,_,v);this.resetInternalLoader(_.type);var p=y.data;p.indexOf("#EXTM3U")===0?(d.parsing.start=performance.now(),p.indexOf("#EXTINF:")>0||p.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(y,d,_,v):this.handleMasterPlaylist(y,d,_,v)):this.handleManifestParsingError(y,_,"no EXTM3U delimiter",v)},T.loaderror=function(y,d,_){_===void 0&&(_=null),this.handleNetworkError(d,_,!1,y)},T.loadtimeout=function(y,d,_){_===void 0&&(_=null),this.handleNetworkError(d,_,!0)},T.handleMasterPlaylist=function(y,d,_,v){var p=this.hls,A=y.data,b=m(y,_),E=c.default.parseMasterPlaylist(A,b),x=E.levels,k=E.sessionData;if(x.length){var L=x.map(function(P){return{id:P.attrs.AUDIO,audioCodec:P.audioCodec}}),S=x.map(function(P){return{id:P.attrs.SUBTITLES,textCodec:P.textCodec}}),C=c.default.parseMasterPlaylistMedia(A,b,"AUDIO",L),I=c.default.parseMasterPlaylistMedia(A,b,"SUBTITLES",S),D=c.default.parseMasterPlaylistMedia(A,b,"CLOSED-CAPTIONS");C.length&&(C.some(function(P){return!P.url})||!x[0].audioCodec||x[0].attrs.AUDIO||(l.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),C.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new h.AttrList({}),bitrate:0,url:""}))),p.trigger(i.Events.MANIFEST_LOADED,{levels:x,audioTracks:C,subtitles:I,captions:D,url:b,stats:d,networkDetails:v,sessionData:k})}else this.handleManifestParsingError(y,_,"no level found in manifest",v)},T.handleTrackOrLevelPlaylist=function(y,d,_,v){var p=this.hls,A=_.id,b=_.level,E=_.type,x=m(y,_),k=Object(r.isFiniteNumber)(A)?A:0,L=Object(r.isFiniteNumber)(b)?b:k,S=function(F){switch(F.type){case a.PlaylistContextType.AUDIO_TRACK:return a.PlaylistLevelType.AUDIO;case a.PlaylistContextType.SUBTITLE_TRACK:return a.PlaylistLevelType.SUBTITLE;default:return a.PlaylistLevelType.MAIN}}(_),C=c.default.parseLevelPlaylist(y.data,x,L,S,k);if(C.fragments.length){if(E===a.PlaylistContextType.MANIFEST){var I={attrs:new h.AttrList({}),bitrate:0,details:C,name:"",url:x};p.trigger(i.Events.MANIFEST_LOADED,{levels:[I],audioTracks:[],url:x,stats:d,networkDetails:v,sessionData:null})}if(d.parsing.end=performance.now(),C.needSidxRanges){var D,P=(D=C.fragments[0].initSegment)===null||D===void 0?void 0:D.url;this.load({url:P,isSidxRequest:!0,type:E,level:b,levelDetails:C,id:A,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else _.levelDetails=C,this.handlePlaylistLoaded(y,d,_,v)}else p.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:x,reason:"no fragments found in level",level:typeof _.level=="number"?_.level:void 0})},T.handleSidxRequest=function(y,d){var _=Object(f.parseSegmentIndex)(new Uint8Array(y.data));if(_){var v=_.references,p=d.levelDetails;v.forEach(function(A,b){var E=A.info,x=p.fragments[b];x.byteRange.length===0&&x.setByteRange(String(1+E.end-E.start)+"@"+String(E.start)),x.initSegment&&x.initSegment.setByteRange(String(_.moovEndOffset)+"@0")})}},T.handleManifestParsingError=function(y,d,_,v){this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:d.type===a.PlaylistContextType.MANIFEST,url:y.url,reason:_,response:y,context:d,networkDetails:v})},T.handleNetworkError=function(y,d,_,v){_===void 0&&(_=!1),l.logger.warn("[playlist-loader]: A network "+(_?"timeout":"error")+" occurred while loading "+y.type+" level: "+y.level+" id: "+y.id+' group-id: "'+y.groupId+'"');var p=o.ErrorDetails.UNKNOWN,A=!1,b=this.getInternalLoader(y);switch(y.type){case a.PlaylistContextType.MANIFEST:p=_?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,A=!0;break;case a.PlaylistContextType.LEVEL:p=_?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,A=!1;break;case a.PlaylistContextType.AUDIO_TRACK:p=_?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,A=!1;break;case a.PlaylistContextType.SUBTITLE_TRACK:p=_?o.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:o.ErrorDetails.SUBTITLE_LOAD_ERROR,A=!1}b&&this.resetInternalLoader(y.type);var E={type:o.ErrorTypes.NETWORK_ERROR,details:p,fatal:A,url:y.url,loader:b,context:y,networkDetails:d};v&&(E.response=v),this.hls.trigger(i.Events.ERROR,E)},T.handlePlaylistLoaded=function(y,d,_,v){var p=_.type,A=_.level,b=_.id,E=_.groupId,x=_.loader,k=_.levelDetails,L=_.deliveryDirectives;if(k!=null&&k.targetduration){if(x)switch(k.live&&(x.getCacheAge&&(k.ageHeader=x.getCacheAge()||0),x.getCacheAge&&!isNaN(k.ageHeader)||(k.ageHeader=0)),p){case a.PlaylistContextType.MANIFEST:case a.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:k,level:A||0,id:b||0,stats:d,networkDetails:v,deliveryDirectives:L});break;case a.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:k,id:b||0,groupId:E||"",stats:d,networkDetails:v,deliveryDirectives:L});break;case a.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:k,id:b||0,groupId:E||"",stats:d,networkDetails:v,deliveryDirectives:L})}}else this.handleManifestParsingError(y,_,"invalid target duration",v)},w}();t.default=g},"./src/polyfills/number.ts":function(e,t,n){n.r(t),n.d(t,"isFiniteNumber",function(){return r}),n.d(t,"MAX_SAFE_INTEGER",function(){return i});var r=Number.isFinite||function(o){return typeof o=="number"&&isFinite(o)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){n.r(t);var r=function(){function i(){}return i.getSilentFrame=function(o,l){switch(o){case"mp4a.40.2":if(l===1)return new Uint8Array([0,200,0,128,35,128]);if(l===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(l===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(l===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(l===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(l===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(l===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(l===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},i}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){n.r(t);var r=Math.pow(2,32)-1,i=function(){function o(){}return o.init=function(){var l;for(l in o.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},o.types)o.types.hasOwnProperty(l)&&(o.types[l]=[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]);var f=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),c=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);o.HDLR_TYPES={video:f,audio:c};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h=new Uint8Array([0,0,0,0,0,0,0,0]);o.STTS=o.STSC=o.STCO=h,o.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),o.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),o.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),o.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var m=new Uint8Array([105,115,111,109]),g=new Uint8Array([97,118,99,49]),w=new Uint8Array([0,0,0,1]);o.FTYP=o.box(o.types.ftyp,m,w,m,g),o.DINF=o.box(o.types.dinf,o.box(o.types.dref,a))},o.box=function(l){for(var f=8,c=arguments.length,a=new Array(c>1?c-1:0),h=1;h<c;h++)a[h-1]=arguments[h];for(var m=a.length,g=m;m--;)f+=a[m].byteLength;var w=new Uint8Array(f);for(w[0]=f>>24&255,w[1]=f>>16&255,w[2]=f>>8&255,w[3]=255&f,w.set(l,4),m=0,f=8;m<g;m++)w.set(a[m],f),f+=a[m].byteLength;return w},o.hdlr=function(l){return o.box(o.types.hdlr,o.HDLR_TYPES[l])},o.mdat=function(l){return o.box(o.types.mdat,l)},o.mdhd=function(l,f){f*=l;var c=Math.floor(f/(r+1)),a=Math.floor(f%(r+1));return o.box(o.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},o.mdia=function(l){return o.box(o.types.mdia,o.mdhd(l.timescale,l.duration),o.hdlr(l.type),o.minf(l))},o.mfhd=function(l){return o.box(o.types.mfhd,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l]))},o.minf=function(l){return l.type==="audio"?o.box(o.types.minf,o.box(o.types.smhd,o.SMHD),o.DINF,o.stbl(l)):o.box(o.types.minf,o.box(o.types.vmhd,o.VMHD),o.DINF,o.stbl(l))},o.moof=function(l,f,c){return o.box(o.types.moof,o.mfhd(l),o.traf(c,f))},o.moov=function(l){for(var f=l.length,c=[];f--;)c[f]=o.trak(l[f]);return o.box.apply(null,[o.types.moov,o.mvhd(l[0].timescale,l[0].duration)].concat(c).concat(o.mvex(l)))},o.mvex=function(l){for(var f=l.length,c=[];f--;)c[f]=o.trex(l[f]);return o.box.apply(null,[o.types.mvex].concat(c))},o.mvhd=function(l,f){f*=l;var c=Math.floor(f/(r+1)),a=Math.floor(f%(r+1)),h=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o.box(o.types.mvhd,h)},o.sdtp=function(l){var f,c,a=l.samples||[],h=new Uint8Array(4+a.length);for(f=0;f<a.length;f++)c=a[f].flags,h[f+4]=c.dependsOn<<4|c.isDependedOn<<2|c.hasRedundancy;return o.box(o.types.sdtp,h)},o.stbl=function(l){return o.box(o.types.stbl,o.stsd(l),o.box(o.types.stts,o.STTS),o.box(o.types.stsc,o.STSC),o.box(o.types.stsz,o.STSZ),o.box(o.types.stco,o.STCO))},o.avc1=function(l){var f,c,a,h=[],m=[];for(f=0;f<l.sps.length;f++)a=(c=l.sps[f]).byteLength,h.push(a>>>8&255),h.push(255&a),h=h.concat(Array.prototype.slice.call(c));for(f=0;f<l.pps.length;f++)a=(c=l.pps[f]).byteLength,m.push(a>>>8&255),m.push(255&a),m=m.concat(Array.prototype.slice.call(c));var g=o.box(o.types.avcC,new Uint8Array([1,h[3],h[4],h[5],255,224|l.sps.length].concat(h).concat([l.pps.length]).concat(m))),w=l.width,T=l.height,y=l.pixelRatio[0],d=l.pixelRatio[1];return o.box(o.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,w>>8&255,255&w,T>>8&255,255&T,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),g,o.box(o.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),o.box(o.types.pasp,new Uint8Array([y>>24,y>>16&255,y>>8&255,255&y,d>>24,d>>16&255,d>>8&255,255&d])))},o.esds=function(l){var f=l.config.length;return new Uint8Array([0,0,0,0,3,23+f,0,1,0,4,15+f,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([f]).concat(l.config).concat([6,1,2]))},o.mp4a=function(l){var f=l.samplerate;return o.box(o.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,f>>8&255,255&f,0,0]),o.box(o.types.esds,o.esds(l)))},o.mp3=function(l){var f=l.samplerate;return o.box(o.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,l.channelCount,0,16,0,0,0,0,f>>8&255,255&f,0,0]))},o.stsd=function(l){return l.type==="audio"?l.isAAC||l.codec!=="mp3"?o.box(o.types.stsd,o.STSD,o.mp4a(l)):o.box(o.types.stsd,o.STSD,o.mp3(l)):o.box(o.types.stsd,o.STSD,o.avc1(l))},o.tkhd=function(l){var f=l.id,c=l.duration*l.timescale,a=l.width,h=l.height,m=Math.floor(c/(r+1)),g=Math.floor(c%(r+1));return o.box(o.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,f>>24&255,f>>16&255,f>>8&255,255&f,0,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,g>>24,g>>16&255,g>>8&255,255&g,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,h>>8&255,255&h,0,0]))},o.traf=function(l,f){var c=o.sdtp(l),a=l.id,h=Math.floor(f/(r+1)),m=Math.floor(f%(r+1));return o.box(o.types.traf,o.box(o.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),o.box(o.types.tfdt,new Uint8Array([1,0,0,0,h>>24,h>>16&255,h>>8&255,255&h,m>>24,m>>16&255,m>>8&255,255&m])),o.trun(l,c.length+16+20+8+16+8+8),c)},o.trak=function(l){return l.duration=l.duration||4294967295,o.box(o.types.trak,o.tkhd(l),o.mdia(l))},o.trex=function(l){var f=l.id;return o.box(o.types.trex,new Uint8Array([0,0,0,0,f>>24,f>>16&255,f>>8&255,255&f,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},o.trun=function(l,f){var c,a,h,m,g,w,T=l.samples||[],y=T.length,d=12+16*y,_=new Uint8Array(d);for(f+=8+d,_.set([0,0,15,1,y>>>24&255,y>>>16&255,y>>>8&255,255&y,f>>>24&255,f>>>16&255,f>>>8&255,255&f],0),c=0;c<y;c++)h=(a=T[c]).duration,m=a.size,g=a.flags,w=a.cts,_.set([h>>>24&255,h>>>16&255,h>>>8&255,255&h,m>>>24&255,m>>>16&255,m>>>8&255,255&m,g.isLeading<<2|g.dependsOn,g.isDependedOn<<6|g.hasRedundancy<<4|g.paddingValue<<1|g.isNonSync,61440&g.degradPrio,15&g.degradPrio,w>>>24&255,w>>>16&255,w>>>8&255,255&w],12+16*c);return o.box(o.types.trun,_)},o.initSegment=function(l){o.types||o.init();var f=o.moov(l),c=new Uint8Array(o.FTYP.byteLength+f.byteLength);return c.set(o.FTYP),c.set(f,o.FTYP.byteLength),c},o}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,t.default=i},"./src/remux/mp4-remuxer.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return y}),n.d(t,"normalizePts",function(){return d});var r=n("./src/polyfills/number.ts"),i=n("./src/remux/aac-helper.ts"),o=n("./src/remux/mp4-generator.ts"),l=n("./src/events.ts"),f=n("./src/errors.ts"),c=n("./src/utils/logger.ts"),a=n("./src/types/loader.ts"),h=n("./src/utils/timescale-conversion.ts");function m(){return(m=Object.assign||function(p){for(var A=1;A<arguments.length;A++){var b=arguments[A];for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(p[E]=b[E])}return p}).apply(this,arguments)}var g=null,w=null,T=!1,y=function(){function p(b,E,x,k){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=b,this.config=E,this.typeSupported=x,this.ISGenerated=!1,g===null){var L=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);g=L?parseInt(L[1]):0}if(w===null){var S=navigator.userAgent.match(/Safari\/(\d+)/i);w=S?parseInt(S[1]):0}T=!!g&&g<75||!!w&&w<600}var A=p.prototype;return A.destroy=function(){},A.resetTimeStamp=function(b){c.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=b},A.resetNextTimestamp=function(){c.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},A.resetInitSegment=function(){c.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},A.getVideoStartPts=function(b){var E=!1,x=b.reduce(function(k,L){var S=L.pts-k;return S<-4294967296?(E=!0,d(k,L.pts)):S>0?k:L.pts},b[0].pts);return E&&c.logger.debug("PTS rollover detected"),x},A.remux=function(b,E,x,k,L,S,C,I){var D,P,F,U,M,V,H=L,z=L,j=b.pid>-1,Q=E.pid>-1,ie=E.samples.length,ne=b.samples.length>0,X=ie>1;if((!j||ne)&&(!Q||X)||this.ISGenerated||C){this.ISGenerated||(F=this.generateIS(b,E,L));var J=this.isVideoContiguous,se=-1;if(X&&(se=function(Y){for(var ee=0;ee<Y.length;ee++)if(Y[ee].key)return ee;return-1}(E.samples),!J&&this.config.forceKeyFrameOnDiscontinuity))if(V=!0,se>0){c.logger.warn("[mp4-remuxer]: Dropped "+se+" out of "+ie+" video samples due to a missing keyframe");var ce=this.getVideoStartPts(E.samples);E.samples=E.samples.slice(se),E.dropped+=se,z+=(E.samples[0].pts-ce)/(E.timescale||9e4)}else se===-1&&(c.logger.warn("[mp4-remuxer]: No keyframe found out of "+ie+" video samples"),V=!1);if(this.ISGenerated){if(ne&&X){var me=this.getVideoStartPts(E.samples),Fe=(d(b.samples[0].pts,me)-me)/E.inputTimeScale;H+=Math.max(0,Fe),z+=Math.max(0,-Fe)}if(ne){if(b.samplerate||(c.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),F=this.generateIS(b,E,L)),P=this.remuxAudio(b,H,this.isAudioContiguous,S,Q||X||I===a.PlaylistLevelType.AUDIO?z:void 0),X){var Oe=P?P.endPTS-P.startPTS:0;E.inputTimeScale||(c.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),F=this.generateIS(b,E,L)),D=this.remuxVideo(E,z,J,Oe)}}else X&&(D=this.remuxVideo(E,z,J,0));D&&(D.firstKeyFrame=se,D.independent=se!==-1)}}return this.ISGenerated&&(x.samples.length&&(M=this.remuxID3(x,L)),k.samples.length&&(U=this.remuxText(k,L))),{audio:P,video:D,initSegment:F,independent:V,text:U,id3:M}},A.generateIS=function(b,E,x){var k,L,S,C=b.samples,I=E.samples,D=this.typeSupported,P={},F=!Object(r.isFiniteNumber)(this._initPTS),U="audio/mp4";if(F&&(k=L=1/0),b.config&&C.length&&(b.timescale=b.samplerate,b.isAAC||(D.mpeg?(U="audio/mpeg",b.codec=""):D.mp3&&(b.codec="mp3")),P.audio={id:"audio",container:U,codec:b.codec,initSegment:!b.isAAC&&D.mpeg?new Uint8Array(0):o.default.initSegment([b]),metadata:{channelCount:b.channelCount}},F&&(S=b.inputTimeScale,k=L=C[0].pts-Math.round(S*x))),E.sps&&E.pps&&I.length&&(E.timescale=E.inputTimeScale,P.video={id:"main",container:"video/mp4",codec:E.codec,initSegment:o.default.initSegment([E]),metadata:{width:E.width,height:E.height}},F)){S=E.inputTimeScale;var M=this.getVideoStartPts(I),V=Math.round(S*x);L=Math.min(L,d(I[0].dts,M)-V),k=Math.min(k,M-V)}if(Object.keys(P).length)return this.ISGenerated=!0,F&&(this._initPTS=k,this._initDTS=L),{tracks:P,initPTS:k,timescale:S}},A.remuxVideo=function(b,E,x,k){var L,S,C,I=b.inputTimeScale,D=b.samples,P=[],F=D.length,U=this._initPTS,M=this.nextAvcDts,V=8,H=Number.POSITIVE_INFINITY,z=Number.NEGATIVE_INFINITY,j=0,Q=!1;x&&M!==null||(M=E*I-(D[0].pts-d(D[0].dts,D[0].pts)));for(var ie=0;ie<F;ie++){var ne=D[ie];ne.pts=d(ne.pts-U,M),ne.dts=d(ne.dts-U,M),ne.dts>ne.pts&&(j=Math.max(Math.min(j,ne.pts-ne.dts),-18e3)),ne.dts<D[ie>0?ie-1:ie].dts&&(Q=!0)}Q&&D.sort(function(lr,li){var dl=lr.dts-li.dts,fl=lr.pts-li.pts;return dl||fl}),S=D[0].dts,C=D[D.length-1].dts;var X=Math.round((C-S)/(F-1));if(j<0){if(j<-2*X){c.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(h.toMsFromMpegTsClock)(-X,!0)+" ms");for(var J=j,se=0;se<F;se++)D[se].dts=J=Math.max(J,D[se].pts-X),D[se].pts=Math.max(J,D[se].pts)}else{c.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(h.toMsFromMpegTsClock)(j,!0)+" ms to overcome this issue");for(var ce=0;ce<F;ce++)D[ce].dts=D[ce].dts+j}S=D[0].dts}if(x){var me=S-M,Fe=me>X;if(Fe||me<-1){Fe?c.logger.warn("AVC: "+Object(h.toMsFromMpegTsClock)(me,!0)+" ms ("+me+"dts) hole between fragments detected, filling it"):c.logger.warn("AVC: "+Object(h.toMsFromMpegTsClock)(-me,!0)+" ms ("+me+"dts) overlapping between fragments detected"),S=M;var Oe=D[0].pts-me;D[0].dts=S,D[0].pts=Oe,c.logger.log("Video: First PTS/DTS adjusted: "+Object(h.toMsFromMpegTsClock)(Oe,!0)+"/"+Object(h.toMsFromMpegTsClock)(S,!0)+", delta: "+Object(h.toMsFromMpegTsClock)(me,!0)+" ms")}}T&&(S=Math.max(0,S));for(var Y=0,ee=0,ae=0;ae<F;ae++){for(var fe=D[ae],ge=fe.units,_e=ge.length,xe=0,Te=0;Te<_e;Te++)xe+=ge[Te].data.length;ee+=xe,Y+=_e,fe.length=xe,fe.dts=Math.max(fe.dts,S),fe.pts=Math.max(fe.pts,fe.dts,0),H=Math.min(fe.pts,H),z=Math.max(fe.pts,z)}C=D[F-1].dts;var Ie,pe=ee+4*Y+8;try{Ie=new Uint8Array(pe)}catch{return void this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:f.ErrorTypes.MUX_ERROR,details:f.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:pe,reason:"fail allocating video mdat "+pe})}var Ne=new DataView(Ie.buffer);Ne.setUint32(0,pe),Ie.set(o.default.types.mdat,4);for(var Ae=0;Ae<F;Ae++){for(var Ue=D[Ae],Ke=Ue.units,Ye=0,it=0,nt=Ke.length;it<nt;it++){var _t=Ke[it],Ft=_t.data,sn=_t.data.byteLength;Ne.setUint32(V,sn),V+=4,Ie.set(Ft,V),V+=sn,Ye+=4+sn}if(Ae<F-1)L=D[Ae+1].dts-Ue.dts;else{var rt=this.config,on=Ue.dts-D[Ae>0?Ae-1:Ae].dts;if(rt.stretchShortVideoTrack&&this.nextAudioPts!==null){var ar=Math.floor(rt.maxBufferHole*I),Kt=(k?H+k*I:this.nextAudioPts)-Ue.pts;Kt>ar?((L=Kt-on)<0&&(L=on),c.logger.log("[mp4-remuxer]: It is approximately "+Kt/90+" ms to the next segment; using duration "+L/90+" ms for the last video frame.")):L=on}else L=on}var Qt=Math.round(Ue.pts-Ue.dts);P.push(new _(Ue.key,L,Ye,Qt))}if(P.length&&g&&g<70){var In=P[0].flags;In.dependsOn=2,In.isNonSync=0}console.assert(L!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=M=C+L,this.isVideoContiguous=!0;var ai={data1:o.default.moof(b.sequenceNumber++,S,m({},b,{samples:P})),data2:Ie,startPTS:H/I,endPTS:(z+L)/I,startDTS:S/I,endDTS:M/I,type:"video",hasAudio:!1,hasVideo:!0,nb:P.length,dropped:b.dropped};return b.samples=[],b.dropped=0,console.assert(Ie.length,"MDAT length must not be zero"),ai},A.remuxAudio=function(b,E,x,k,L){var S=b.inputTimeScale,C=S/(b.samplerate?b.samplerate:S),I=b.isAAC?1024:1152,D=I*C,P=this._initPTS,F=!b.isAAC&&this.typeSupported.mpeg,U=[],M=b.samples,V=F?0:8,H=this.nextAudioPts||-1,z=E*S;if(this.isAudioContiguous=x=x||M.length&&H>0&&(k&&Math.abs(z-H)<9e3||Math.abs(d(M[0].pts-P,z)-H)<20*D),M.forEach(function(Ft){Ft.pts=d(Ft.pts-P,z)}),!x||H<0){if(!(M=M.filter(function(Ft){return Ft.pts>=0})).length)return;H=L===0?0:k?Math.max(0,z):M[0].pts}if(b.isAAC)for(var j=L!==void 0,Q=this.config.maxAudioFramesDrift,ie=0,ne=H;ie<M.length;ie++){var X=M[ie],J=X.pts,se=J-ne,ce=Math.abs(1e3*se/S);if(se<=-Q*D&&j)ie===0&&(c.logger.warn("Audio frame @ "+(J/S).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*se/S)+" ms."),this.nextAudioPts=H=ne=J);else if(se>=Q*D&&ce<1e4&&j){var me=Math.round(se/D);(ne=J-me*D)<0&&(me--,ne+=D),ie===0&&(this.nextAudioPts=H=ne),c.logger.warn("[mp4-remuxer]: Injecting "+me+" audio frame @ "+(ne/S).toFixed(3)+"s due to "+Math.round(1e3*se/S)+" ms gap.");for(var Fe=0;Fe<me;Fe++){var Oe=Math.max(ne,0),Y=i.default.getSilentFrame(b.manifestCodec||b.codec,b.channelCount);Y||(c.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Y=X.unit.subarray()),M.splice(ie,0,{unit:Y,pts:Oe}),ne+=D,ie++}}X.pts=ne,ne+=D}for(var ee,ae=null,fe=null,ge=0,_e=M.length;_e--;)ge+=M[_e].unit.byteLength;for(var xe=0,Te=M.length;xe<Te;xe++){var Ie=M[xe],pe=Ie.unit,Ne=Ie.pts;if(fe!==null)U[xe-1].duration=Math.round((Ne-fe)/C);else{if(x&&b.isAAC&&(Ne=H),ae=Ne,!(ge>0))return;ge+=V;try{ee=new Uint8Array(ge)}catch{return void this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:f.ErrorTypes.MUX_ERROR,details:f.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:ge,reason:"fail allocating audio mdat "+ge})}F||(new DataView(ee.buffer).setUint32(0,ge),ee.set(o.default.types.mdat,4))}ee.set(pe,V);var Ae=pe.byteLength;V+=Ae,U.push(new _(!0,I,Ae,0)),fe=Ne}var Ue=U.length;if(Ue){var Ke=U[U.length-1];this.nextAudioPts=H=fe+C*Ke.duration;var Ye=F?new Uint8Array(0):o.default.moof(b.sequenceNumber++,ae/C,m({},b,{samples:U}));b.samples=[];var it=ae/S,nt=H/S,_t={data1:Ye,data2:ee,startPTS:it,endPTS:nt,startDTS:it,endDTS:nt,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ue};return this.isAudioContiguous=!0,console.assert(ee.length,"MDAT length must not be zero"),_t}},A.remuxEmptyAudio=function(b,E,x,k){var L=b.inputTimeScale,S=L/(b.samplerate?b.samplerate:L),C=this.nextAudioPts,I=(C!==null?C:k.startDTS*L)+this._initDTS,D=k.endDTS*L+this._initDTS,P=1024*S,F=Math.ceil((D-I)/P),U=i.default.getSilentFrame(b.manifestCodec||b.codec,b.channelCount);if(c.logger.warn("[mp4-remuxer]: remux empty Audio"),U){for(var M=[],V=0;V<F;V++){var H=I+V*P;M.push({unit:U,pts:H,dts:H})}return b.samples=M,this.remuxAudio(b,E,x,!1)}c.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},A.remuxID3=function(b,E){var x=b.samples.length;if(x){for(var k=b.inputTimeScale,L=this._initPTS,S=this._initDTS,C=0;C<x;C++){var I=b.samples[C];I.pts=d(I.pts-L,E*k)/k,I.dts=d(I.dts-S,E*k)/k}var D=b.samples;return b.samples=[],{samples:D}}},A.remuxText=function(b,E){var x=b.samples.length;if(x){for(var k=b.inputTimeScale,L=this._initPTS,S=0;S<x;S++){var C=b.samples[S];C.pts=d(C.pts-L,E*k)/k}b.samples.sort(function(D,P){return D.pts-P.pts});var I=b.samples;return b.samples=[],{samples:I}}},p}();function d(p,A){var b;if(A===null)return p;for(b=A<p?-8589934592:8589934592;Math.abs(p-A)>4294967296;)p+=b;return p}var _=function(p,A,b,E){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=A,this.size=b,this.cts=E,this.flags=new v(p)},v=function(p){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=p?2:1,this.isNonSync=p?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/mp4-tools.ts"),o=n("./src/loader/fragment.ts"),l=n("./src/utils/logger.ts"),f=function(){function h(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var m=h.prototype;return m.destroy=function(){},m.resetTimeStamp=function(g){this.initPTS=g,this.lastEndDTS=null},m.resetNextTimestamp=function(){this.lastEndDTS=null},m.resetInitSegment=function(g,w,T){this.audioCodec=w,this.videoCodec=T,this.generateInitSegment(g),this.emitInitSegment=!0},m.generateInitSegment=function(g){var w=this.audioCodec,T=this.videoCodec;if(!g||!g.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var y=this.initData=Object(i.parseInitSegment)(g);w||(w=a(y.audio,o.ElementaryStreamTypes.AUDIO)),T||(T=a(y.video,o.ElementaryStreamTypes.VIDEO));var d={};y.audio&&y.video?d.audiovideo={container:"video/mp4",codec:w+","+T,initSegment:g,id:"main"}:y.audio?d.audio={container:"audio/mp4",codec:w,initSegment:g,id:"audio"}:y.video?d.video={container:"video/mp4",codec:T,initSegment:g,id:"main"}:l.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=d},m.remux=function(g,w,T,y,d){var _=this.initPTS,v=this.lastEndDTS,p={audio:void 0,video:void 0,text:y,id3:T,initSegment:void 0};Object(r.isFiniteNumber)(v)||(v=this.lastEndDTS=d||0);var A=w.samples;if(!A||!A.length)return p;var b={initPTS:void 0,timescale:1},E=this.initData;if(E&&E.length||(this.generateInitSegment(A),E=this.initData),!E||!E.length)return l.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),p;this.emitInitSegment&&(b.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(_)||(this.initPTS=b.initPTS=_=c(E,A,v));var x=Object(i.getDuration)(A,E),k=v,L=x+k;Object(i.offsetStartDTS)(E,A,_),x>0?this.lastEndDTS=L:(l.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var S=!!E.audio,C=!!E.video,I="";S&&(I+="audio"),C&&(I+="video");var D={data1:A,startPTS:k,startDTS:k,endPTS:L,endDTS:L,type:I,hasAudio:S,hasVideo:C,nb:1,dropped:0};return p.audio=D.type==="audio"?D:void 0,p.video=D.type!=="audio"?D:void 0,p.text=y,p.id3=T,p.initSegment=b,p},h}(),c=function(h,m,g){return Object(i.getStartDTS)(h,m)-g};function a(h,m){var g=h==null?void 0:h.codec;return g&&g.length>4?g:g==="hvc1"?"hvc1.1.c.L120.90":g==="av01"?"av01.0.04M.08":g==="avc1"||m===o.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=f},"./src/task-loop.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function i(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var o=i.prototype;return o.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},o.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},o.onHandlerDestroyed=function(){},o.hasInterval=function(){return!!this._tickInterval},o.hasNextTick=function(){return!!this._tickTimer},o.setInterval=function(l){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,l),!0)},o.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},o.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},o.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},o.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},o.doTick=function(){},i}()},"./src/types/level.ts":function(e,t,n){function r(a,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}var i,o;function l(a,h){var m=a.canSkipUntil,g=a.canSkipDateRanges,w=a.endSN;return m&&(h!==void 0?h-w:0)<m?g?i.v2:i.Yes:i.No}n.r(t),n.d(t,"HlsSkip",function(){return i}),n.d(t,"getSkipValue",function(){return l}),n.d(t,"HlsUrlParameters",function(){return f}),n.d(t,"Level",function(){return c}),(o=i||(i={})).No="",o.Yes="YES",o.v2="v2";var f=function(){function a(h,m,g){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=h,this.part=m,this.skip=g}return a.prototype.addDirectives=function(h){var m=new self.URL(h);return this.msn!==void 0&&m.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&m.searchParams.set("_HLS_part",this.part.toString()),this.skip&&m.searchParams.set("_HLS_skip",this.skip),m.toString()},a}(),c=function(){function a(g){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[g.url],this.attrs=g.attrs,this.bitrate=g.bitrate,g.details&&(this.details=g.details),this.id=g.id||0,this.name=g.name,this.width=g.width||0,this.height=g.height||0,this.audioCodec=g.audioCodec,this.videoCodec=g.videoCodec,this.unknownCodecs=g.unknownCodecs,this.codecSet=[g.videoCodec,g.audioCodec].filter(function(w){return w}).join(",").replace(/\.[^.,]+/g,"")}var h,m;return h=a,(m=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(g){var w=g%this.url.length;this._urlId!==w&&(this.details=void 0,this._urlId=w)}}])&&r(h.prototype,m),a}()},"./src/types/loader.ts":function(e,t,n){var r,i,o,l;n.r(t),n.d(t,"PlaylistContextType",function(){return r}),n.d(t,"PlaylistLevelType",function(){return o}),(i=r||(r={})).MANIFEST="manifest",i.LEVEL="level",i.AUDIO_TRACK="audioTrack",i.SUBTITLE_TRACK="subtitleTrack",(l=o||(o={})).MAIN="main",l.AUDIO="audio",l.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(e,t,n){n.r(t),n.d(t,"ChunkMetadata",function(){return r});var r=function(i,o,l,f,c,a){f===void 0&&(f=0),c===void 0&&(c=-1),a===void 0&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=i,this.sn=o,this.id=l,this.size=f,this.part=c,this.partial=a}},"./src/utils/attr-list.ts":function(e,t,n){n.r(t),n.d(t,"AttrList",function(){return o});var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function l(c){for(var a in typeof c=="string"&&(c=l.parseAttrList(c)),c)c.hasOwnProperty(a)&&(this[a]=c[a])}var f=l.prototype;return f.decimalInteger=function(c){var a=parseInt(this[c],10);return a>Number.MAX_SAFE_INTEGER?1/0:a},f.hexadecimalInteger=function(c){if(this[c]){var a=(this[c]||"0x").slice(2);a=(1&a.length?"0":"")+a;for(var h=new Uint8Array(a.length/2),m=0;m<a.length/2;m++)h[m]=parseInt(a.slice(2*m,2*m+2),16);return h}return null},f.hexadecimalIntegerAsNumber=function(c){var a=parseInt(this[c],16);return a>Number.MAX_SAFE_INTEGER?1/0:a},f.decimalFloatingPoint=function(c){return parseFloat(this[c])},f.optionalFloat=function(c,a){var h=this[c];return h?parseFloat(h):a},f.enumeratedString=function(c){return this[c]},f.bool=function(c){return this[c]==="YES"},f.decimalResolution=function(c){var a=r.exec(this[c]);if(a!==null)return{width:parseInt(a[1],10),height:parseInt(a[2],10)}},l.parseAttrList=function(c){var a,h={};for(i.lastIndex=0;(a=i.exec(c))!==null;){var m=a[2];m.indexOf('"')===0&&m.lastIndexOf('"')===m.length-1&&(m=m.slice(1,-1)),h[a[1]]=m}return h},l}()},"./src/utils/binary-search.ts":function(e,t,n){n.r(t),t.default={search:function(r,i){for(var o=0,l=r.length-1,f=null,c=null;o<=l;){var a=i(c=r[f=(o+l)/2|0]);if(a>0)o=f+1;else{if(!(a<0))return c;l=f-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){n.r(t),n.d(t,"BufferHelper",function(){return o});var r=n("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},o=function(){function l(){}return l.isBuffered=function(f,c){try{if(f){for(var a=l.getBuffered(f),h=0;h<a.length;h++)if(c>=a.start(h)&&c<=a.end(h))return!0}}catch{}return!1},l.bufferInfo=function(f,c,a){try{if(f){var h,m=l.getBuffered(f),g=[];for(h=0;h<m.length;h++)g.push({start:m.start(h),end:m.end(h)});return this.bufferedInfo(g,c,a)}}catch{}return{len:0,start:c,end:c,nextStart:void 0}},l.bufferedInfo=function(f,c,a){c=Math.max(0,c),f.sort(function(b,E){var x=b.start-E.start;return x||E.end-b.end});var h=[];if(a)for(var m=0;m<f.length;m++){var g=h.length;if(g){var w=h[g-1].end;f[m].start-w<a?f[m].end>w&&(h[g-1].end=f[m].end):h.push(f[m])}else h.push(f[m])}else h=f;for(var T,y=0,d=c,_=c,v=0;v<h.length;v++){var p=h[v].start,A=h[v].end;if(c+a>=p&&c<A)d=p,y=(_=A)-c;else if(c+a<p){T=p;break}}return{len:y,start:d||0,end:_||0,nextStart:T}},l.getBuffered=function(f){try{return f.buffered}catch(c){return r.logger.log("failed to get media.buffered",c),i}},l}()},"./src/utils/cea-608-parser.ts":function(e,t,n){n.r(t),n.d(t,"Row",function(){return p}),n.d(t,"CaptionScreen",function(){return A});var r,i,o=n("./src/utils/logger.ts"),l={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},f=function(L){var S=L;return l.hasOwnProperty(L)&&(S=l[L]),String.fromCharCode(S)},c=15,a=100,h={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},m={17:2,18:4,21:6,22:8,23:10,19:13,20:15},g={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},w={25:2,26:4,29:6,30:8,31:10,27:13,28:15},T=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(i=r||(r={}))[i.ERROR=0]="ERROR",i[i.TEXT=1]="TEXT",i[i.WARNING=2]="WARNING",i[i.INFO=2]="INFO",i[i.DEBUG=3]="DEBUG",i[i.DATA=3]="DATA";var y=function(){function L(){this.time=null,this.verboseLevel=r.ERROR}return L.prototype.log=function(S,C){this.verboseLevel>=S&&o.logger.log(this.time+" ["+S+"] "+C)},L}(),d=function(L){for(var S=[],C=0;C<L.length;C++)S.push(L[C].toString(16));return S},_=function(){function L(C,I,D,P,F){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=C||"white",this.underline=I||!1,this.italics=D||!1,this.background=P||"black",this.flash=F||!1}var S=L.prototype;return S.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},S.setStyles=function(C){for(var I=["foreground","underline","italics","background","flash"],D=0;D<I.length;D++){var P=I[D];C.hasOwnProperty(P)&&(this[P]=C[P])}},S.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},S.equals=function(C){return this.foreground===C.foreground&&this.underline===C.underline&&this.italics===C.italics&&this.background===C.background&&this.flash===C.flash},S.copy=function(C){this.foreground=C.foreground,this.underline=C.underline,this.italics=C.italics,this.background=C.background,this.flash=C.flash},S.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},L}(),v=function(){function L(C,I,D,P,F,U){this.uchar=void 0,this.penState=void 0,this.uchar=C||" ",this.penState=new _(I,D,P,F,U)}var S=L.prototype;return S.reset=function(){this.uchar=" ",this.penState.reset()},S.setChar=function(C,I){this.uchar=C,this.penState.copy(I)},S.setPenState=function(C){this.penState.copy(C)},S.equals=function(C){return this.uchar===C.uchar&&this.penState.equals(C.penState)},S.copy=function(C){this.uchar=C.uchar,this.penState.copy(C.penState)},S.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},L}(),p=function(){function L(C){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var I=0;I<a;I++)this.chars.push(new v);this.logger=C,this.pos=0,this.currPenState=new _}var S=L.prototype;return S.equals=function(C){for(var I=!0,D=0;D<a;D++)if(!this.chars[D].equals(C.chars[D])){I=!1;break}return I},S.copy=function(C){for(var I=0;I<a;I++)this.chars[I].copy(C.chars[I])},S.isEmpty=function(){for(var C=!0,I=0;I<a;I++)if(!this.chars[I].isEmpty()){C=!1;break}return C},S.setCursor=function(C){this.pos!==C&&(this.pos=C),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>a&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=a)},S.moveCursor=function(C){var I=this.pos+C;if(C>1)for(var D=this.pos+1;D<I+1;D++)this.chars[D].setPenState(this.currPenState);this.setCursor(I)},S.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},S.insertChar=function(C){C>=144&&this.backSpace();var I=f(C);this.pos>=a?this.logger.log(r.ERROR,"Cannot insert "+C.toString(16)+" ("+I+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(I,this.currPenState),this.moveCursor(1))},S.clearFromPos=function(C){var I;for(I=C;I<a;I++)this.chars[I].reset()},S.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},S.clearToEndOfRow=function(){this.clearFromPos(this.pos)},S.getTextString=function(){for(var C=[],I=!0,D=0;D<a;D++){var P=this.chars[D].uchar;P!==" "&&(I=!1),C.push(P)}return I?"":C.join("")},S.setPenStyles=function(C){this.currPenState.setStyles(C),this.chars[this.pos].setPenState(this.currPenState)},L}(),A=function(){function L(C){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var I=0;I<c;I++)this.rows.push(new p(C));this.logger=C,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var S=L.prototype;return S.reset=function(){for(var C=0;C<c;C++)this.rows[C].clear();this.currRow=14},S.equals=function(C){for(var I=!0,D=0;D<c;D++)if(!this.rows[D].equals(C.rows[D])){I=!1;break}return I},S.copy=function(C){for(var I=0;I<c;I++)this.rows[I].copy(C.rows[I])},S.isEmpty=function(){for(var C=!0,I=0;I<c;I++)if(!this.rows[I].isEmpty()){C=!1;break}return C},S.backSpace=function(){this.rows[this.currRow].backSpace()},S.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},S.insertChar=function(C){this.rows[this.currRow].insertChar(C)},S.setPen=function(C){this.rows[this.currRow].setPenStyles(C)},S.moveCursor=function(C){this.rows[this.currRow].moveCursor(C)},S.setCursor=function(C){this.logger.log(r.INFO,"setCursor: "+C),this.rows[this.currRow].setCursor(C)},S.setPAC=function(C){this.logger.log(r.INFO,"pacData = "+JSON.stringify(C));var I=C.row-1;if(this.nrRollUpRows&&I<this.nrRollUpRows-1&&(I=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==I){for(var D=0;D<c;D++)this.rows[D].clear();var P=this.currRow+1-this.nrRollUpRows,F=this.lastOutputScreen;if(F){var U=F.rows[P].cueStartTime,M=this.logger.time;if(U&&M!==null&&U<M)for(var V=0;V<this.nrRollUpRows;V++)this.rows[I-this.nrRollUpRows+V+1].copy(F.rows[P+V])}}this.currRow=I;var H=this.rows[this.currRow];if(C.indent!==null){var z=C.indent,j=Math.max(z-1,0);H.setCursor(C.indent),C.color=H.chars[j].penState.foreground}var Q={foreground:C.color,underline:C.underline,italics:C.italics,background:"black",flash:!1};this.setPen(Q)},S.setBkgData=function(C){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(C)),this.backSpace(),this.setPen(C),this.insertChar(32)},S.setRollUpRows=function(C){this.nrRollUpRows=C},S.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(r.TEXT,this.getDisplayText());var C=this.currRow+1-this.nrRollUpRows,I=this.rows.splice(C,1)[0];I.clear(),this.rows.splice(this.currRow,0,I),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},S.getDisplayText=function(C){C=C||!1;for(var I=[],D="",P=-1,F=0;F<c;F++){var U=this.rows[F].getTextString();U&&(P=F+1,C?I.push("Row "+P+": '"+U+"'"):I.push(U.trim()))}return I.length>0&&(D=C?"["+I.join(" | ")+"]":I.join(`
`)),D},S.getTextAndFormat=function(){return this.rows},L}(),b=function(){function L(C,I,D){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=C,this.outputFilter=I,this.mode=null,this.verbose=0,this.displayedMemory=new A(D),this.nonDisplayedMemory=new A(D),this.lastOutputScreen=new A(D),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=D}var S=L.prototype;return S.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},S.getHandler=function(){return this.outputFilter},S.setHandler=function(C){this.outputFilter=C},S.setPAC=function(C){this.writeScreen.setPAC(C)},S.setBkgData=function(C){this.writeScreen.setBkgData(C)},S.setMode=function(C){C!==this.mode&&(this.mode=C,this.logger.log(r.INFO,"MODE="+C),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=C)},S.insertChars=function(C){for(var I=0;I<C.length;I++)this.writeScreen.insertChar(C[I]);var D=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,D+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},S.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},S.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},S.ccAOF=function(){},S.ccAON=function(){},S.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},S.ccRU=function(C){this.logger.log(r.INFO,"RU("+C+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(C)},S.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},S.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},S.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},S.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},S.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},S.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},S.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},S.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var C=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=C,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},S.ccTO=function(C){this.logger.log(r.INFO,"TO("+C+") - Tab Offset"),this.writeScreen.moveCursor(C)},S.ccMIDROW=function(C){var I={flash:!1};if(I.underline=C%2==1,I.italics=C>=46,I.italics)I.foreground="white";else{var D=Math.floor(C/2)-16;I.foreground=["white","green","blue","cyan","red","yellow","magenta"][D]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(I)),this.writeScreen.setPen(I)},S.outputDataUpdate=function(C){C===void 0&&(C=!1);var I=this.logger.time;I!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,I,this.lastOutputScreen),C&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:I):this.cueStartTime=I,this.lastOutputScreen.copy(this.displayedMemory))},S.cueSplitAtTime=function(C){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.displayedMemory),this.cueStartTime=C))},L}(),E=function(){function L(C,I,D){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var P=new y;this.channels=[null,new b(C,I,P),new b(C+1,D,P)],this.cmdHistory={a:null,b:null},this.logger=P}var S=L.prototype;return S.getHandler=function(C){return this.channels[C].getHandler()},S.setHandler=function(C,I){this.channels[C].setHandler(I)},S.addData=function(C,I){var D,P,F,U=!1;this.logger.time=C;for(var M=0;M<I.length;M+=2)if(P=127&I[M],F=127&I[M+1],P!==0||F!==0){if(this.logger.log(r.DATA,"["+d([I[M],I[M+1]])+"] -> ("+d([P,F])+")"),(D=this.parseCmd(P,F))||(D=this.parseMidrow(P,F)),D||(D=this.parsePAC(P,F)),D||(D=this.parseBackgroundAttributes(P,F)),!D&&(U=this.parseChars(P,F))){var V=this.currentChannel;V&&V>0?this.channels[V].insertChars(U):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}D||U||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+d([P,F])+" orig: "+d([I[M],I[M+1]]))}},S.parseCmd=function(C,I){var D=this.cmdHistory;if(!((C===20||C===28||C===21||C===29)&&I>=32&&I<=47||(C===23||C===31)&&I>=33&&I<=35))return!1;if(k(C,I,D))return x(null,null,D),this.logger.log(r.DEBUG,"Repeated command ("+d([C,I])+") is dropped"),!0;var P=C===20||C===21||C===23?1:2,F=this.channels[P];return C===20||C===21||C===28||C===29?I===32?F.ccRCL():I===33?F.ccBS():I===34?F.ccAOF():I===35?F.ccAON():I===36?F.ccDER():I===37?F.ccRU(2):I===38?F.ccRU(3):I===39?F.ccRU(4):I===40?F.ccFON():I===41?F.ccRDC():I===42?F.ccTR():I===43?F.ccRTD():I===44?F.ccEDM():I===45?F.ccCR():I===46?F.ccENM():I===47&&F.ccEOC():F.ccTO(I-32),x(C,I,D),this.currentChannel=P,!0},S.parseMidrow=function(C,I){var D=0;if((C===17||C===25)&&I>=32&&I<=47){if((D=C===17?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var P=this.channels[D];return!!P&&(P.ccMIDROW(I),this.logger.log(r.DEBUG,"MIDROW ("+d([C,I])+")"),!0)}return!1},S.parsePAC=function(C,I){var D,P=this.cmdHistory;if(!((C>=17&&C<=23||C>=25&&C<=31)&&I>=64&&I<=127||(C===16||C===24)&&I>=64&&I<=95))return!1;if(k(C,I,P))return x(null,null,P),!0;var F=C<=23?1:2;D=I>=64&&I<=95?F===1?h[C]:g[C]:F===1?m[C]:w[C];var U=this.channels[F];return!!U&&(U.setPAC(this.interpretPAC(D,I)),x(C,I,P),this.currentChannel=F,!0)},S.interpretPAC=function(C,I){var D,P={color:null,italics:!1,indent:null,underline:!1,row:C};return D=I>95?I-96:I-64,P.underline=(1&D)==1,D<=13?P.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(D/2)]:D<=15?(P.italics=!0,P.color="white"):P.indent=4*Math.floor((D-16)/2),P},S.parseChars=function(C,I){var D,P,F=null,U=null;if(C>=25?(D=2,U=C-8):(D=1,U=C),U>=17&&U<=19?(P=U===17?I+80:U===18?I+112:I+144,this.logger.log(r.INFO,"Special char '"+f(P)+"' in channel "+D),F=[P]):C>=32&&C<=127&&(F=I===0?[C]:[C,I]),F){var M=d(F);this.logger.log(r.DEBUG,"Char codes =  "+M.join(",")),x(C,I,this.cmdHistory)}return F},S.parseBackgroundAttributes=function(C,I){var D;if(!((C===16||C===24)&&I>=32&&I<=47||(C===23||C===31)&&I>=45&&I<=47))return!1;var P={};C===16||C===24?(D=Math.floor((I-32)/2),P.background=T[D],I%2==1&&(P.background=P.background+"_semi")):I===45?P.background="transparent":(P.foreground="black",I===47&&(P.underline=!0));var F=C<=23?1:2;return this.channels[F].setBkgData(P),x(C,I,this.cmdHistory),!0},S.reset=function(){for(var C=0;C<Object.keys(this.channels).length;C++){var I=this.channels[C];I&&I.reset()}this.cmdHistory={a:null,b:null}},S.cueSplitAtTime=function(C){for(var I=0;I<this.channels.length;I++){var D=this.channels[I];D&&D.cueSplitAtTime(C)}},L}();function x(L,S,C){C.a=L,C.b=S}function k(L,S,C){return C.a===L&&C.b===S}t.default=E},"./src/utils/codecs.ts":function(e,t,n){n.r(t),n.d(t,"isCodecType",function(){return i}),n.d(t,"isCodecSupportedInMp4",function(){return o});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(l,f){var c=r[f];return!!c&&c[l.slice(0,4)]===!0}function o(l,f){return MediaSource.isTypeSupported((f||"video")+'/mp4;codecs="'+l+'"')}},"./src/utils/cues.ts":function(e,t,n){n.r(t);var r=n("./src/utils/vttparser.ts"),i=n("./src/utils/webvtt-parser.ts"),o=n("./src/utils/texttrack-utils.ts"),l=/\s/,f={newCue:function(c,a,h,m){for(var g,w,T,y,d,_=[],v=self.VTTCue||self.TextTrackCue,p=0;p<m.rows.length;p++)if(T=!0,y=0,d="",!(g=m.rows[p]).isEmpty()){for(var A=0;A<g.chars.length;A++)l.test(g.chars[A].uchar)&&T?y++:(d+=g.chars[A].uchar,T=!1);g.cueStartTime=a,a===h&&(h+=1e-4),y>=16?y--:y++;var b=Object(r.fixLineBreaks)(d.trim()),E=Object(i.generateCueId)(a,h,b);c&&c.cues&&c.cues.getCueById(E)||((w=new v(a,h,b)).id=E,w.line=p+1,w.align="left",w.position=10+Math.min(80,10*Math.floor(8*y/32)),_.push(w))}return c&&_.length&&(_.sort(function(x,k){return x.line==="auto"||k.line==="auto"?0:x.line>8&&k.line>8?k.line-x.line:x.line-k.line}),_.forEach(function(x){return Object(o.addCueToTrack)(c,x)})),_}};t.default=f},"./src/utils/discontinuities.ts":function(e,t,n){n.r(t),n.d(t,"findFirstFragWithCC",function(){return l}),n.d(t,"shouldAlignOnDiscontinuities",function(){return f}),n.d(t,"findDiscontinuousReferenceFrag",function(){return c}),n.d(t,"adjustSlidingStart",function(){return h}),n.d(t,"alignStream",function(){return m}),n.d(t,"alignPDT",function(){return g});var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),o=n("./src/controller/level-helper.ts");function l(w,T){for(var y=null,d=0,_=w.length;d<_;d++){var v=w[d];if(v&&v.cc===T){y=v;break}}return y}function f(w,T,y){return!(!T.details||!(y.endCC>y.startCC||w&&w.cc<y.startCC))}function c(w,T){var y=w.fragments,d=T.fragments;if(d.length&&y.length){var _=l(y,d[0].cc);if(_&&(!_||_.startPTS))return _;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function a(w,T){if(w){var y=w.start+T;w.start=w.startPTS=y,w.endPTS=y+w.duration}}function h(w,T){for(var y=T.fragments,d=0,_=y.length;d<_;d++)a(y[d],w);T.fragmentHint&&a(T.fragmentHint,w),T.alignedSliding=!0}function m(w,T,y){T&&(function(d,_,v){if(f(d,v,_)){var p=c(v.details,_);p&&Object(r.isFiniteNumber)(p.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+_.url),h(p.start,_))}}(w,y,T),!y.alignedSliding&&T.details&&g(y,T.details),y.alignedSliding||!T.details||y.skippedSegments||Object(o.adjustSliding)(T.details,y))}function g(w,T){if(T.fragments.length&&w.hasProgramDateTime&&T.hasProgramDateTime){var y=T.fragments[0].programDateTime,d=w.fragments[0].programDateTime,_=(d-y)/1e3+T.fragments[0].start;_&&Object(r.isFiniteNumber)(_)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(d-y)+"ms, sliding:"+_.toFixed(3)+" "+w.url+" "),h(_,w))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){n.r(t);var r=n("./src/utils/ewma.ts"),i=function(){function o(f,c,a){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(f),this.fast_=new r.default(c)}var l=o.prototype;return l.update=function(f,c){var a=this.slow_,h=this.fast_;this.slow_.halfLife!==f&&(this.slow_=new r.default(f,a.getEstimate(),a.getTotalWeight())),this.fast_.halfLife!==c&&(this.fast_=new r.default(c,h.getEstimate(),h.getTotalWeight()))},l.sample=function(f,c){var a=(f=Math.max(f,this.minDelayMs_))/1e3,h=8*c/a;this.fast_.sample(a,h),this.slow_.sample(a,h)},l.canEstimate=function(){var f=this.fast_;return f&&f.getTotalWeight()>=this.minWeight_},l.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},l.destroy=function(){},o}();t.default=i},"./src/utils/ewma.ts":function(e,t,n){n.r(t);var r=function(){function i(l,f,c){f===void 0&&(f=0),c===void 0&&(c=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=l,this.alpha_=l?Math.exp(Math.log(.5)/l):0,this.estimate_=f,this.totalWeight_=c}var o=i.prototype;return o.sample=function(l,f){var c=Math.pow(this.alpha_,l);this.estimate_=f*(1-c)+c*this.estimate_,this.totalWeight_+=l},o.getTotalWeight=function(){return this.totalWeight_},o.getEstimate=function(){if(this.alpha_){var l=1-Math.pow(this.alpha_,this.totalWeight_);if(l)return this.estimate_/l}return this.estimate_},i}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){n.r(t),n.d(t,"fetchSupported",function(){return m});var r=n("./src/polyfills/number.ts"),i=n("./src/loader/load-stats.ts"),o=n("./src/demux/chunk-cache.ts");function l(y){var d=typeof Map=="function"?new Map:void 0;return(l=function(_){if(_===null||(v=_,Function.toString.call(v).indexOf("[native code]")===-1))return _;var v;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(d!==void 0){if(d.has(_))return d.get(_);d.set(_,p)}function p(){return f(_,arguments,h(this).constructor)}return p.prototype=Object.create(_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),a(p,_)})(y)}function f(y,d,_){return(f=c()?Reflect.construct:function(v,p,A){var b=[null];b.push.apply(b,p);var E=new(Function.bind.apply(v,b));return A&&a(E,A.prototype),E}).apply(null,arguments)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(y,d){return(a=Object.setPrototypeOf||function(_,v){return _.__proto__=v,_})(y,d)}function h(y){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(y)}function m(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var g=function(){function y(_){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=_.fetchSetup||w,this.controller=new self.AbortController,this.stats=new i.LoadStats}var d=y.prototype;return d.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},d.abortInternal=function(){var _=this.response;_&&_.ok||(this.stats.aborted=!0,this.controller.abort())},d.abort=function(){var _;this.abortInternal(),(_=this.callbacks)!==null&&_!==void 0&&_.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},d.load=function(_,v,p){var A=this,b=this.stats;if(b.loading.start)throw new Error("Loader can only be used once.");b.loading.start=self.performance.now();var E=function(S,C){var I={method:"GET",mode:"cors",credentials:"same-origin",signal:C};return S.rangeEnd&&(I.headers=new self.Headers({Range:"bytes="+S.rangeStart+"-"+String(S.rangeEnd-1)})),I}(_,this.controller.signal),x=p.onProgress,k=_.responseType==="arraybuffer",L=k?"byteLength":"length";this.context=_,this.config=v,this.callbacks=p,this.request=this.fetchSetup(_,E),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){A.abortInternal(),p.onTimeout(b,_,A.response)},v.timeout),self.fetch(this.request).then(function(S){if(A.response=A.loader=S,!S.ok){var C=S.status,I=S.statusText;throw new T(I||"fetch, bad network response",C,S)}return b.loading.first=Math.max(self.performance.now(),b.loading.start),b.total=parseInt(S.headers.get("Content-Length")||"0"),x&&Object(r.isFiniteNumber)(v.highWaterMark)?A.loadProgressively(S,b,_,v.highWaterMark,x):k?S.arrayBuffer():S.text()}).then(function(S){var C=A.response;self.clearTimeout(A.requestTimeout),b.loading.end=Math.max(self.performance.now(),b.loading.first),b.loaded=b.total=S[L];var I={url:C.url,data:S};x&&!Object(r.isFiniteNumber)(v.highWaterMark)&&x(b,_,S,C),p.onSuccess(I,b,_,C)}).catch(function(S){if(self.clearTimeout(A.requestTimeout),!b.aborted){var C=S.code||0;p.onError({code:C,text:S.message},_,S.details)}})},d.getCacheAge=function(){var _=null;if(this.response){var v=this.response.headers.get("age");_=v?parseFloat(v):null}return _},d.loadProgressively=function(_,v,p,A,b){A===void 0&&(A=0);var E=new o.default,x=_.body.getReader();return function k(){return x.read().then(function(L){if(L.done)return E.dataLength&&b(v,p,E.flush(),_),Promise.resolve(new ArrayBuffer(0));var S=L.value,C=S.length;return v.loaded+=C,C<A||E.dataLength?(E.push(S),E.dataLength>=A&&b(v,p,E.flush(),_)):b(v,p,S,_),k()}).catch(function(){return Promise.reject()})}()},y}();function w(y,d){return new self.Request(y.url,d)}var T=function(y){var d,_;function v(p,A,b){var E;return(E=y.call(this,p)||this).code=void 0,E.details=void 0,E.code=A,E.details=b,E}return _=y,(d=v).prototype=Object.create(_.prototype),d.prototype.constructor=d,a(d,_),v}(l(Error));t.default=g},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){n.r(t),n.d(t,"IMSC1_CODEC",function(){return h}),n.d(t,"parseIMSC1",function(){return T});var r=n("./src/utils/mp4-tools.ts"),i=n("./src/utils/vttparser.ts"),o=n("./src/utils/vttcue.ts"),l=n("./src/demux/id3.ts"),f=n("./src/utils/timescale-conversion.ts"),c=n("./src/utils/webvtt-parser.ts");function a(){return(a=Object.assign||function(b){for(var E=1;E<arguments.length;E++){var x=arguments[E];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(b[k]=x[k])}return b}).apply(this,arguments)}var h="stpp.ttml.im1t",m=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,g=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,w={left:"start",center:"center",right:"end",start:"start",end:"end"};function T(b,E,x,k,L){var S=Object(r.findBox)(new Uint8Array(b),["mdat"]);if(S.length!==0){var C=S[0],I=Object(l.utf8ArrayToStr)(new Uint8Array(b,C.start,C.end-C.start)),D=Object(f.toTimescaleFromScale)(E,1,x);try{k(function(P,F){var U=new DOMParser().parseFromString(P,"text/xml").getElementsByTagName("tt")[0];if(!U)throw new Error("Invalid ttml");var M={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},V=Object.keys(M).reduce(function(ie,ne){return ie[ne]=U.getAttribute("ttp:"+ne)||M[ne],ie},{}),H=U.getAttribute("xml:space")!=="preserve",z=d(y(U,"styling","style")),j=d(y(U,"layout","region")),Q=y(U,"body","[begin]");return[].map.call(Q,function(ie){var ne=_(ie,H);if(!ne||!ie.hasAttribute("begin"))return null;var X=A(ie.getAttribute("begin"),V),J=A(ie.getAttribute("dur"),V),se=A(ie.getAttribute("end"),V);if(X===null)throw p(ie);if(se===null){if(J===null)throw p(ie);se=X+J}var ce=new o.default(X-F,se-F,ne);ce.id=Object(c.generateCueId)(ce.startTime,ce.endTime,ce.text);var me=j[ie.getAttribute("region")],Fe=z[ie.getAttribute("style")];ce.position=10,ce.size=80;var Oe=function(ae,fe){var ge="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(_e,xe){var Te=v(fe,ge,xe)||v(ae,ge,xe);return Te&&(_e[xe]=Te),_e},{})}(me,Fe),Y=Oe.textAlign;if(Y){var ee=w[Y];ee&&(ce.lineAlign=ee),ce.align=Y}return a(ce,Oe),ce}).filter(function(ie){return ie!==null})}(I,D))}catch(P){L(P)}}else L(new Error("Could not parse IMSC1 mdat"))}function y(b,E,x){var k=b.getElementsByTagName(E)[0];return k?[].slice.call(k.querySelectorAll(x)):[]}function d(b){return b.reduce(function(E,x){var k=x.getAttribute("xml:id");return k&&(E[k]=x),E},{})}function _(b,E){return[].slice.call(b.childNodes).reduce(function(x,k,L){var S;return k.nodeName==="br"&&L?x+`
`:(S=k.childNodes)!==null&&S!==void 0&&S.length?_(k,E):E?x+k.textContent.trim().replace(/\s+/g," "):x+k.textContent},"")}function v(b,E,x){return b.hasAttributeNS(E,x)?b.getAttributeNS(E,x):null}function p(b){return new Error("Could not parse ttml timestamp "+b)}function A(b,E){if(!b)return null;var x=Object(i.parseTimeStamp)(b);return x===null&&(m.test(b)?x=function(k,L){var S=m.exec(k),C=(0|S[4])+(0|S[5])/L.subFrameRate;return 3600*(0|S[1])+60*(0|S[2])+(0|S[3])+C/L.frameRate}(b,E):g.test(b)&&(x=function(k,L){var S=g.exec(k),C=Number(S[1]);switch(S[2]){case"h":return 3600*C;case"m":return 60*C;case"ms":return 1e3*C;case"f":return C/L.frameRate;case"t":return C/L.tickRate}return C}(b,E))),x}},"./src/utils/logger.ts":function(e,t,n){n.r(t),n.d(t,"enableLogs",function(){return f}),n.d(t,"logger",function(){return c});var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=i;function l(a){var h=self.console[a];return h?h.bind(self.console,"["+a+"] >"):r}function f(a){if(self.console&&a===!0||typeof a=="object"){(function(h){for(var m=arguments.length,g=new Array(m>1?m-1:0),w=1;w<m;w++)g[w-1]=arguments[w];g.forEach(function(T){o[T]=h[T]?h[T].bind(h):l(T)})})(a,"debug","log","info","warn","error");try{o.log()}catch{o=i}}else o=i}var c=i},"./src/utils/mediakeys-helper.ts":function(e,t,n){var r,i;n.r(t),n.d(t,"KeySystems",function(){return r}),n.d(t,"requestMediaKeySystemAccess",function(){return o}),(i=r||(r={})).WIDEVINE="com.widevine.alpha",i.PLAYREADY="com.microsoft.playready";var o=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",function(){return r})},"./src/utils/mp4-tools.ts":function(e,t,n){n.r(t),n.d(t,"bin2str",function(){return f}),n.d(t,"readUint16",function(){return c}),n.d(t,"readUint32",function(){return a}),n.d(t,"writeUint32",function(){return h}),n.d(t,"findBox",function(){return m}),n.d(t,"parseSegmentIndex",function(){return g}),n.d(t,"parseInitSegment",function(){return w}),n.d(t,"getStartDTS",function(){return T}),n.d(t,"getDuration",function(){return y}),n.d(t,"computeRawDurationFromSamples",function(){return d}),n.d(t,"offsetStartDTS",function(){return _}),n.d(t,"segmentValidRange",function(){return v}),n.d(t,"appendUint8Array",function(){return p});var r=n("./src/utils/typed-array.ts"),i=n("./src/loader/fragment.ts"),o=Math.pow(2,32)-1,l=[].push;function f(A){return String.fromCharCode.apply(null,A)}function c(A,b){"data"in A&&(b+=A.start,A=A.data);var E=A[b]<<8|A[b+1];return E<0?65536+E:E}function a(A,b){"data"in A&&(b+=A.start,A=A.data);var E=A[b]<<24|A[b+1]<<16|A[b+2]<<8|A[b+3];return E<0?4294967296+E:E}function h(A,b,E){"data"in A&&(b+=A.start,A=A.data),A[b]=E>>24,A[b+1]=E>>16&255,A[b+2]=E>>8&255,A[b+3]=255&E}function m(A,b){var E,x,k,L=[];if(!b.length)return L;"data"in A?(E=A.data,x=A.start,k=A.end):(x=0,k=(E=A).byteLength);for(var S=x;S<k;){var C=a(E,S),I=C>1?S+C:k;if(f(E.subarray(S+4,S+8))===b[0])if(b.length===1)L.push({data:E,start:S+8,end:I});else{var D=m({data:E,start:S+8,end:I},b.slice(1));D.length&&l.apply(L,D)}S=I}return L}function g(A){var b=m(A,["moov"])[0],E=b?b.end:null,x=m(A,["sidx"]);if(!x||!x[0])return null;var k=[],L=x[0],S=L.data[0],C=S===0?8:16,I=a(L,C);C+=4,C+=S===0?8:16,C+=2;var D=L.end+0,P=c(L,C);C+=2;for(var F=0;F<P;F++){var U=C,M=a(L,U);U+=4;var V=2147483647&M;if((2147483648&M)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var H=a(L,U);U+=4,k.push({referenceSize:V,subsegmentDuration:H,info:{duration:H/I,start:D,end:D+V-1}}),D+=V,C=U+=4}return{earliestPresentationTime:0,timescale:I,version:S,referencesCount:P,references:k,moovEndOffset:E}}function w(A){for(var b=[],E=m(A,["moov","trak"]),x=0;x<E.length;x++){var k=E[x],L=m(k,["tkhd"])[0];if(L){var S=L.data[L.start],C=S===0?12:20,I=a(L,C),D=m(k,["mdia","mdhd"])[0];if(D){var P=a(D,C=(S=D.data[D.start])===0?12:20),F=m(k,["mdia","hdlr"])[0];if(F){var U=f(F.data.subarray(F.start+8,F.start+12)),M={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[U];if(M){var V=m(k,["mdia","minf","stbl","stsd"])[0],H=void 0;V&&(H=f(V.data.subarray(V.start+12,V.start+16))),b[I]={timescale:P,type:M},b[M]={timescale:P,id:I,codec:H}}}}}}return m(A,["moov","mvex","trex"]).forEach(function(z){var j=a(z,4),Q=b[j];Q&&(Q.default={duration:a(z,12),flags:a(z,20)})}),b}function T(A,b){return m(b,["moof","traf"]).reduce(function(E,x){var k=m(x,["tfdt"])[0],L=k.data[k.start],S=m(x,["tfhd"]).reduce(function(C,I){var D=a(I,4),P=A[D];if(P){var F=a(k,4);L===1&&(F*=Math.pow(2,32),F+=a(k,8));var U=F/(P.timescale||9e4);if(isFinite(U)&&(C===null||U<C))return U}return C},null);return S!==null&&isFinite(S)&&(E===null||S<E)?S:E},null)||0}function y(A,b){for(var E=0,x=0,k=0,L=m(A,["moof","traf"]),S=0;S<L.length;S++){var C=L[S],I=m(C,["tfhd"])[0],D=b[a(I,4)];if(D){var P=D.default,F=a(I,0)|(P==null?void 0:P.flags),U=P==null?void 0:P.duration;8&F&&(U=a(I,2&F?12:8));for(var M=D.timescale||9e4,V=m(C,["trun"]),H=0;H<V.length;H++)E=U?U*a(V[H],4):d(V[H]),D.type===i.ElementaryStreamTypes.VIDEO?x+=E/M:D.type===i.ElementaryStreamTypes.AUDIO&&(k+=E/M)}}if(x===0&&k===0){var z=g(A);if(z!=null&&z.references)return z.references.reduce(function(j,Q){return j+Q.info.duration||0},0)}return x||k}function d(A){var b=a(A,0),E=8;1&b&&(E+=4),4&b&&(E+=4);for(var x=0,k=a(A,4),L=0;L<k;L++)256&b&&(x+=a(A,E),E+=4),512&b&&(E+=4),1024&b&&(E+=4),2048&b&&(E+=4);return x}function _(A,b,E){m(b,["moof","traf"]).forEach(function(x){m(x,["tfhd"]).forEach(function(k){var L=a(k,4),S=A[L];if(S){var C=S.timescale||9e4;m(x,["tfdt"]).forEach(function(I){var D=I.data[I.start],P=a(I,4);if(D===0)h(I,4,P-E*C);else{P*=Math.pow(2,32),P+=a(I,8),P-=E*C,P=Math.max(P,0);var F=Math.floor(P/(o+1)),U=Math.floor(P%(o+1));h(I,4,F),h(I,8,U)}})}})})}function v(A){var b={valid:null,remainder:null},E=m(A,["moof"]);if(!E)return b;if(E.length<2)return b.remainder=A,b;var x=E[E.length-1];return b.valid=Object(r.sliceUint8)(A,0,x.start-8),b.remainder=Object(r.sliceUint8)(A,x.start-8),b}function p(A,b){var E=new Uint8Array(A.length+b.length);return E.set(A),E.set(b,A.length),E}},"./src/utils/output-filter.ts":function(e,t,n){n.r(t),n.d(t,"default",function(){return r});var r=function(){function i(l,f){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=l,this.trackName=f}var o=i.prototype;return o.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},o.newCue=function(l,f,c){(this.startTime===null||this.startTime>l)&&(this.startTime=l),this.endTime=f,this.screen=c,this.timelineController.createCaptionsTrack(this.trackName)},o.reset=function(){this.cueRanges=[]},i}()},"./src/utils/texttrack-utils.ts":function(e,t,n){n.r(t),n.d(t,"sendAddTrackEvent",function(){return i}),n.d(t,"addCueToTrack",function(){return o}),n.d(t,"clearCurrentCues",function(){return l}),n.d(t,"removeCuesInRange",function(){return f}),n.d(t,"getCuesInRange",function(){return c});var r=n("./src/utils/logger.ts");function i(a,h){var m;try{m=new Event("addtrack")}catch{(m=document.createEvent("Event")).initEvent("addtrack",!1,!1)}m.track=a,h.dispatchEvent(m)}function o(a,h){var m=a.mode;if(m==="disabled"&&(a.mode="hidden"),a.cues&&!a.cues.getCueById(h.id))try{if(a.addCue(h),!a.cues.getCueById(h.id))throw new Error("addCue is failed for: "+h)}catch(w){r.logger.debug("[texttrack-utils]: "+w);var g=new self.TextTrackCue(h.startTime,h.endTime,h.text);g.id=h.id,a.addCue(g)}m==="disabled"&&(a.mode=m)}function l(a){var h=a.mode;if(h==="disabled"&&(a.mode="hidden"),a.cues)for(var m=a.cues.length;m--;)a.removeCue(a.cues[m]);h==="disabled"&&(a.mode=h)}function f(a,h,m){var g=a.mode;if(g==="disabled"&&(a.mode="hidden"),a.cues&&a.cues.length>0)for(var w=c(a.cues,h,m),T=0;T<w.length;T++)a.removeCue(w[T]);g==="disabled"&&(a.mode=g)}function c(a,h,m){var g=[],w=function(_,v){if(v<_[0].startTime)return 0;var p=_.length-1;if(v>_[p].endTime)return-1;for(var A=0,b=p;A<=b;){var E=Math.floor((b+A)/2);if(v<_[E].startTime)b=E-1;else{if(!(v>_[E].startTime&&A<p))return E;A=E+1}}return _[A].startTime-v<v-_[b].startTime?A:b}(a,h);if(w>-1)for(var T=w,y=a.length;T<y;T++){var d=a[T];if(d.startTime>=h&&d.endTime<=m)g.push(d);else if(d.startTime>m)return g}return g}},"./src/utils/time-ranges.ts":function(e,t,n){n.r(t),t.default={toString:function(r){for(var i="",o=r.length,l=0;l<o;l++)i+="["+r.start(l).toFixed(3)+","+r.end(l).toFixed(3)+"]";return i}}},"./src/utils/timescale-conversion.ts":function(e,t,n){function r(f,c,a,h){a===void 0&&(a=1),h===void 0&&(h=!1);var m=f*c*a;return h?Math.round(m):m}function i(f,c,a,h){return a===void 0&&(a=1),h===void 0&&(h=!1),r(f,c,1/a,h)}function o(f,c){return c===void 0&&(c=!1),r(f,1e3,1/9e4,c)}function l(f,c){return c===void 0&&(c=1),r(f,9e4,1/c)}n.r(t),n.d(t,"toTimescaleFromBase",function(){return r}),n.d(t,"toTimescaleFromScale",function(){return i}),n.d(t,"toMsFromMpegTsClock",function(){return o}),n.d(t,"toMpegTsClockFromTimescale",function(){return l})},"./src/utils/typed-array.ts":function(e,t,n){function r(i,o,l){return Uint8Array.prototype.slice?i.slice(o,l):new Uint8Array(Array.prototype.slice.call(i,o,l))}n.r(t),n.d(t,"sliceUint8",function(){return r})},"./src/utils/vttcue.ts":function(e,t,n){n.r(t),t.default=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var r=["","lr","rl"],i=["start","middle","end","left","right"];function o(a,h){if(typeof h!="string"||!Array.isArray(a))return!1;var m=h.toLowerCase();return!!~a.indexOf(m)&&m}function l(a){return o(i,a)}function f(a){for(var h=arguments.length,m=new Array(h>1?h-1:0),g=1;g<h;g++)m[g-1]=arguments[g];for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var y in T)a[y]=T[y]}return a}function c(a,h,m){var g=this,w={enumerable:!0};g.hasBeenReset=!1;var T="",y=!1,d=a,_=h,v=m,p=null,A="",b=!0,E="auto",x="start",k=50,L="middle",S=50,C="middle";Object.defineProperty(g,"id",f({},w,{get:function(){return T},set:function(I){T=""+I}})),Object.defineProperty(g,"pauseOnExit",f({},w,{get:function(){return y},set:function(I){y=!!I}})),Object.defineProperty(g,"startTime",f({},w,{get:function(){return d},set:function(I){if(typeof I!="number")throw new TypeError("Start time must be set to a number.");d=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"endTime",f({},w,{get:function(){return _},set:function(I){if(typeof I!="number")throw new TypeError("End time must be set to a number.");_=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"text",f({},w,{get:function(){return v},set:function(I){v=""+I,this.hasBeenReset=!0}})),Object.defineProperty(g,"region",f({},w,{get:function(){return p},set:function(I){p=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"vertical",f({},w,{get:function(){return A},set:function(I){var D=function(P){return o(r,P)}(I);if(D===!1)throw new SyntaxError("An invalid or illegal string was specified.");A=D,this.hasBeenReset=!0}})),Object.defineProperty(g,"snapToLines",f({},w,{get:function(){return b},set:function(I){b=!!I,this.hasBeenReset=!0}})),Object.defineProperty(g,"line",f({},w,{get:function(){return E},set:function(I){if(typeof I!="number"&&I!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");E=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"lineAlign",f({},w,{get:function(){return x},set:function(I){var D=l(I);if(!D)throw new SyntaxError("An invalid or illegal string was specified.");x=D,this.hasBeenReset=!0}})),Object.defineProperty(g,"position",f({},w,{get:function(){return k},set:function(I){if(I<0||I>100)throw new Error("Position must be between 0 and 100.");k=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"positionAlign",f({},w,{get:function(){return L},set:function(I){var D=l(I);if(!D)throw new SyntaxError("An invalid or illegal string was specified.");L=D,this.hasBeenReset=!0}})),Object.defineProperty(g,"size",f({},w,{get:function(){return S},set:function(I){if(I<0||I>100)throw new Error("Size must be between 0 and 100.");S=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"align",f({},w,{get:function(){return C},set:function(I){var D=l(I);if(!D)throw new SyntaxError("An invalid or illegal string was specified.");C=D,this.hasBeenReset=!0}})),g.displayState=void 0}return c.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},c}()},"./src/utils/vttparser.ts":function(e,t,n){n.r(t),n.d(t,"parseTimeStamp",function(){return o}),n.d(t,"fixLineBreaks",function(){return m}),n.d(t,"VTTParser",function(){return g});var r=n("./src/utils/vttcue.ts"),i=function(){function w(){}return w.prototype.decode=function(T,y){if(!T)return"";if(typeof T!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(T))},w}();function o(w){function T(d,_,v,p){return 3600*(0|d)+60*(0|_)+(0|v)+parseFloat(p||0)}var y=w.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return y?parseFloat(y[2])>59?T(y[2],y[3],0,y[4]):T(y[1],y[2],y[3],y[4]):null}var l=function(){function w(){this.values=Object.create(null)}var T=w.prototype;return T.set=function(y,d){this.get(y)||d===""||(this.values[y]=d)},T.get=function(y,d,_){return _?this.has(y)?this.values[y]:d[_]:this.has(y)?this.values[y]:d},T.has=function(y){return y in this.values},T.alt=function(y,d,_){for(var v=0;v<_.length;++v)if(d===_[v]){this.set(y,d);break}},T.integer=function(y,d){/^-?\d+$/.test(d)&&this.set(y,parseInt(d,10))},T.percent=function(y,d){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(d)){var _=parseFloat(d);if(_>=0&&_<=100)return this.set(y,_),!0}return!1},w}();function f(w,T,y,d){var _=d?w.split(d):[w];for(var v in _)if(typeof _[v]=="string"){var p=_[v].split(y);p.length===2&&T(p[0],p[1])}}var c=new r.default(0,0,""),a=c.align==="middle"?"middle":"center";function h(w,T,y){var d=w;function _(){var p=o(w);if(p===null)throw new Error("Malformed timestamp: "+d);return w=w.replace(/^[^\sa-zA-Z-]+/,""),p}function v(){w=w.replace(/^\s+/,"")}if(v(),T.startTime=_(),v(),w.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+d);w=w.substr(3),v(),T.endTime=_(),v(),function(p,A){var b=new l;f(p,function(k,L){var S;switch(k){case"region":for(var C=y.length-1;C>=0;C--)if(y[C].id===L){b.set(k,y[C].region);break}break;case"vertical":b.alt(k,L,["rl","lr"]);break;case"line":S=L.split(","),b.integer(k,S[0]),b.percent(k,S[0])&&b.set("snapToLines",!1),b.alt(k,S[0],["auto"]),S.length===2&&b.alt("lineAlign",S[1],["start",a,"end"]);break;case"position":S=L.split(","),b.percent(k,S[0]),S.length===2&&b.alt("positionAlign",S[1],["start",a,"end","line-left","line-right","auto"]);break;case"size":b.percent(k,L);break;case"align":b.alt(k,L,["start",a,"end","left","right"])}},/:/,/\s/),A.region=b.get("region",null),A.vertical=b.get("vertical","");var E=b.get("line","auto");E==="auto"&&c.line===-1&&(E=-1),A.line=E,A.lineAlign=b.get("lineAlign","start"),A.snapToLines=b.get("snapToLines",!0),A.size=b.get("size",100),A.align=b.get("align",a);var x=b.get("position","auto");x==="auto"&&c.position===50&&(x=A.align==="start"||A.align==="left"?0:A.align==="end"||A.align==="right"?100:50),A.position=x}(w,T)}function m(w){return w.replace(/<br(?: \/)?>/gi,`
`)}var g=function(){function w(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var T=w.prototype;return T.parse=function(y){var d=this;function _(){var E=d.buffer,x=0;for(E=m(E);x<E.length&&E[x]!=="\r"&&E[x]!==`
`;)++x;var k=E.substr(0,x);return E[x]==="\r"&&++x,E[x]===`
`&&++x,d.buffer=E.substr(x),k}y&&(d.buffer+=d.decoder.decode(y,{stream:!0}));try{var v="";if(d.state==="INITIAL"){if(!/\r\n|\n/.test(d.buffer))return this;var p=(v=_()).match(/^()?WEBVTT([ \t].*)?$/);if(!p||!p[0])throw new Error("Malformed WebVTT signature.");d.state="HEADER"}for(var A=!1;d.buffer;){if(!/\r\n|\n/.test(d.buffer))return this;switch(A?A=!1:v=_(),d.state){case"HEADER":/:/.test(v)?f(v,function(E,x){},/:/):v||(d.state="ID");continue;case"NOTE":v||(d.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(v)){d.state="NOTE";break}if(!v)continue;if(d.cue=new r.default(0,0,""),d.state="CUE",v.indexOf("-->")===-1){d.cue.id=v;continue}case"CUE":if(!d.cue){d.state="BADCUE";continue}try{h(v,d.cue,d.regionList)}catch{d.cue=null,d.state="BADCUE";continue}d.state="CUETEXT";continue;case"CUETEXT":var b=v.indexOf("-->")!==-1;if(!v||b&&(A=!0)){d.oncue&&d.cue&&d.oncue(d.cue),d.cue=null,d.state="ID";continue}if(d.cue===null)continue;d.cue.text&&(d.cue.text+=`
`),d.cue.text+=v;continue;case"BADCUE":v||(d.state="ID")}}}catch{d.state==="CUETEXT"&&d.cue&&d.oncue&&d.oncue(d.cue),d.cue=null,d.state=d.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},T.flush=function(){var y=this;try{if((y.cue||y.state==="HEADER")&&(y.buffer+=`

`,y.parse()),y.state==="INITIAL"||y.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(d){y.onparsingerror&&y.onparsingerror(d)}return y.onflush&&y.onflush(),this},w}()},"./src/utils/webvtt-parser.ts":function(e,t,n){n.r(t),n.d(t,"generateCueId",function(){return m}),n.d(t,"parseWebVTT",function(){return g});var r=n("./src/polyfills/number.ts"),i=n("./src/utils/vttparser.ts"),o=n("./src/demux/id3.ts"),l=n("./src/utils/timescale-conversion.ts"),f=n("./src/remux/mp4-remuxer.ts"),c=/\r\n|\n\r|\n|\r/g,a=function(w,T,y){return y===void 0&&(y=0),w.substr(y,T.length)===T},h=function(w){for(var T=5381,y=w.length;y;)T=33*T^w.charCodeAt(--y);return(T>>>0).toString()};function m(w,T,y){return h(w.toString())+h(T.toString())+h(y)}function g(w,T,y,d,_,v,p,A){var b,E=new i.VTTParser,x=Object(o.utf8ArrayToStr)(new Uint8Array(w)).trim().replace(c,`
`).split(`
`),k=[],L=Object(l.toMpegTsClockFromTimescale)(T,y),S="00:00.000",C=0,I=0,D=!0,P=!1;E.oncue=function(F){var U=d[_],M=d.ccOffset,V=(C-L)/9e4;if(U!=null&&U.new&&(I!==void 0?M=d.ccOffset=U.start:function(Q,ie,ne){var X=Q[ie],J=Q[X.prevCC];if(!J||!J.new&&X.new)return Q.ccOffset=Q.presentationOffset=X.start,void(X.new=!1);for(;(se=J)!==null&&se!==void 0&&se.new;){var se;Q.ccOffset+=X.start-J.start,X.new=!1,J=Q[(X=J).prevCC]}Q.presentationOffset=ne}(d,_,V)),V&&(M=V-d.presentationOffset),P){var H=F.endTime-F.startTime,z=Object(f.normalizePts)(9e4*(F.startTime+M-I),9e4*v)/9e4;F.startTime=z,F.endTime=z+H}var j=F.text.trim();F.text=decodeURIComponent(encodeURIComponent(j)),F.id||(F.id=m(F.startTime,F.endTime,j)),F.endTime>0&&k.push(F)},E.onparsingerror=function(F){b=F},E.onflush=function(){b?A(b):p(k)},x.forEach(function(F){if(D){if(a(F,"X-TIMESTAMP-MAP=")){D=!1,P=!0,F.substr(16).split(",").forEach(function(U){a(U,"LOCAL:")?S=U.substr(6):a(U,"MPEGTS:")&&(C=parseInt(U.substr(7)))});try{I=function(U){var M=parseInt(U.substr(-3)),V=parseInt(U.substr(-6,2)),H=parseInt(U.substr(-9,2)),z=U.length>9?parseInt(U.substr(0,U.indexOf(":"))):0;if(!(Object(r.isFiniteNumber)(M)&&Object(r.isFiniteNumber)(V)&&Object(r.isFiniteNumber)(H)&&Object(r.isFiniteNumber)(z)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+U);return M+=1e3*V,(M+=6e4*H)+36e5*z}(S)/1e3}catch(U){P=!1,b=U}return}F===""&&(D=!1)}E.parse(F+`
`)}),E.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){n.r(t);var r=n("./src/utils/logger.ts"),i=n("./src/loader/load-stats.ts"),o=/^age:\s*[\d.]+\s*$/m,l=function(){function f(a){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=a?a.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var c=f.prototype;return c.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},c.abortInternal=function(){var a=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),a&&(a.onreadystatechange=null,a.onprogress=null,a.readyState!==4&&(this.stats.aborted=!0,a.abort()))},c.abort=function(){var a;this.abortInternal(),(a=this.callbacks)!==null&&a!==void 0&&a.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},c.load=function(a,h,m){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=a,this.config=h,this.callbacks=m,this.retryDelay=h.retryDelay,this.loadInternal()},c.loadInternal=function(){var a=this.config,h=this.context;if(a){var m=this.loader=new self.XMLHttpRequest,g=this.stats;g.loading.first=0,g.loaded=0;var w=this.xhrSetup;try{if(w)try{w(m,h.url)}catch{m.open("GET",h.url,!0),w(m,h.url)}m.readyState||m.open("GET",h.url,!0)}catch(T){return void this.callbacks.onError({code:m.status,text:T.message},h,m)}h.rangeEnd&&m.setRequestHeader("Range","bytes="+h.rangeStart+"-"+(h.rangeEnd-1)),m.onreadystatechange=this.readystatechange.bind(this),m.onprogress=this.loadprogress.bind(this),m.responseType=h.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout),m.send()}},c.readystatechange=function(){var a=this.context,h=this.loader,m=this.stats;if(a&&h){var g=h.readyState,w=this.config;if(!m.aborted&&g>=2)if(self.clearTimeout(this.requestTimeout),m.loading.first===0&&(m.loading.first=Math.max(self.performance.now(),m.loading.start)),g===4){h.onreadystatechange=null,h.onprogress=null;var T=h.status;if(T>=200&&T<300){var y,d;if(m.loading.end=Math.max(self.performance.now(),m.loading.first),d=a.responseType==="arraybuffer"?(y=h.response).byteLength:(y=h.responseText).length,m.loaded=m.total=d,!this.callbacks)return;var _=this.callbacks.onProgress;if(_&&_(m,a,y,h),!this.callbacks)return;var v={url:h.responseURL,data:y};this.callbacks.onSuccess(v,m,a,h)}else m.retry>=w.maxRetry||T>=400&&T<499?(r.logger.error(T+" while loading "+a.url),this.callbacks.onError({code:T,text:h.statusText},a,h)):(r.logger.warn(T+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,w.maxRetryDelay),m.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),w.timeout)}},c.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var a=this.callbacks;a&&(this.abortInternal(),a.onTimeout(this.stats,this.context,this.loader))},c.loadprogress=function(a){var h=this.stats;h.loaded=a.loaded,a.lengthComputable&&(h.total=a.total)},c.getCacheAge=function(){var a=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var h=this.loader.getResponseHeader("age");a=h?parseFloat(h):null}return a},f}();t.default=l}}).default);var gf=zM(l1.exports);const $M={name:"d-icon"},Or=Object.assign($M,{props:{icon:String,size:[Number,String]},setup:function(e){const t=e,n=ve(()=>({fontSize:/^\d+$/.test(t.size)?t.size+"px":t.size}));return(r,i)=>(K(),W("i",{class:ut(["d-icon iconfont",e.icon]),style:_r(re(n))},null,6))}});Or.__scopeId="data-v-0c690e66";pt("data-v-4cb76d59");const HM={class:"d-player-top"},GM={class:"top-title"},KM={class:"top-title"};yt();const jM={props:{title:{default:""}},setup(e){Date.prototype.format=function(r){let i={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var o in i)new RegExp("("+o+")").test(r)&&(r=r.replace(RegExp.$1,RegExp.$1.length==1?i[o]:("00"+i[o]).substr((""+i[o]).length)));return r};let t=Z("00:00:00");t.value=new Date().format("hh:mm:ss");let n=null;return n=setInterval(()=>{t.value=new Date().format("hh:mm:ss")},1e3),si(()=>{clearInterval(n)}),(r,i)=>(K(),W("div",HM,[O("p",GM,le(e.title||""),1),O("p",KM,le(re(t)),1)]))},__scopeId:"data-v-4cb76d59"};pt("data-v-ac2469ec");const WM={class:"d-status"},qM={class:"d-flex-center"},YM={class:"d-flex-center"},QM=xt("5X\u901F\u64AD\u653E\u4E2D ");yt();var u1=we({props:["state"],setup:e=>(t,n)=>ft((K(),W("div",WM,[ft(O("li",qM,[B(Or,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(e.state.volume==0?"mute":e.state.volume>.5?"up":"down")},null,8,["icon"]),xt(" "+le(~~(100*e.state.volume))+"% ",1)],512),[[St,e.state.handleType=="volume"]]),ft(O("li",YM,[B(Or,{size:"12",icon:"icon-play"}),B(Or,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),QM],512),[[St,e.state.handleType=="playbackRate"||e.state.isMultiplesPlay]])],512)),[[St,e.state.handleType||e.state.isMultiplesPlay]])});u1.__scopeId="data-v-ac2469ec",pt("data-v-385f7870");const JM=["checked","true-value","false-value"],XM=O("span",{class:"d-switch_action"},null,-1);yt();var Ru=we({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e;Gh(l=>({"014e5dc0":e.width,e4e32852:e.activeColor}));const r=Z(null),i=ve(()=>n.modelValue===n.trueValue),o=()=>{Ze(()=>{const l=r.value.checked;t("update:modelValue",l),t("change",l)})};return(l,f)=>(K(),W("div",{class:ut(["d-switch",{"is-checked":re(i)}])},[O("input",{class:"d-switch__input",ref:r,type:"checkbox",checked:re(i),onChange:o,"true-value":e.trueValue,"false-value":e.falseValue},null,40,JM),XM],2))}});Ru.__scopeId="data-v-385f7870",pt("data-v-b2384226");const ZM={key:0},eN=O("i",{class:"rotating iconfont icon-loading f50"},null,-1),tN=[O("i",{class:"rotating iconfont icon-loading f50"},null,-1),O("p",null,"\u6B63\u5728\u7F13\u51B2...",-1)],nN=[O("i",{class:"iconfont icon-replay f24 mr5"},null,-1),xt("\u91CD\u65B0\u64AD\u653E ")],rN=[O("i",{class:"iconfont icon-replay f24 mr5"},null,-1),xt("\u8BF7\u6C42\u9519\u8BEF ")];yt();var c1=we({props:{loadType:String,text:{type:String,default:""}},setup(e){const t=e,{proxy:n}=Yn(),r=["loadstart","waiting","ended","error","stalled"],i=()=>{n.$parent.play()},o=ve(()=>{let l="background: rgba(0, 0, 0, .1);z-index:1";return t.loadType=="loadstart"&&(l="background: rgba(0, 0, 0, 1);;z-index:3"),l});return(l,f)=>ft((K(),W("div",{class:"d-loading",style:_r(re(o))},[O("div",null,[e.loadType=="loadstart"?(K(),W("span",ZM,[eN,O("p",null,le(e.text),1)])):De("",!0),ft(O("span",null,tN,512),[[St,e.loadType=="waiting"]]),ft(O("span",null,[O("p",{onClick:i,class:"d-flex-x d-pointer"},nN)],512),[[St,e.loadType=="ended"]]),ft(O("span",null,[O("p",{onClick:i,class:"d-flex-x d-pointer"},rN)],512),[[St,e.loadType=="error"||e.loadType=="stalled"]])])],4)),[[St,r.includes(e.loadType)]])}});c1.__scopeId="data-v-b2384226";const Us=function(e,t,n,r=!1){e&&t&&n&&e.addEventListener(t,n,r)},rr=function(e,t,n,r=!1){e&&t&&n&&e.removeEventListener(t,n,r)};pt("data-v-5a794390");const iN=["onMousedown"];yt();var Lo=we(sh(ih({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(e,{emit:t}){const n=e;Gh(d=>({"5242b67b":e.size}));const r=Z(null),i=Z(null),o=Et({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),l=ve(()=>{let d=n.modelValue<0?0:n.modelValue>1?1:n.modelValue;return n.vertical?`height:${100*d}%`:`width:${100*d}%`}),f=ve(()=>{let d=n.preload<0?0:n.preload>1?1:n.preload;return n.vertical?`height:${100*d}%`:`width:${100*d}%`}),c=ve(()=>{let d=o.hoverPosition<0?0:o.hoverPosition>1?1:o.hoverPosition;return n.vertical?`bottom:${100*d}%`:`left:${100*d}%`}),a=d=>{d.preventDefault()},h=d=>{n.disabled||(d.preventDefault(),o.dragging=!0,g(d),Us(window,"mousemove",T),Us(window,"touchmove",T),Us(window,"mouseup",y),Us(window,"touchend",y))},m=d=>{if(!n.hover)return;let _=w(d);if(t("onMousemove",d,_),o.hoverPosition=_,n.vertical)return;let v=r.value,p=i.value.clientWidth/2,A=d.clientX-v.getBoundingClientRect().left;A<p?o.hoverTipsLeft=p-A+"px":v.clientWidth-A<p?o.hoverTipsLeft=v.clientWidth-A-p+"px":o.hoverTipsLeft="50%"},g=d=>{let _=w(d);t("update:modelValue",_),t("change",d,_)},w=d=>{let _=r.value,v=0;if(n.vertical){let p=_.clientHeight;v=(_.getBoundingClientRect().bottom-d.clientY)/p}else v=(d.clientX-_.getBoundingClientRect().left)/_.clientWidth;return v<0?0:v>1?1:v},T=d=>{g(d)},y=d=>{o.dragging&&(rr(window,"mousemove",T),rr(window,"touchmove",T),rr(window,"mouseup",y),rr(window,"touchend",y),rr(window,"contextmenu",y),setTimeout(()=>{o.dragging=!1},0))};return(d,_)=>(K(),W("div",{ref:r,class:ut(["d-slider",{"is-vertical":n.vertical}]),onMousedown:Wt(h,["stop"]),onContextmenu:a},[O("div",{class:"d-slider__runway",onMousemove:m},[ft(O("div",{class:"d-slider__cursor",style:_r(re(c))},[ft(O("div",{class:"d-slider__tips",ref:i,style:_r({left:re(o).hoverTipsLeft})},le(n.hoverText),5),[[St,n.hoverText]])],4),[[St,n.hover]]),O("div",{class:"d-slider__preload",style:_r(re(f))},null,4),O("div",{class:"d-slider__bar",style:_r(re(l))},null,4)],32)],42,iN))}}));Lo.__scopeId="data-v-5a794390";pt("data-v-570fa0d1");const sN={key:0,class:"d-player-dialog"},oN={class:"d-player-dialog-body"},aN={class:"d-player-dialog-title"},lN={class:"d-player-hotkey-panel"},uN={class:"d-player-filter-panel"},cN={class:"d-player-filter-panel-item"},dN=O("span",null,"\u9971\u548C\u5EA6",-1),fN={class:"d-player-filter-panel-item"},hN=O("span",null,"\u4EAE\u5EA6",-1),gN={class:"d-player-filter-panel-item"},vN=O("span",null,"\u5BF9\u6BD4\u5EA6",-1),mN={key:0,class:"d-player-contextmenu"},pN=["dplayerKeyCode"],yN=O("input",{class:"d-player-copyText"},null,-1);yt();var d1=we({setup(e){const t=Et({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),n=[{label:"\u89C6\u9891\u8272\u5F69\u8C03\u6574",key:"filter"},{label:"\u5FEB\u6377\u952E\u8BF4\u660E",key:"hotkey"},{label:"\u590D\u5236\u89C6\u9891\u7F51\u5740",key:"copy"},{label:"\u7248\u672C\uFF1A1.3.1-beta.6",key:"version"}],r=[{key:"Space",label:"\u64AD\u653E/\u6682\u505C"},{key:"\u2192",label:"\u5355\u6B21\u5FEB\u8FDB10s\uFF0C\u957F\u63095\u500D\u901F\u64AD\u653E"},{key:"\u2190",label:"\u5FEB\u90005s"},{key:"\u2191",label:"\u97F3\u91CF\u589E\u52A010%"},{key:"\u2193",label:"\u97F3\u91CF\u589E\u52A0\u964D\u4F4E10%"},{key:"Esc",label:"\u9000\u51FA\u5168\u5C4F/\u9000\u51FA\u7F51\u9875\u5168\u5C4F"},{key:"F",label:"\u5168\u5C4F/\u9000\u51FA\u5168\u5C4F"}],i=Et({saturate:.392,brightness:.392,contrast:.392}),o=ve(()=>({left:t.mouseX+"px",top:t.mouseY+"px"}));Me(i,h=>{let m=document.querySelector("#dPlayerVideo"),g=(2.55*h.saturate).toFixed(2),w=(2.55*h.brightness).toFixed(2),T=(2.55*h.contrast).toFixed(2);m.style.filter=`saturate(${g}) brightness(${w}) contrast(${T})`});const l=()=>{i.saturate=.392,i.brightness=.392,i.contrast=.392},f=h=>{h.key=="Escape"&&a(0)},c=h=>{h.preventDefault(),Us(window,"keydown",f),Us(window,"click",a);let m=document.querySelector("#refPlayerWrap"),g=m.clientWidth;m.clientHeight,t.mouseX=h.clientX-m.getBoundingClientRect().left,g-t.mouseX<130&&(t.mouseX=t.mouseX+(g-t.mouseX-130)),t.mouseY=h.clientY-m.getBoundingClientRect().top,t.show=!0},a=h=>{let m=h.path[0].tagName=="LI",g=h.path[0].attributes.dplayerKeyCode&&h.path[0].attributes.dplayerKeyCode.value,w=n.map(T=>T.key);if(m&&w.includes(g))if(t.dialogTitle=h.path[0].innerText,t.dialogType=g,g=="copy"){let T=document.querySelector(".d-player-copyText");T.value=window.location.href,T.select(),document.execCommand("copy"),t.dialogType=""}else g=="version"&&(t.dialogType="");t.show=!1,rr(window,"keydown",f),rr(window,"click",a)};return Gt(()=>{let h=document.querySelector("#refPlayerWrap");rr(window,"keydown",f),rr(window,"click",a),rr(h,"contextmenu",c),Us(h,"contextmenu",c)}),si(()=>{let h=document.querySelector("#refPlayerWrap");rr(window,"keydown",f),rr(window,"click",a),rr(h,"contextmenu",c)}),(h,m)=>(K(),W("div",null,[B(xi,{name:"d-fade-in"},{default:et(()=>[re(t).dialogType?(K(),W("div",sN,[O("div",oN,[O("h5",aN,[xt(le(re(t).dialogTitle)+" ",1),O("i",{onClick:m[0]||(m[0]=g=>re(t).dialogType=!1),class:"icon icon-close"},"X")]),ft(O("ul",lN,[(K(),W(Le,null,We(r,g=>O("li",{class:"d-player-hotkey-panel-item",key:g.key},[O("span",null,le(g.key),1),O("span",null,le(g.label),1)])),64))],512),[[St,re(t).dialogType=="hotkey"]]),ft(O("ul",uN,[O("li",cN,[dN,B(Lo,{class:"filter-panel-slider",size:"5px",modelValue:re(i).saturate,"onUpdate:modelValue":m[1]||(m[1]=g=>re(i).saturate=g)},null,8,["modelValue"]),O("span",null,le(Math.round(255*re(i).saturate)),1)]),O("li",fN,[hN,B(Lo,{class:"filter-panel-slider",size:"5px",modelValue:re(i).brightness,"onUpdate:modelValue":m[2]||(m[2]=g=>re(i).brightness=g)},null,8,["modelValue"]),O("span",null,le(Math.round(255*re(i).brightness)),1)]),O("li",gN,[vN,B(Lo,{class:"filter-panel-slider",size:"5px",modelValue:re(i).contrast,"onUpdate:modelValue":m[3]||(m[3]=g=>re(i).contrast=g)},null,8,["modelValue"]),O("span",null,le(Math.round(255*re(i).contrast)),1)]),O("span",{onClick:l,title:"\u91CD\u7F6E","aria-label":"\u91CD\u7F6E",class:"d-player-filter-reset"},"\u91CD\u7F6E")],512),[[St,re(t).dialogType=="filter"]])])])):De("",!0)]),_:1}),re(t).show?(K(),W("div",mN,[O("ul",{class:"d-player-contextmenu-body",style:_r(re(o))},[(K(),W(Le,null,We(n,g=>O("li",{dplayerKeyCode:g.key,key:g.key},le(g.label),9,pN)),64))],4),yN])):De("",!0)]))}});d1.__scopeId="data-v-570fa0d1";const vf=e=>{let t=~~(e/3600),n=~~(e%3600/60),r=~~(e%60);return t=t<10?"0"+t:t,n=n<10?"0"+n:n,r=r<10?"0"+r:r,`${t}:${n}:${r}`},Ea="ontouchstart"in window,by=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],_N={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};pt("data-v-01791e9e");const AN={class:"d-player-video",id:"dPlayerVideo"},bN=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],EN={class:"d-player-lightoff"},SN={key:1,class:"d-player-state"},TN={class:"d-play-btn"},wN=["onKeyup","onKeydown"],CN={class:"d-control-progress"},kN={class:"d-tool-bar"},xN={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},IN=O("span",{style:{margin:"0 3px"}},"/",-1),RN={class:"total-time"},LN={class:"d-tool-bar"},DN={key:0,class:"d-tool-item quality-btn"},ON={class:"d-tool-item-main"},PN={class:"speed-main",style:{"text-align":"center"}},BN=["onClick"],FN={key:1,class:"d-tool-item speedRate-btn"},MN={class:"d-tool-item-main"},NN={class:"speed-main"},UN=["onClick"],VN={key:2,class:"d-tool-item volume-btn"},zN={class:"d-tool-item-main volume-box",style:{width:"52px"}},$N={class:"volume-text-size"},HN={key:3,class:"d-tool-item setting-btn"},GN={class:"d-tool-item-main"},KN={class:"speed-main"},jN=xt(" \u955C\u50CF\u753B\u9762 "),WN=xt(" \u5FAA\u73AF\u64AD\u653E "),qN=xt(" \u5173\u706F\u6A21\u5F0F "),YN=O("div",{class:"d-tool-item-main"},"\u753B\u4E2D\u753B",-1),QN=O("div",{class:"d-tool-item-main"},"\u7F51\u9875\u5168\u5C4F",-1),JN=O("div",{class:"d-tool-item-main"},"\u5168\u5C4F",-1);yt();var Gs=we(sh(ih({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:_N,emits:[...by,"mirrorChange","loopChange","lightOffChange"],setup:function(e,{expose:t,emit:n}){const r=e;Gh(M=>({"51d4439c":re(w),"77e758a6":M.width,b8a1afc0:M.height}));const i=new gf({fragLoadingTimeOut:2e3}),o=Z(null),l=Z(null),f=Z(null),c=Z(null),a=Et(sh(ih({dVideo:null},r),{muted:r.muted,playBtnState:r.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),h=(...M)=>V=>M.reverse().reduce((H,z)=>z(H),V),m=by.reduce((M,V)=>{var H;return M[`on${H=V,H.charAt(0).toUpperCase()+H.slice(1)}`]=z=>{a.loadStateType=V,n(V,z)},M},{});m.onCanplay=h(m.onCanplay,()=>{a.playBtnState!="play"&&a.dVideo.play(),a.autoPlay&&(a.dVideo.play(),a.playBtnState="pause")}),m.onEnded=h(m.onEnded,()=>{a.playBtnState="replay"}),m.onDurationchange=M=>{n("durationchange",M),r.currentTime!=0&&(a.dVideo.currentTime=r.currentTime),m.onTimeupdate(M)},m.onProgress=M=>{console.log("\u7F13\u51B2\u4E2D..."),n("progress",M);let V=M.target.duration,H=M.target.buffered,z=M.target.buffered.length&&M.target.buffered.end(H-1);a.preloadBar=z/V},m.onTimeupdate=M=>{n("timeupdate",M);let V=M.duration||M.target.duration||0,H=M.currentTime||M.target.currentTime;a.playProgress=H/V,a.currentTime=vf(H),a.totalTime=vf(V)},m.onError=h(m.onError,()=>{a.playBtnState="replay"});let g=hR();for(let M in g)m[M]=g[M];const w=(T=a.color,`${parseInt("0x"+T.slice(1,3))},${parseInt("0x"+T.slice(3,5))},${parseInt("0x"+T.slice(5,7))}`);var T;const y=Ay(500,()=>{a.handleType=""}),d=M=>{M.preventDefault(),M.code=="ArrowUp"?a.volume=a.volume+.1>1?1:a.volume+.1:a.volume=a.volume-.1<0?0:a.volume-.1,a.muted=!1,a.handleType="volume",y()},_=M=>{r.speed&&(a.dVideo.currentTime=a.dVideo.currentTime<10?.1:a.dVideo.currentTime-10,m.onTimeupdate(a.dVideo),A())},v=M=>{M.preventDefault();let V=M.type;if(M.key=="ArrowRight"){if(A(),V=="keyup"){if(clearTimeout(a.longPressTimeout),!r.speed&&!a.longPressTimeout)return;a.isMultiplesPlay?(a.dVideo.playbackRate=a.speedActive,a.isMultiplesPlay=!1):(a.dVideo.currentTime=a.dVideo.currentTime+10,m.onTimeupdate(a.dVideo))}else if(V=="keydown"){if(!r.speed)return;a.isMultiplesPlay&&clearTimeout(a.longPressTimeout),a.longPressTimeout=setTimeout(()=>{a.isMultiplesPlay=!0,a.dVideo.playbackRate=5,a.handleType="playbackRate",y()},500)}}},p=()=>{Ea||c.value.focus()},A=()=>{a.loadStateType="play",a.dVideo.play().catch(()=>{setTimeout(()=>{a.playBtnState="replay",a.loadStateType="error"},500)}),a.playBtnState="pause"},b=()=>{a.dVideo.pause(),a.playBtnState="play"},E=M=>{M&&M.preventDefault(),a.playBtnState=="play"||a.playBtnState=="replay"?A():a.playBtnState=="pause"&&b()},x=()=>{a.muted=!a.muted,a.volume==0&&(a.volume=.05)},k=(M,V)=>{let H=a.dVideo.duration||a.dVideo.target.duration;a.dVideo.currentTime=H*V,a.playBtnState=="play"&&(a.dVideo.play(),a.playBtnState="pause")},L=(M,V)=>{a.progressCursorTime=vf(a.dVideo.duration*V)},S=Ay(2500,()=>{a.isVideoHovering=!1}),C=M=>{a.isVideoHovering=!0,S()},I=M=>{n("mirrorChange",M,a.dVideo)},D=M=>{n("loopChange",M,a.dVideo)},P=M=>{n("lightOffChange",M,a.dVideo)},F=()=>{var M;M=a.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch(V=>{console.log(V,"Video failed to leave Picture-in-Picture mode.")}):M.requestPictureInPicture().catch(V=>{console.log(V,"Video failed to enter Picture-in-Picture mode.")})},U=()=>{a.fullScreen=(M=>{let V=document,H=V.webkitIsFullScreen||V.fullscreen;return H?(document.exitFullscreen||V.webkitExitFullScreen).call(V):(M.requestFullscreen||M.webkitRequestFullScreen).call(M),!H})(o.value)};return Me(()=>r.src,()=>{Ze(()=>{a.dVideo.canPlayType(r.type)||a.dVideo.canPlayType("application/vnd.apple.mpegurl")?a.muted=r.autoPlay:gf.isSupported()&&(i.detachMedia(),i.attachMedia(a.dVideo),i.on(gf.Events.MEDIA_ATTACHED,()=>{i.loadSource(r.src),i.on("hlsManifestParsed",(M,V)=>{console.log(V),a.currentLevel=V.level,a.qualityLevels=V.levels||[]})}),i.on("hlsLevelSwitching",(M,V)=>{console.log(V),console.log("LEVEL_SWITCHING")}),i.on("hlsLevelSwitched",(M,V)=>{a.currentLevel=V.level,console.log("LEVEL_SWITCHED")}))})},{immediate:!0}),Gt(()=>{a.dVideo=l,p()}),t({play:A,pause:b,togglePlay:E}),(M,V)=>(K(),W("div",{ref:o,id:"refPlayerWrap",class:ut(["d-player-wrap",{"web-full-screen":re(a).webFullScreen,"is-lightoff":re(a).lightOff,"d-player-wrap-hover":re(a).playBtnState=="play"||re(a).isVideoHovering}]),onMousemove:C},[O("div",AN,[O("video",gt({ref:l,class:["d-player-video-main",{"video-mirror":re(a).mirror}],id:"dPlayerVideoMain",controls:!(!re(Ea)||!re(a).speed),"webkit-playsinline":r.playsinline,playsinline:r.playsinline},re(m),{volume:re(a).volume,muted:re(a).muted,loop:re(a).loop,preload:M.preload,width:"100%",height:"100%",src:r.src,poster:r.poster}),"\u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301Video\u6807\u7B7E\u3002",16,bN)]),B(xi,{name:"d-fade-in"},{default:et(()=>[ft(O("div",EN,null,512),[[St,re(a).lightOff]])]),_:1}),re(a).fullScreen?(K(),Bn(jM,{key:0,title:r.title},null,8,["title"])):De("",!0),re(Ea)?De("",!0):(K(),W("div",SN,[B(xi,{name:"d-scale-out"},{default:et(()=>[ft(O("div",TN,[B(Or,{icon:"icon-play",size:40})],512),[[St,re(a).playBtnState=="play"]])]),_:1}),B(u1,{state:re(a)},null,8,["state"])])),re(Ea)?De("",!0):(K(),W("input",{key:2,type:"input",readonly:"readonly",ref:c,onDblclick:U,onKeyup:[ts(U,["f"]),V[0]||(V[0]=ts(H=>re(a).webFullScreen=!1,["esc"])),v],onClick:E,onKeydown:[ts(E,["space"]),ts(_,["arrow-left"]),ts(d,["arrow-up","arrow-down"]),v],class:"d-player-input",maxlength:"0"},null,40,wN)),B(c1,{loadType:re(a).loadStateType},null,8,["loadType"]),B(d1),!re(Ea)&&re(a).control?(K(),W("div",{key:3,class:"d-player-control",ref:f},[O("div",CN,[B(Lo,{class:"d-progress-bar",onOnMousemove:L,onChange:k,disabled:!re(a).speed,hoverText:re(a).progressCursorTime,modelValue:re(a).playProgress,"onUpdate:modelValue":V[1]||(V[1]=H=>re(a).playProgress=H),preload:re(a).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),O("div",{class:"d-control-tool",onClick:p},[O("div",kN,[O("div",{class:"d-tool-item",onClick:E},[B(Or,{size:"24",icon:`icon-${re(a).playBtnState}`},null,8,["icon"])]),r.controlBtns.includes("audioTrack")?(K(),W("div",xN,[O("span",null,le(re(a).currentTime),1),IN,O("span",RN,le(re(a).totalTime),1)])):De("",!0)]),O("div",LN,[re(a).qualityLevels.length&&r.controlBtns.includes("quality")?(K(),W("div",DN,[xt(le(re(a).qualityLevels.length&&(re(a).qualityLevels[re(a).currentLevel]||{}).height)+"P ",1),O("div",ON,[O("ul",PN,[(K(!0),W(Le,null,We(re(a).qualityLevels,(H,z)=>(K(),W("li",{class:ut({"speed-active":re(a).currentLevel==z}),onClick:j=>((Q,ie)=>{i.currentLevel=ie,a.currentLevel=ie})(0,z),key:H},le(H.height)+"P",11,BN))),128))])])])):De("",!0),r.controlBtns.includes("speedRate")?(K(),W("div",FN,[xt(le(re(a).speedActive=="1.0"?"\u500D\u901F":re(a).speedActive+"x")+" ",1),O("div",MN,[O("ul",NN,[(K(!0),W(Le,null,We(re(a).speedRate,H=>(K(),W("li",{class:ut({"speed-active":re(a).speedActive==H}),onClick:z=>(j=>{a.speedActive=j,a.dVideo.playbackRate=j})(H),key:H},le(H)+"x",11,UN))),128))])])])):De("",!0),r.controlBtns.includes("volume")?(K(),W("div",VN,[O("div",zN,[O("div",{class:ut(["volume-main",{"is-muted":re(a).muted}])},[O("span",$N,le(re(a).muted?0:~~(100*re(a).volume))+"%",1),B(Lo,{onChange:V[2]||(V[2]=H=>re(a).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:re(a).volume,"onUpdate:modelValue":V[3]||(V[3]=H=>re(a).volume=H)},null,8,["modelValue"])],2)]),O("span",{onClick:x,style:{display:"flex"}},[B(Or,{size:"20",icon:"icon-volume-"+(re(a).volume==0||re(a).muted?"mute":re(a).volume>.5?"up":"down")},null,8,["icon"])])])):De("",!0),r.controlBtns.includes("setting")?(K(),W("div",HN,[B(Or,{size:"20",class:"rotateHover",icon:"icon-settings"}),O("div",GN,[O("ul",KN,[O("li",null,[jN,B(Ru,{onChange:I,modelValue:re(a).mirror,"onUpdate:modelValue":V[4]||(V[4]=H=>re(a).mirror=H)},null,8,["modelValue"])]),O("li",null,[WN,B(Ru,{onChange:D,modelValue:re(a).loop,"onUpdate:modelValue":V[5]||(V[5]=H=>re(a).loop=H)},null,8,["modelValue"])]),O("li",null,[qN,B(Ru,{onChange:P,modelValue:re(a).lightOff,"onUpdate:modelValue":V[6]||(V[6]=H=>re(a).lightOff=H)},null,8,["modelValue"])])])])])):De("",!0),r.controlBtns.includes("pip")?(K(),W("div",{key:4,class:"d-tool-item pip-btn",onClick:F},[B(Or,{size:"20",icon:"icon-pip"}),YN])):De("",!0),r.controlBtns.includes("pageFullScreen")?(K(),W("div",{key:5,class:"d-tool-item pip-btn",onClick:V[7]||(V[7]=H=>re(a).webFullScreen=!re(a).webFullScreen)},[B(Or,{size:"20",icon:"icon-web-screen"}),QN])):De("",!0),r.controlBtns.includes("fullScreen")?(K(),W("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:U},[JN,B(Or,{size:"20",icon:"icon-screen"})])):De("",!0)])])],512)):De("",!0)],34))}}));function XN(e){e.component(Gs.name,Gs)}Gs.__scopeId="data-v-01791e9e",Gs.install=XN;const ZN=e=>(console.log(e),rn.get(`recipe/flatcomments/${e}/0/20`));const Yt=e=>(pt("data-v-73a87337"),e=e(),yt(),e),e3={class:"menu-video"},t3={key:0},n3={key:1},r3=["src"],i3={class:"caipu"},s3={class:"autor"},o3={class:"guanzhu"},a3={class:"div1"},l3=["src"],u3={class:"username"},c3={class:"lvel"},d3={class:"cookstory"},f3={key:0,class:"cook"},h3=Yt(()=>O("img",{src:LM,alt:""},null,-1)),g3=Yt(()=>O("img",{src:DM,alt:""},null,-1)),v3={class:"add"},m3=Yt(()=>O("span",null,"\u98DF\u6750\u6E05\u5355",-1)),p3={class:"leftp"},y3={class:"rightp"},_3={class:"nourishment"},A3=Yt(()=>O("p",{class:"yyleft"},"\u8425\u517B\u5206\u6790",-1)),b3=Yt(()=>O("p",{class:"yyright"},"\u67E5\u770B\u8BE6\u60C5",-1)),E3=Yt(()=>O("div",{class:"diandian"},[O("div",{class:"dian1"}),O("div",{class:"dian2"}),O("div",{class:"dian3"})],-1)),S3={class:"facts"},T3={class:"shuliang"},w3=Yt(()=>O("br",null,null,-1)),C3=Yt(()=>O("span",{class:"qianka"},"\u5343\u5361",-1)),k3=Yt(()=>O("p",{class:"stepone"},"\u70F9\u996A\u6B65\u9AA4",-1)),x3={class:"step"},I3=["src"],R3={class:"releasetime"},L3={class:"menu-video-bottom"},D3=Yt(()=>O("h1",null,"\u5C0F\u8D34\u58EB",-1)),O3=d_('<div class="menu-video-footer" data-v-73a87337><div class="warper" data-v-73a87337><div class="card" data-v-73a87337><div class="box" data-v-73a87337><img src="'+OM+'" alt="" data-v-73a87337><h1 data-v-73a87337>\u4F20\u5B66\u505A</h1></div></div></div></div>',1),P3={class:"menu-video-mask"},B3={class:"warper"},F3={class:"card"},M3={class:"box"},N3=Yt(()=>O("img",{src:a1,alt:""},null,-1)),U3=Yt(()=>O("h1",null,"\u8BC4\u8BBA",-1)),V3=[N3,U3],z3=Yt(()=>O("div",{class:"two"},[O("img",{src:pc,alt:""}),O("h1",null,"\u6536\u85CF")],-1)),$3={class:"three"},H3=Yt(()=>O("img",{src:PM,alt:""},null,-1)),G3=Yt(()=>O("h1",null,"\u4F20\u5B66\u505A",-1)),K3={class:"menu-comment"},j3={class:"menu-comment-top"},W3={class:"left"},q3=Yt(()=>O("img",{src:BM,alt:""},null,-1)),Y3=[q3],Q3={key:0,class:"menu-comment-bottom-mask"},J3={key:1,class:"menu-comment-bottom"},X3={class:"test"},Z3={class:"left"},e4=Yt(()=>O("div",{class:"left-left"},[O("img",{src:X_,alt:""})],-1)),t4={class:"left-right"},n4={class:"top"},r4=Yt(()=>O("i",null,"LV.1",-1)),i4={class:"center"},s4=Yt(()=>O("div",{class:"right"},[O("div",{class:"right-left"},[O("img",{src:Er,alt:""})]),O("div",{class:"right-right"},[O("h1",null,"0")])],-1)),o4={class:"left"},a4={class:"left-left"},l4=["src"],u4={class:"left-right"},c4={class:"top"},d4={class:"center"},f4={class:"bottom"},h4=Yt(()=>O("p",null,": \u56DE\u590D",-1)),g4=Yt(()=>O("p",null,":",-1)),v4={class:"right"},m4=Yt(()=>O("div",{class:"right-left"},[O("img",{src:Er,alt:""})],-1)),p4={class:"right-right"},y4={class:"last-mask"},_4={class:"warper"},A4={class:"card"},b4={class:"box"},E4=Yt(()=>O("div",{class:"mask"},null,-1)),S4=["onKeyup"],T4={__name:"MenuView",setup(e){var k,L;const t=Tr(),n=Qn(),r=Z(""),i=Z(((k=JSON.parse(localStorage.getItem("user_comment")))==null?void 0:k.filter(S=>(S==null?void 0:S.userid)==JSON.parse(localStorage.getItem("logintrue"))[0].userid).filter(S=>S.menuid==t.query.id))||[]);console.log("user_comment",i.value);const o=zr(),l=Et({width:"100%",color:"black",position:"fixed",top:0,left:0,zIndex:99,muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!0,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:!0,title:""}),f=S=>{},c=S=>{},a=S=>{},h=S=>{},m=Z([]),g=Z([]);zu(t.query.id).then(S=>{console.log(S.data.result.recipe),g.value=S.data.result.recipe,m.value=S.data.result.recipe.nutrition_facts,console.log("canvas-arr",m.value)});const w=Z(null);Gt(()=>{zu(t.query.id).then(S=>{g.value=S.data.result.recipe,m.value=S.data.result.recipe.nutrition_facts,w.value.style.width=200,w.value.style.height=200,w.value.lineWidth=50,w.value.strokeStyle="red";const C=m.value;((D,P)=>{D.width=200,D.height=200;let F=D.getContext("2d");F.lineWidth=40;let U=0,M=-(Math.PI/2);P==null||P.forEach((V,H)=>{U=U+parseInt(V.amount)}),P==null||P.forEach((V,H)=>{F.beginPath(),F.strokeStyle=V.pie_chart_color,F.arc(100,100,80,M,parseInt(V.amount)/U*2*Math.PI+M),F.stroke(),M=parseInt(V.amount)/U*2*Math.PI+M})})(w.value,C)})});const T=Z([]);rP(t.query.id).then(S=>{T.value=S.data.result});const y=Z(!1),d=()=>{y.value=!0};let _=t.query.id;const v=Z({});ZN(_).then(S=>{console.log("comment",S.data.result),v.value=S.data.result});function p(){var C,I;console.log("\u53D1\u8868\u8BC4\u8BBA"),console.log((C=i==null?void 0:i.value)==null?void 0:C.length);let S=[];((I=i==null?void 0:i.value)==null?void 0:I.length)==0?S=[{userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,usercomment:r.value,menuid:t.query.id}]:S=[{userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,usercomment:r.value,menuid:t.query.id},...i.value],console.log(S),localStorage.setItem("user_comment",JSON.stringify(S)),r.value=""}const A=Z(""),b=Z(JSON.parse(localStorage.getItem("user_file"))||[]),E=Z((L=JSON.parse(localStorage.getItem("history_menu")))==null?void 0:L.filter(S=>S.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid)),x=S=>{console.log(S.file);let C=new FileReader;if(C.readAsDataURL(S.file),C.onload=()=>{A.value=C.result;let I={userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,dataURL:A.value},D=[];b.value==null?D=[I]:D=[I,...b.value],localStorage.setItem("user_file",JSON.stringify(D))},b.value=JSON.parse(localStorage.getItem("user_file")),E.value.filter(I=>I.menuid==t.query.id).length!=0){let I=E.value.filter(D=>(D.menuid==t.query.id&&(D.menufinish=!0),D));console.log("b",I),localStorage.setItem("history_menu",JSON.stringify(I))}};return(S,C)=>{var P,F,U;const I=Ge("van-uploader"),D=Ge("van-popup");return K(),W(Le,null,[O("div",e3,[g.value.vfurl!==""?(K(),W("div",t3,[B(re(Gs),gt(l,{onPlay:f,onPause:c,onTimeupdate:a,onCanplay:h,src:g.value.vfurl}),null,16,["src"])])):(K(),W("div",n3,[O("img",{src:g.value.original_photo_path,alt:""},null,8,r3)])),O("div",i3,[O("h2",null,le(g.value.title),1),O("p",null," \u7CBE\u54C1 \xB7 \u72EC\u5BB6 \xB7 \u6D4F\u89C8 "+le(g.value.views_count_text)+" \xB7 \u6536\u85CF "+le(g.value.favo_counts_text),1)]),O("div",s3,[O("div",o3,[O("div",a3,[O("img",{src:(P=g.value.user)==null?void 0:P.user_photo,alt:""},null,8,l3),O("span",null,[O("p",u3,le((F=g.value.user)==null?void 0:F.nickname),1),O("p",c3,"Lv."+le((U=g.value.user)==null?void 0:U.lvl),1)])]),O("div",{class:ut(["div2",{zzz:re(o).focus_author.filter(M=>{var V;return M.id==((V=g.value.user)==null?void 0:V.user_id)}).length}])},[re(o).focus_author.filter(M=>{var V;return M.id==((V=g.value.user)==null?void 0:V.user_id)}).length?(K(),W("span",{key:1,class:"refocu",onClick:C[1]||(C[1]=M=>{var V;return re(o).deleFocusAuthor((V=g.value.user)==null?void 0:V.user_id)})},"\u5DF2\u5173\u6CE8")):(K(),W("span",{key:0,class:"focu",onClick:C[0]||(C[0]=M=>{var V,H;return re(o).addFocusAuthor({id:(V=g.value.user)==null?void 0:V.user_id,image:g.value.user.user_photo,name:g.value.user.nickname,rank:g.value.user.lvl,intro:(H=g.value.user)==null?void 0:H.title})})},"\u5173\u6CE8"))],2),O("p",d3,le(g.value.cookstory),1),g.value.cook_time?(K(),W("div",f3,[O("div",null,[h3,O("span",null,le(g.value.cook_time),1)]),O("div",null,[g3,O("span",null,le(g.value.cook_difficulty),1)])])):De("",!0)])]),O("ul",null,[O("div",v3,[m3,re(o).purchase_list.filter(M=>M.id==S.$route.query.id).length?(K(),W("span",{key:1,onClick:C[3]||(C[3]=M=>re(o).deleteList(S.$route.query.id))},"\u79FB\u9664\u91C7\u8D2D\u6E05\u5355")):(K(),W("span",{key:0,onClick:C[2]||(C[2]=M=>re(o).addList({id:S.$route.query.id,image:g.value.photo_path,list:g.value.major}))},"\u52A0\u5165\u91C7\u8D2D\u6E05\u5355"))]),(K(!0),W(Le,null,We(g.value.major,M=>(K(),W("li",{class:"pname",key:M.note},[O("p",p3,le(M.title),1),O("p",y3,le(M.note),1)]))),128))]),O("div",_3,[A3,b3,O("canvas",{ref_key:"canvas",ref:w},null,512),E3,O("div",S3,[O("ul",null,[(K(!0),W(Le,null,We(g.value.nutrition_facts,M=>(K(),W("li",{key:M.calorie},le(M.nutrient),1))),128)),(K(!0),W(Le,null,We(g.value.nutrition_facts,M=>(K(),W("p",{li:"",key:M.calorie},le(M.amount),1))),128)),O("span",T3,le(g.value.energy),1),w3,C3]),O("h3",null,le(g.value.nutrition_facts_hint_text),1)])]),O("ul",null,[O("li",null,[k3,O("p",{class:"steptow",onClick:C[4]||(C[4]=M=>re(n).push({path:"/cooking",query:{id:re(t).query.id}}))},"\u70B9\u51FB\u56FE\u7247\u8FDB\u5165\u70F9\u996A\u6A21\u5F0F")]),(K(!0),W(Le,null,We(g.value.cookstep,M=>(K(),W("li",{key:M.position},[O("h2",x3,"\u6B65\u9AA4"+le(M.position)+"/"+le(g.value.cookstep.length),1),O("img",{src:M.image,alt:""},null,8,I3),O("p",null,le(M.step_content[0].name),1)]))),128)),O("p",R3,le(g.value.release_time),1)])]),O("div",L3,[D3,O("p",null,le(g.value.tips),1)]),O3,O("div",P3,[O("div",B3,[O("div",F3,[O("div",M3,[O("div",{class:"one",onClick:d},V3),z3,O("div",$3,[H3,G3,B(I,{"after-read":x,style:{position:"fixed",bottom:"-43rem",right:"19rem",opacity:"0","z-index":"2000"}})])])])])]),O("div",K3,[B(D,{show:y.value,"onUpdate:show":C[7]||(C[7]=M=>y.value=M),round:"",position:"bottom",style:{height:"70%"}},{default:et(()=>{var M,V,H,z,j;return[O("div",j3,[O("div",W3,[O("h1",null,"\u5168\u90E8\u8BC4\u8BBA("+le((V=(M=T.value)==null?void 0:M.comments)==null?void 0:V.length)+")",1)]),O("div",{class:"right",onClick:C[5]||(C[5]=Q=>y.value=!1)},Y3)]),((z=(H=T.value)==null?void 0:H.comments)==null?void 0:z.length)==0&&((j=i.value)==null?void 0:j.length)==0?(K(),W("div",Q3,[O("h1",null,le(T.value.el),1)])):(K(),W("ul",J3,[(K(!0),W(Le,null,We(i.value,Q=>(K(),W("li",X3,[O("div",Z3,[e4,O("div",t4,[O("div",n4,[O("h1",null,[xt(le(Q.userid)+" ",1),r4])]),O("div",i4,[O("h1",null,le(Q.usercomment),1)])])]),s4]))),256)),(K(!0),W(Le,null,We(T.value.comments,Q=>(K(),W("li",{key:Q.id},[O("div",o4,[O("div",a4,[O("img",{src:`${Q.u.p}`,alt:""},null,8,l4)]),O("div",u4,[O("div",c4,[O("h1",null,[xt(le(Q.u.n)+" ",1),O("i",null,"LV."+le(Q.u.lvl),1)])]),O("div",d4,[O("h1",null,le(Q.content[0].c),1)]),O("div",f4,[(K(!0),W(Le,null,We(Q.child_comments,ie=>(K(),W("div",null,[O("h1",null,le(ie.u.n),1),h4,O("h1",null,le(ie.reply_user.n),1),g4,O("p",null,le(ie.content[0].c),1)]))),256))])])]),O("div",v4,[m4,O("div",p4,[O("h1",null,le(Q.like_count),1)])])]))),128))])),O("div",y4,[O("div",_4,[O("div",A4,[O("div",b4,[E4,ft(O("input",{onKeyup:ts(p,["enter"]),"onUpdate:modelValue":C[6]||(C[6]=Q=>r.value=Q),type:"",name:"",placeholder:"\u6211\u4E5F\u60F3\u8BF4\u4E24\u53E5"},null,40,S4),[[fc,r.value]])])])])])]}),_:1},8,["show"])])],64)}}},w4=wt(T4,[["__scopeId","data-v-73a87337"]]),f1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAABYklEQVRo3u3UoVLDQBAG4L0gAFemCGRwyUXQR0jeAGQV7ROUvgEW1Vai2j4B4HANDtcYJhHMEBwzdKanQDWLY5JLu0VR838uO7t7O3s3IQIAAAAAAAAAgN3SLX8WLDUHSz323O35fk/PNWvWc93Znu02/EGw1KzZv1vXXdXanztjbvx+5kWU5dIBwYCvSu2GL30p23OdGZXG4Iv0XhzILiDiOI2EbXZoXI1wPx0K+W/V7mS+TnNTDjjVAie0CkiFXrj5ANWrRS6F/dS6U+PQumZrIF5zuCO8I27VQq3N2es6qTNxoN2zB0rqKYX0qJM/RMROxZM40P6EjHUpeRYLVzatHTDanJ3FKra7UywOlBjuVgs4khacDqkyAI+yiZS/6nJ5S2bVt38qe3bJImtOlUseERm+/W6/fsh3/vnYfFcunRBRwjfptZy9MMcPdKRcOiDDz6otbR8AAAAAAAAAAP7BD1L5b5wY/rQOAAAAAElFTkSuQmCC";const Ws=e=>(pt("data-v-a82e28a7"),e=e(),yt(),e),C4={class:"detail_info"},k4=Ws(()=>O("div",{class:"top_fixed"},null,-1)),x4={class:"return_info"},I4={class:"left"},R4={class:"info"},L4={class:"name_time"},D4={class:"name_rank"},O4={class:"name"},P4={class:"rank"},B4={class:"time"},F4={class:"right"},M4=Ws(()=>O("img",{src:f1,alt:""},null,-1)),N4={key:0,class:"video"},U4={key:1,class:"banner"},V4={key:0},z4={class:"content"},$4={key:0},H4={class:"deta"},G4=["src"],K4=["innerHTML"],j4={class:"release_like"},W4={class:"fav"},q4={class:"like"},Y4={class:"related_note"},Q4=Ws(()=>O("h2",null,"\u76F8\u5173\u7B14\u8BB0",-1)),J4={class:"left"},X4=["onClick"],Z4={class:"info"},e5={class:"author_info"},t5={class:"icon_name"},n5={class:"icon_like"},r5=["onClick"],i5=["onClick"],s5={key:2},o5={key:3},a5={class:"right"},l5=["onClick"],u5={class:"info"},c5={class:"author_info"},d5={class:"icon_name"},f5={class:"icon_like"},h5=["onClick"],g5=["onClick"],v5={key:2},m5={key:3},p5=Ws(()=>O("div",{class:"bottom_fixed"},null,-1)),y5={class:"commit_fav"},_5=Ws(()=>O("input",{type:"text",placeholder:"\u8BF4\u70B9\u4EC0\u4E48..."},null,-1)),A5={class:"jjj"},b5=Ws(()=>O("div",{class:"commit"},[O("img",{src:a1,alt:""}),O("span",null,"\u8BC4\u8BBA")],-1)),E5={class:"like"},S5={key:2},T5={key:3},w5={class:"fav"},C5=Ws(()=>O("span",null,"\u6536\u85CF",-1)),k5={__name:"NotePage",setup(e){const t=zr(),n=Tr();Qn();const r=Et({width:"100%",color:"black",position:"fixed",top:0,left:0,zIndex:99,muted:!1,webFullScreen:!1,speedRate:["0.75","1.0","1.25","1.5","2.0"],autoPlay:!0,loop:!1,mirror:!1,ligthOff:!1,volume:.3,control:!0,title:""}),i=m=>{},o=m=>{},l=m=>{},f=m=>{},c=Z({});vy(n.query.id).then(m=>{console.log(m.data.result.note),c.value=m.data.result.note});const a=Z([]),h=Z([]);return my(n.query.id).then(m=>{m.data.result.list.forEach((g,w)=>{w%2==0?a.value=[...a.value,g]:h.value=[...h.value,g]})}),KL(m=>{console.log(m,"\u8DEF\u7531\u53D8\u52A8"),vy(m.query.id).then(g=>{c.value=g.data.result.note}),a.value=[],h.value=[],my(m.query.id).then(g=>{g.data.result.list.forEach((w,T)=>{T%2==0?a.value=[...a.value,w]:h.value=[...h.value,w]})})}),(m,g)=>{var d,_,v;const w=Ge("van-image"),T=Ge("van-swipe-item"),y=Ge("van-swipe");return K(),W("div",C4,[k4,O("div",x4,[O("div",I4,[O("img",{src:$r,alt:"",onClick:g[0]||(g[0]=p=>m.$router.push({path:"/note"}))}),O("div",R4,[B(w,{round:"",width:"30rem",height:"30rem",src:(d=c.value.author)==null?void 0:d.p},null,8,["src"]),O("div",L4,[O("div",D4,[O("span",O4,le((_=c.value.author)==null?void 0:_.n),1),O("span",P4,"Lv."+le((v=c.value.author)==null?void 0:v.lvl),1)]),O("span",B4,le(c.value.straight_text),1)])])]),O("div",F4,[O("div",{class:ut(["focus",{zzz:re(t).focus_author.filter(p=>{var A;return p.id==((A=c.value.author)==null?void 0:A.id)}).length}])},[re(t).focus_author.filter(p=>{var A;return p.id==((A=c.value.author)==null?void 0:A.id)}).length?(K(),W("span",{key:1,class:"refocu",onClick:g[2]||(g[2]=p=>re(t).deleFocusAuthor(c.value.author.id))},"\u5DF2\u5173\u6CE8")):(K(),W("span",{key:0,class:"focu",onClick:g[1]||(g[1]=p=>re(t).addFocusAuthor({id:c.value.author.id,image:c.value.author.p,name:c.value.author.n,rank:c.value.author.lvl,intro:c.value.author.title}))},"\u5173\u6CE8"))],2),M4])]),c.value.video_url?(K(),W("div",N4,[B(re(Gs),gt(r,{onPlay:i,onPause:o,onTimeupdate:l,onCanplay:f,src:c.value.video_url}),null,16,["src"])])):(K(),W("div",U4,[B(y,{class:"my-swipe",loop:!1,"indicator-color":"white"},{default:et(()=>[(K(!0),W(Le,null,We(c.value.images,p=>(K(),Bn(T,null,{default:et(()=>[B(w,{width:"375rem",height:`${p.h/p.w*375}rem`,src:p.u},null,8,["height","src"])]),_:2},1024))),256))]),_:1}),c.value.selection_text!=""?(K(),W("span",V4,le(c.value.selection_text),1)):De("",!0)])),O("div",z4,[c.value.selection_text&&c.value.video_url?(K(),W("p",$4,[O("span",null,le(c.value.selection_text),1)])):De("",!0),O("h1",null,le(c.value.title),1),O("div",H4,[(K(!0),W(Le,null,We(c.value.contents,p=>(K(),W(Le,{key:p.id},[p.icon?(K(),W("img",{key:0,src:p.icon,alt:"",width:"11"},null,8,G4)):De("",!0),O("p",{innerHTML:p.c},null,8,K4)],64))),128))]),O("div",j4,[O("div",W4,le(c.value.favo_count_text)+"\u6B21\u6536\u85CF",1),O("div",q4,le(c.value.like_count_text)+"\u6B21\u8D5E",1)])]),O("div",Y4,[Q4,O("ul",null,[O("div",J4,[(K(!0),W(Le,null,We(a.value,p=>{var A,b;return K(),W("div",{key:p.note.id,class:"note_card",onClick:E=>m.$router.push({path:"/noted",query:{id:p.note.id}})},[B(w,{width:"180",height:`${((A=p.note)==null?void 0:A.image_h)/((b=p.note)==null?void 0:b.image_w)*180}`,"lazy-load":"",src:p.note.image_u},null,8,["height","src"]),O("div",Z4,[O("h2",null,le(p.note.title),1),O("div",e5,[O("div",t5,[B(w,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:p.note.author.p},null,8,["src"]),O("span",null,le(p.note.author.n),1)]),O("div",n5,[re(t).history_note.filter(E=>E.id==p.note.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:Wt(E=>re(t).setNoteHistory(p.note.id),["stop"])},null,8,r5)):De("",!0),re(t).history_note.filter(E=>E.id==p.note.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:Wt(E=>re(t).deleteNoteHistroy(p.note.id),["stop"])},null,8,i5)):De("",!0),re(t).history_note.filter(E=>E.id==p.note.id).length==0?(K(),W("span",s5,le(p.note.like_count),1)):De("",!0),re(t).history_note.filter(E=>E.id==p.note.id).length!=0?(K(),W("span",o5,le(p.note.like_count+1),1)):De("",!0)])])])],8,X4)}),128))]),O("div",a5,[(K(!0),W(Le,null,We(h.value,p=>{var A,b;return K(),W("div",{key:p.note.id,class:"note_card",onClick:E=>{var x;return m.$router.push({path:"noted",query:{id:(x=p.note)==null?void 0:x.id}})}},[B(w,{width:"180",height:`${((A=p.note)==null?void 0:A.image_h)/((b=p.note)==null?void 0:b.image_w)*180}`,"lazy-load":"",src:p.note.image_u},null,8,["height","src"]),O("div",u5,[O("h2",null,le(p.note.title),1),O("div",c5,[O("div",d5,[B(w,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:p.note.author.p},null,8,["src"]),O("span",null,le(p.note.author.n),1)]),O("div",f5,[re(t).history_note.filter(E=>E.id==p.note.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:Wt(E=>re(t).setNoteHistory(p.note.id),["stop"])},null,8,h5)):De("",!0),re(t).history_note.filter(E=>E.id==p.note.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:Wt(E=>re(t).deleteNoteHistroy(p.note.id),["stop"])},null,8,g5)):De("",!0),re(t).history_note.filter(E=>E.id==p.note.id).length==0?(K(),W("span",v5,le(p.note.like_count),1)):De("",!0),re(t).history_note.filter(E=>E.id==p.note.id).length!=0?(K(),W("span",m5,le(p.note.like_count+1),1)):De("",!0)])])])],8,l5)}),128))])])]),p5,O("div",y5,[_5,O("div",A5,[b5,O("div",E5,[re(t).history_note.filter(p=>p.id==m.$route.query.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:g[3]||(g[3]=Wt(p=>re(t).setNoteHistory(m.$route.query.id),["stop"]))})):De("",!0),re(t).history_note.filter(p=>p.id==m.$route.query.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:g[4]||(g[4]=Wt(p=>re(t).deleteNoteHistroy(m.$route.query.id),["stop"]))})):De("",!0),re(t).history_note.filter(p=>p.id==m.$route.query.id).length==0?(K(),W("span",S5,le(c.value.like_count),1)):De("",!0),re(t).history_note.filter(p=>p.id==m.$route.query.id).length!=0?(K(),W("span",T5,le(c.value.like_count+1),1)):De("",!0)]),O("div",w5,[re(t).note_fav.filter(p=>p.id==m.$route.query.id).length==0?(K(),W("img",{key:0,src:pc,alt:"",onClick:g[5]||(g[5]=Wt(p=>{var A,b,E;return re(t).setNoteFav({id:m.$route.query.id,img:(A=c.value)==null?void 0:A.images[0].u,w:(b=c.value)==null?void 0:b.images[0].w,h:(E=c.value)==null?void 0:E.images[0].h,content:c.value.title,author_icon:c.value.author.p,author_name:c.value.author.n,like:c.value.like_count})},["stop"]))})):De("",!0),re(t).note_fav.filter(p=>p.id==m.$route.query.id).length!=0?(K(),W("img",{key:1,src:n1,alt:"",onClick:g[6]||(g[6]=Wt(p=>re(t).deleteNoteFav(m.$route.query.id),["stop"]))})):De("",!0),C5])])])])}}},x5=wt(k5,[["__scopeId","data-v-a82e28a7"]]);const Jo=e=>(pt("data-v-ab19a6d3"),e=e(),yt(),e),I5={class:"userdetails"},R5=Jo(()=>O("div",{class:"user_fixed"},null,-1)),L5={class:"routerback"},D5={class:"userphoto"},O5=["src"],P5={class:"usertow"},B5={class:"username"},F5={class:"jiangpai"},M5={class:"dengji"},N5=["src"],U5={class:"details"},V5={key:0},z5={key:1},$5={class:"sfxx"},H5={class:"jieshao"},G5={class:"userex"},K5=Jo(()=>O("p",null,"\u5173\u6CE8",-1)),j5=Jo(()=>O("p",null," \u7C89\u4E1D ",-1)),W5=Jo(()=>O("p",null," \u88AB\u6536\u85CF ",-1)),q5=Jo(()=>O("p",null," \u88AB\u5B66\u505A ",-1)),Y5=Jo(()=>O("p",null," \u7ECF\u9A8C\u503C ",-1)),Q5=["src"],J5={class:"notelist"},X5={class:"noteleft"},Z5={class:"month"},e8={class:"day"},t8={class:"noteright"},n8=["src"],r8=["src"],i8={class:""},s8={class:"usertx"},o8=["src"],a8={__name:"UserDetailsView",setup(e){const t=zr(),n=Tr(),r=Z({});iP(n.query.id).then(f=>{console.log(f.data.result),r.value=f.data.result});const i=Z({});sP(n.query.id).then(f=>{console.log(f.data),i.value=f.data.result.list});const o=Z({});oP(n.query.id).then(f=>{console.log(f.data.result.recipes),o.value=f.data.result.recipes});const l=Z();return aP(n.query.id).then(f=>{console.log(f.data.result.notes),l.value=f.data.result.notes}),(f,c)=>{var m,g,w,T,y,d,_,v,p,A,b,E,x,k,L;const a=Ge("van-tab"),h=Ge("van-tabs");return K(),W("div",I5,[R5,O("div",L5,[O("img",{src:$r,alt:"",onClick:c[0]||(c[0]=S=>f.$router.back())})]),O("div",D5,[O("img",{src:(m=r.value.user)==null?void 0:m.user_photo,alt:""},null,8,O5),O("div",P5,[O("p",B5,le((g=r.value.user)==null?void 0:g.nick),1),O("p",F5,le((w=r.value.user)==null?void 0:w.usermedal.count_text),1),O("p",M5," Lv"+le((T=r.value.user)==null?void 0:T.lvl),1),O("img",{src:(y=r.value.user)==null?void 0:y.usermedal.icon,alt:""},null,8,N5)]),O("div",{class:ut(["guanzhu",{zzz:re(t).focus_author.filter(S=>S.id==f.$route.query.id).length}])},[re(t).focus_author.filter(S=>S.id==f.$route.query.id).length?(K(),W("span",{key:1,class:"refocu",onClick:c[2]||(c[2]=S=>re(t).deleFocusAuthor(f.$route.query.id))},"\u5DF2\u5173\u6CE8")):(K(),W("span",{key:0,class:"focu",onClick:c[1]||(c[1]=S=>{var C;return re(t).addFocusAuthor({id:f.$route.query.id,image:r.value.user.avatar_medium,name:r.value.user.nick,rank:r.value.user.lvl,intro:(C=r.value.user)==null?void 0:C.introduction})})},"\u5173\u6CE8"))],2)]),O("div",U5,[((d=r.value.user)==null?void 0:d.gender)==1?(K(),W("p",V5,"\u53A8\u7537")):(K(),W("p",z5,"\u53A8\u5A18")),O("h3",$5," \xA0 "+le((_=r.value.user)==null?void 0:_.age)+"\xA0\xA0 "+le((v=r.value.user)==null?void 0:v.location)+"\xA0\xA0 ip\u5C5E\u5730\xA0\xA0"+le((p=r.value.user)==null?void 0:p.ip_address_location),1),O("h3",H5,le((A=r.value.user)==null?void 0:A.introduction),1)]),O("div",G5,[O("div",null,[O("li",null,le((b=r.value.user)==null?void 0:b.following_count),1),K5]),O("div",null,[O("li",null,le((E=r.value.user)==null?void 0:E.followers_count_text),1),j5]),O("div",null,[O("li",null,le((x=r.value.user)==null?void 0:x.favoed_count_text),1),W5]),O("div",null,[O("li",null,le((k=r.value.user)==null?void 0:k.noted_count_text),1),q5]),O("div",null,[O("li",null,le((L=r.value.user)==null?void 0:L.point_text),1),Y5])]),B(h,{class:"tabs",active:f.activeName,"onUpdate:active":c[3]||(c[3]=S=>f.activeName=S)},{default:et(()=>[B(a,{class:"tab",title:"\u83DC\u8C31",name:"a"},{default:et(()=>[O("ul",null,[(K(!0),W(Le,null,We(i.value,S=>(K(),W("li",{key:S.r.id},[O("img",{src:S.r.img,alt:""},null,8,Q5),O("h3",null,le(S.r.recommendation_tag),1),O("p",null,le(S.r.n),1)]))),128))])]),_:1}),B(a,{class:"tab2",title:"\u7B14\u8BB0",name:"b"},{default:et(()=>[(K(!0),W(Le,null,We(l.value,S=>(K(),W("div",J5,[O("div",X5,[O("p",Z5,le(S.month_text),1),O("p",e8,le(S.day_text),1),O("div",t8,[(K(!0),W(Le,null,We(S.day_list,C=>(K(),W("img",{key:C.id,src:C.image_u,alt:""},null,8,n8))),128))])])]))),256))]),_:1}),B(a,{class:"tab3",title:"\u6536\u85CF",name:"c"},{default:et(()=>[O("div",null,[O("ul",null,[(K(!0),W(Le,null,We(o.value,S=>(K(),W("li",{key:S.id},[O("img",{src:S.img,alt:""},null,8,r8),O("li",null,[O("p",i8,le(S.n),1),O("p",null,le(S.recommend_label),1),O("p",s8,[O("img",{src:S.a.p,alt:""},null,8,o8),xt("\xA0"+le(S.a.n),1)])])]))),128))])])]),_:1})]),_:1},8,["active"])])}}},l8=wt(a8,[["__scopeId","data-v-ab19a6d3"]]),ol="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALcAAAC3CAMAAABnsD+tAAAAV1BMVEX////z8/P39/f29vbt7e309PTr6+vt7e3u7u709PT19fX19fX29vYAAAD19fXv7+/s7Oz39/f09PTv7+/w8PD09PTx8fHz8/Py8vLu7u7t7e3v7+/19fVD1UsqAAAAFHRSTlMQgCDf37+Az7/P38+/AIAgYH9gEBTMKmIAAALVSURBVHja7dp/c9sgDAZgtnZb15ZlTcAg8Pf/nHOzu+7q3zYg0O3V/748USTZFlFa395ee0nxctVaK3157qXF82Vwy2MP8Ju69hLjl/op0v2qepkBN9xwww033HDDDTfccMMNN9xwww033HDDDTfccMMNN9xwww033HDDDTfccMMNN9xwww033HDDDTfccMMNN9xwww33p/Ay3Z6cSHcMZCW6KYTQyXO78B7kpbl9+BvUWVHuGD6CjLcS3Xd7jN6xu621Z9pyHGQsi9s6byJ9CIii6fZmLcxHSfndbb2h+Y8e9Nt2GwK7XPVuyfzP7veMwflrS81GtYHeU6xu7dJCtyMVdsZK0lfdheC73UPS3eH6Lgc/4F5ssw13Efgh91KbbfWIr+0eytyecBd4yD3qnq1ys/lt67vnytVvXuMacE/hNrAn/Ix7Co/sCT/lnsC7E8VVwz2ZbMRdKCfd46mynXDbhHsykom5wM+6Ax1MuG/EPe60rZFiWnGPMmiJtTET3KOS3YA35B71pj/SDzXdh+Atucc/vich7vFQWanxttwTeBTQl4cesVpzT+DWNH7fWX6NmJFH15w7TLf11sdPi7r8+/wc7vn3dec7M0RXZo+fxc17tJPRXXbXXdLNnfJsbu5zwBBEyrO63+VWpHt9wd+0+34gZCW671k3zkp0lz7zLukuWe2l3aUOvMu7yzwEsLgLyJnc2W+lXO6FkzgB7rwpZ3RnPSxhdWeE87rzbSOY3dnWbdzuXBlnd2eqcX53HngFd5YjwRruHH9HqeHOsVOu4s5wCFvHnV4pddzplVLJnTxTarlJqDu1Nau5Sag7scLruaNQd1rCK7qNUDcJdScVSk23Eeomoe6U/3BWdXuhbiPUTULdQarbCnU7oW4v1N3BDTfcmCf/uTvhvvMk0v2ivot8rrqq22M99unVz4NW+vIozv3wdXBr/fuHqPedb18G9B/Bafz6nfF+RwAAAABJRU5ErkJggg==",u8=gc("focusstore",()=>{const e=Z(JSON.parse(localStorage.getItem("history_focus"))||[]);function t({temporary_focus:n}){console.log("123"),e.value=[n,...e.value];let r=Vo.exports.unionWith(e.value,(i,o)=>i.userid==o.userid&&i.focus_id==o.focus_id);localStorage.setItem("history_focus",JSON.stringify(r))}return{addFocusStore:t}});const al=e=>(pt("data-v-2d7921ba"),e=e(),yt(),e),c8={class:"fav-focus-all"},d8={class:"fav-focus-bigbox"},f8=["onClick"],h8={class:"user-card"},g8={key:0,src:ol,alt:""},v8={key:1,class:"menu-card"},m8={key:0,class:"one"},p8={key:1,class:"two"},y8={key:2,class:"three"},_8={key:3,class:"three"},A8={class:"user-word"},b8=al(()=>O("img",{src:O_,alt:""},null,-1)),E8=al(()=>O("h1",null,"\u521B\u5EFA\u5206\u7EC4",-1)),S8=[b8,E8],T8={class:"fav-focus-vant"},w8=al(()=>O("div",{class:"left"},"\u521B\u5EFA\u5206\u7EC4",-1)),C8={class:"vant-bottom"},k8={class:"left"},x8=al(()=>O("img",{src:ol,alt:""},null,-1)),I8={class:"right"},R8={class:"vant-mask"},L8=al(()=>O("h1",null,"\u4E0D\u80FD\u8D85\u8FC716\u4E2A\u5B57\u54E6",-1)),D8=[L8],O8={__name:"FavfocusView",setup(e){var m,g,w;const t=Qn();Tr();const n=u8(),r=Z(!1),i=()=>{r.value=!0},o=Z(""),l=Z(""),f=Z(!1),c=Z(((m=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:m.filter(T=>T.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[]),a=Z(((g=JSON.parse(localStorage.getItem("history_focus")))==null?void 0:g.filter(T=>T.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[]);Z(((w=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:w.filter(T=>T.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[]);function h(){console.log("getfocus");let T={userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,focus_id:o.value};console.log("temporary_focus",T),n.addFocusStore({temporary_focus:T}),location.reload()}return Me(o,(T,y)=>{console.log(T,y),l.value=T,l.value.length>16&&(console.log("\u5927\u4E8E"),o.value=y,f.value=!0,setTimeout(()=>{f.value=!1},1e3))}),(T,y)=>{const d=Ge("van-image"),_=Ge("van-popup");return K(),W("div",c8,[O("div",d8,[(K(!0),W(Le,null,We(a.value,v=>{var p,A,b,E,x,k,L,S,C,I;return K(),W("div",{class:"fav-focus-user",onClick:D=>re(t).push({path:"/group",query:{test:v.focus_id}})},[O("div",h8,[c.value.filter(D=>D.focus_id==v.focus_id).length==0?(K(),W("img",g8)):(K(),W("div",v8,[c.value.filter(D=>D.focus_id==v.focus_id).length==1?(K(),W("div",m8,[B(d,{width:"166rem",height:"166rem",fit:"cover","lazy-load":"",src:(p=c.value.filter(D=>D.focus_id==v.focus_id)[0])==null?void 0:p.menupath},null,8,["src"])])):De("",!0),c.value.filter(D=>D.focus_id==v.focus_id).length==2?(K(),W("div",p8,[B(d,{width:"166rem",height:"82rem",fit:"cover","lazy-load":"",src:(A=c.value.filter(D=>D.focus_id==v.focus_id)[0])==null?void 0:A.menupath},null,8,["src"]),B(d,{width:"166rem",height:"82rem",fit:"cover","lazy-load":"",src:(b=c.value.filter(D=>D.focus_id==v.focus_id)[1])==null?void 0:b.menupath},null,8,["src"])])):De("",!0),c.value.filter(D=>D.focus_id==v.focus_id).length==3?(K(),W("div",y8,[B(d,{width:"166rem",height:"82rem",fit:"cover","lazy-load":"",src:(E=c.value.filter(D=>D.focus_id==v.focus_id)[0])==null?void 0:E.menupath},null,8,["src"]),B(d,{width:"82rem",height:"82rem",fit:"cover","lazy-load":"",src:(x=c.value.filter(D=>D.focus_id==v.focus_id)[1])==null?void 0:x.menupath},null,8,["src"]),B(d,{width:"82rem",height:"82rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(k=c.value.filter(D=>D.focus_id==v.focus_id)[2])==null?void 0:k.menupath},null,8,["src"])])):De("",!0),c.value.filter(D=>D.focus_id==v.focus_id).length>=4?(K(),W("div",_8,[B(d,{width:"82rem",height:"82rem",fit:"cover","lazy-load":"",src:(L=c.value.filter(D=>D.focus_id==v.focus_id)[0])==null?void 0:L.menupath},null,8,["src"]),B(d,{width:"82rem",height:"82rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(S=c.value.filter(D=>D.focus_id==v.focus_id)[1])==null?void 0:S.menupath},null,8,["src"]),B(d,{width:"82rem",height:"82rem",fit:"cover","lazy-load":"",src:(C=c.value.filter(D=>D.focus_id==v.focus_id)[2])==null?void 0:C.menupath},null,8,["src"]),B(d,{width:"82rem",height:"82rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(I=c.value.filter(D=>D.focus_id==v.focus_id)[3])==null?void 0:I.menupath},null,8,["src"])])):De("",!0)]))]),O("div",A8,[O("h1",null,le(v.focus_id),1),O("p",null,"\u5171"+le(c.value.filter(D=>D.focus_id==v.focus_id).length)+"\u7BC7",1)])],8,f8)}),256)),O("div",{class:"fav-focus-mask"},[O("div",{class:"card",onClick:i},S8)])]),O("div",T8,[B(_,{show:r.value,"onUpdate:show":y[1]||(y[1]=v=>r.value=v),round:"",position:"bottom",style:{height:"20%"}},{default:et(()=>[O("div",{class:"vant-top"},[w8,O("div",{class:"right",onClick:h},"\u786E\u5B9A")]),O("div",C8,[O("div",k8,[x8,ft(O("input",{"onUpdate:modelValue":y[0]||(y[0]=v=>o.value=v),type:"",name:"",placeholder:"\u8BF7\u8F93\u5165\u5206\u7EC4\u540D\u79F0"},null,512),[[fc,o.value]])]),O("div",I8,[O("p",null,le(l.value.length)+"/16",1)])])]),_:1},8,["show"])]),ft(O("div",R8,D8,512),[[St,f.value]])])}}},P8=wt(O8,[["__scopeId","data-v-2d7921ba"]]),tg="/assets/Nc.58fdb830.png";const Tc=e=>(pt("data-v-85a1b1aa"),e=e(),yt(),e),B8={key:0,class:"fav-top"},F8={key:0,class:"card"},M8={class:"left"},N8={class:"logo"},U8={class:"word"},V8={class:"right"},z8=Tc(()=>O("span",null," | ",-1)),$8=Tc(()=>O("i",null,[O("img",{src:rl,alt:""})],-1)),H8={key:1,class:"fav-search"},G8={action:"/"},K8={key:1,class:"fav-mask"},j8=Tc(()=>O("img",{src:tg,alt:""},null,-1)),W8=Tc(()=>O("h1",null,"\u4F60\u7684\u83DC\u8C31\u6536\u85CF\u5217\u8868\u6709\u70B9\u7A7A",-1)),q8=[j8,W8],Y8={key:2,class:"fav-menu"},Q8=["onClick"],J8={class:"left"},X8={class:"right"},Z8={key:0},eU={key:1},tU={class:"menu_user"},nU={class:"img"},rU={class:"word"},iU={key:3,class:"fav-menu-search"},sU={class:"left"},oU={class:"right"},aU={key:0},lU={key:1},uU={class:"menu_user"},cU={class:"img"},dU={class:"word"},fU={__name:"FavmenuView",setup(e){var d,_;const t=Qn(),n=Z(0),r=ve(()=>y.filter(v=>v.menufinish==!0).length*Number((100/y.length).toFixed(0))),i=Z(""),o=v=>g(v),l=()=>w("\u53D6\u6D88"),f=Z([]),c=Z(!0),a=Z(!0),h=Z(!0);Gt(()=>{h.value=!1});const m=Z(JSON.parse(localStorage.getItem("history_menu"))==null?!1:((d=JSON.parse(localStorage.getItem("history_menu")))==null?void 0:d.filter(v=>v.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid).length)!=0);function g(v){console.log("SearchToast",v),c.value=!1,f.value=y==null?void 0:y.filter(p=>p.menutitle.includes(v)==!0)}function w(v){console.log("CancelToast",v),c.value=!0,a.value=!0}function T(){a.value=!1}const y=(_=JSON.parse(localStorage.getItem("history_menu")))==null?void 0:_.filter(v=>v.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid);return(v,p)=>{const A=Ge("van-circle"),b=Ge("van-search"),E=Ge("van-image"),x=Ge("van-skeleton");return K(),W(Le,null,[m.value?(K(),W("div",B8,[a.value?(K(),W("div",F8,[O("div",M8,[O("div",N8,[B(A,{"current-rate":n.value,"onUpdate:current-rate":p[0]||(p[0]=k=>n.value=k),rate:re(r),speed:100,color:"orange","layer-color":"rgb(245,245,245)",size:"25rem","stroke-width":200},null,8,["current-rate","rate"])]),O("div",U8,[O("h1",null,le(100-re(r))+"%\u672A\u5B66\u505A",1),O("p",null," \u5171"+le(re(y).length)+"\u7BC7\u83DC\u8C31,\u5DF2\u5B66\u505A"+le(re(y).filter(k=>k.menufinish==!0).length)+"\u7BC7 ",1)])]),O("div",V8,[O("h1",{class:"regulate",onClick:p[1]||(p[1]=k=>re(t).push({path:"/administer"}))},"\u7BA1\u7406"),z8,O("h1",{class:"search",onClick:T},[$8,xt(" \u641C\u7D22 ")])])])):(K(),W("div",H8,[O("form",G8,[B(b,{modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=k=>i.value=k),"show-action":"",placeholder:"\u641C\u7D22\u83DC\u8C31\u3001\u98DF\u6750\u3001\u7528\u6237\u7B49",onSearch:o,onCancel:l},null,8,["modelValue"])])]))])):(K(),W("div",K8,q8)),c.value?(K(),W("div",Y8,[O("ul",null,[(K(!0),W(Le,null,We(re(y),k=>(K(),W("li",{key:k.menuid,onClick:L=>re(t).push({path:"/menu",query:{id:k.menuid}})},[O("div",J8,[B(E,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${k.menupath}`},null,8,["src"])]),B(x,{title:"",avatar:"",row:3,loading:h.value},{default:et(()=>[O("div",X8,[O("h1",null,le(k.menutitle),1),k.menuvc.toString().length>4?(K(),W("p",Z8,le((k.menuvc/1e4).toFixed(1))+"\u4E07\u4EBA\u770B\u8FC7 ",1)):(K(),W("p",eU,le(k.menuvc)+"\u4EBA\u770B\u8FC7",1)),O("div",tU,[O("div",nU,[B(E,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${k.menuphoto}`},null,8,["src"])]),O("div",rU,[O("h3",null,le(k.menunickname),1)])])])]),_:2},1032,["loading"])],8,Q8))),128))])])):(K(),W("div",iU,[O("ul",null,[(K(!0),W(Le,null,We(f.value,k=>(K(),W("li",{key:k.menuid},[O("div",sU,[B(E,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${k.menupath}`},null,8,["src"])]),O("div",oU,[O("h1",null,le(k.menutitle),1),k.menuvc.toString().length>4?(K(),W("p",aU,le((k.menuvc/1e4).toFixed(1))+"\u4E07\u4EBA\u770B\u8FC7 ",1)):(K(),W("p",lU,le(k.menuvc)+"\u4EBA\u770B\u8FC7",1)),O("div",uU,[O("div",cU,[B(E,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${k.menuphoto}`},null,8,["src"])]),O("div",dU,[O("h3",null,le(k.menunickname),1)])])])]))),128))])]))],64)}}},hU=wt(fU,[["__scopeId","data-v-85a1b1aa"]]);const gU=e=>(pt("data-v-b1cb20ee"),e=e(),yt(),e),vU={class:"fav_note"},mU={class:"fav_num"},pU=gU(()=>O("p",null,"\u6536\u85CF\u7B14\u8BB0\u7BC7\u6570",-1)),yU={key:0,class:"fav"},_U={class:"left"},AU=["onClick"],bU={class:"info"},EU={class:"author_info"},SU={class:"icon_name"},TU={class:"icon_like"},wU=["onClick"],CU=["onClick"],kU={class:"right"},xU=["onClick"],IU={class:"info"},RU={class:"author_info"},LU={class:"icon_name"},DU={class:"icon_like"},OU=["onClick"],PU=["onClick"],BU={__name:"FavnoteView",setup(e){const t=zr(),n=Z([]),r=Z([]);return t.note_fav.forEach((i,o)=>{o%2==0?n.value=[...n.value,i]:r.value=[...r.value,i]}),(i,o)=>{const l=Ge("van-image");return K(),W("div",vU,[O("div",mU,[O("p",null,le(re(t).note_fav.length),1),pU]),re(t).note_fav.length?(K(),W("div",yU,[O("div",_U,[(K(!0),W(Le,null,We(n.value,f=>(K(),W("div",{key:f.id,class:"note_card",onClick:c=>i.$router.push({path:"noted",query:{id:f.id}})},[B(l,{width:"180",height:`${f.h/f.w*180}`,"lazy-load":"",src:f.img},null,8,["height","src"]),O("div",bU,[O("h2",null,le(f.title),1),O("div",EU,[O("div",SU,[B(l,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:f.author_icon},null,8,["src"]),O("span",null,le(f.author_name),1)]),O("div",TU,[re(t).history_note.filter(c=>c.id==f.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:Wt(c=>re(t).setNoteHistory(f.id),["stop"])},null,8,wU)):De("",!0),re(t).history_note.filter(c=>c.id==f.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:Wt(c=>re(t).deleteNoteHistroy(f.id),["stop"])},null,8,CU)):De("",!0),O("span",null,le(f.like),1)])])])],8,AU))),128))]),O("div",kU,[(K(!0),W(Le,null,We(r.value,f=>(K(),W("div",{key:f.id,class:"note_card",onClick:c=>i.$router.push({path:"noted",query:{id:f.id}})},[B(l,{width:"180",height:`${f.h/f.w*180}`,"lazy-load":"",src:f.img},null,8,["height","src"]),O("div",IU,[O("h2",null,le(f.title),1),O("div",RU,[O("div",LU,[B(l,{round:"",width:"12rem",height:"12rem","lazy-load":"",src:f.author_icon},null,8,["src"]),O("span",null,le(f.author_name),1)]),O("div",DU,[re(t).history_note.filter(c=>c.id==f.id).length==0?(K(),W("img",{key:0,src:Er,alt:"",onClick:Wt(c=>re(t).setNoteHistory(f.id),["stop"])},null,8,OU)):De("",!0),re(t).history_note.filter(c=>c.id==f.id).length!=0?(K(),W("img",{key:1,src:os,alt:"",onClick:Wt(c=>re(t).deleteNoteHistroy(f.id),["stop"])},null,8,PU)):De("",!0),O("span",null,le(f.like),1)])])])],8,xU))),128))])])):De("",!0)])}}},FU=wt(BU,[["__scopeId","data-v-b1cb20ee"]]),MU={};function NU(e,t,n,r,i,o){return K(),W("div",null," \u8BFE\u5802 ")}const UU=wt(MU,[["render",NU]]),Xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACWklEQVRYw9WYy2rbQBSG/yMbbJRuTEsttPQzFJyCu/MuJLv4LbJsHqLe5DkakoVLdl2lhabQZ/BSmRFtGohsbJDm70KSL2191diQs/Tl+0ZnbucIeO4hq39C0U3niA364sMHcc9AAumbm/p3YUGBbuMUJ/QW/Fmhh8v65y0F6lA+8B0AlFFBGSU4cAAYGCSIMUacIr7w3LvbMHO6oa8UFUMTMeaiiBkxNIqK+ko3NsG39UMKN1wVJpPoB91eEx+e6VjxkQnXjYSPVNRxeLYO/kJRm4ibRkRtFMOLlaNX1GbEbWKUKs6W5z7eFp8rdDw/FzK7cvCDtRc4KLBvB4ggv/Gm3s8/cWa+7bJWLYQHDlAFa+j+5wnUIb45fClOwbPH4BeN4G2+9SY86QJuYTzgwJWUNifQbbYculbOTxcO2cqnOh9yB3BFLB3QrgA4nRFQcAxUrd0BVQA4oUwEukmvjJI1QQll0NPNicA5AipW77FKRs1T1ADKVgXljJoLfFhMUJqklJoJxJ/f0rCwG1Jqzt2JADMCYhfBqeAeMFbZJqPmkxzsQsBgOskBkFgVJBk1F/SR1Ti2Is6omcDcAGOrgnFGzS4cShjQe2VtsyX4CVGvfWGeIqIHjKyNfwQAPeHsfXAJDElLy3/IlDhfstwqRrQRERX17T9VBc+BIY2FHTBkSvtL4N3JtZGnwoInGJHraTm/z8Kr3kdHkgHHBVb/gJKgM8Xvu/jdQ/m+hwZkDy2U3SZweRvbZWuNNvYr3y9uY1c34h0cL2nEP+Hj1o34glcJQLDJq4TnH38Aci6KLMQsjAMAAAAASUVORK5CYII=",ng="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEhklEQVRYw+1YPW8cVRQ952VBVkSUTUFFsJeKFU5gIzkRRkamgjIrUSLwujCt150RQrGL2OniTUljW0bUTgdIfFhCQpGCd2IXrCvW+wfYGMmKouwcinnz5s3semyDKSJlJEsz8/a9e+499557x8CL6zm7eNoNapaK0NA74LkqgA8gUwJUjBbZhRSADCBscWx3838DpGapCLwyC6FuAcgeQUCCGN/bFQJkG8Aanj5d53irfWaA9OjKLELdAnAJiOy7rXInCSLds9uMCFioRd7YXfvPgNQcvQugbqPAaEsWEGFRRvdy58pSab1gg9d35v41IAWjq5Bq1kjW78S4i5L9nWzE4EUsfkeuc+zR9FE2TW5kYjC+WVmPI3pocwUp0On4eJSCCFHTg7fvnipCar5VA7hqnzyq3C/sO8/z+DlBI49WJtS6M+q8sdM4FpCa5RJgfgZYSmhRJh9iKKS1mwAihNBGLs43DTAldPEy3+C1oHsMZWbKgZFz1Br3wAhMqs37C0Ewy1mc9JKXYxfxJKyfIIdYS/EO+lFJVuI1R4lFH+UKWh3h4696GJ16hjvf9uAcSrASxsyqWSkeCUjNq1UApSgCTAzJT1BmSps+DYTIvY40vRyi1Yk2bfwQ4sft0CZ/7AgBoIgnqOREKJx0xuiVsm/SRt7REAO2V6sj1JZ7PDhM60RrX4lW+WJAVPMoqzh964tMhO6PDtDquO2EsR6TaHWA6eUeDg7Th144D1QnTEJbWrsm/d8WMqlRASWnL35SUrrzTciN76J3n35EzH9ibEUBe/tSbbnHvweAWZsv4LVXTVwh6XyURo6OkFT0+E3lR6sNBwYANr4Xvvw6JEjtdfLBlF+30pHSLmfjUk6ELKuxJ3FgQ3GQhm7+Khwc9viwhYE0rc0XUB6mHEX0hRT0et6ROdTNqLDjujwC3Hy/H9RP20I2gS+cB9a/KKg8bOJQCOTgRkHkCCPNny6Wfh3YfrY0Y1CdyB8Qosi8hDcvZ85JnekUHpCCvAhtpbqzL/n2/vbn53BzwuSAKaA87LWzRDvk3co1YyIH0DPddyRF/TTTryMtWZoxfaDSCez2ynOGnqOJXofYOhpQoRBAfJweuFwSppro0ozBZx9G28vDjMCM0Kaqkw46ZU4JqKN9n+8Fm/nd/vcrCwBvebHx7rKZyUE5ojhb07vj4jU+lYsc317Ib66msAKh62upJwdwA5tSiZ/UJJGsJzOR/O8Be3YbCNeO7fa8FnQhLqaapxvQ3HxDuJlNsq/pVST6pwEPYAgCWuB40D7RCMvrOysgVhJPM4TAm52TAd6bsUk7T9N1C0qQiTYaNjgerJ9+yH94dRXAlFcl6cHdB0g7fMXrsRq7KEmWsnWOB6cf8gGAY7vTEBrOyKDvLkLe3M1UNSoeUZyO3MsDcyygiL7dORA1CG1bwYmoIf5atdHrG/gdCX+BmuO72/Wz+5T+rVKCQQ3QFBhPlUlbSX8cus/rLqAGhtDIDvNn9s8GANCDShUGkxAqECqALtqoPQbQBvELQtzHEIKTAnlxPbfXPzg0TbbNUK33AAAAAElFTkSuQmCC",h1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAxCAYAAACcXioiAAAIcElEQVRo3u1a3U4cyRX+vmpQvDHODhcgIVny+M5KpPXgZC+SKGJ4AuwnMDwB7AuE4QkMeQHDE2CegOEmKLvSMoo2u3tH+woLbM1EYXbB09MnF1NVfaqmGWCMtDfbElJPT0/V+fnOOd+pA/Dr9ctevItFjo+PK/fv339O8imAKskagIqIVPxGZCoiKYBWnucHeZ635ubm0l9MgePj48rU1NQygCUA9TGXaYrITr/fb46rDMcUfJXkmrbwJ1lx4J3tLMt2bqvIrRT48OHDqog0rhC8CeCAZKvX67UuLi46jx8/7iiIVUlW8jyvG2MWyrxGMs3zfGN2dnb7ThU4OTmpTkxMvC7ZtAlg7/z8fNsJe9Pr5OSkmiRJHcA6yWq8bpZlKzfxxrUKnJ6e1owxuyLiNxGRlOTKzMxM8y4gdHp6uhwrQjLt9XqL1ynBGwi/ryEjIlvdbrcxyuJy+KSK30w+8g/6QiT9Yz774e2o/c7OzhoA1tWjjogszs7Otm6tQInwHQAvyqwuR7UKsnwZkAUQCwCmQQIUAQQQ0O7UBnGAPN+D+ekN59NOiRJ1EXmtvDFSCV6Fz8nJyX0HGxFJ+/3+kDvlqFpB9rtVAGsABopSABIQGShQCO9+NfieOAZkD+hvcf7HtCQ+9rUSWZbNl8GJZWnywYMHR9cK//UXqyAboHwOcesIQPvJCy5OI+sRe19IkCKXDf7x++1RSpBMkySZn56eDrxmYgWmpqbWVcB2SoX/5otXADcBK7x4YQYCSmFsgBwIDkDcd9QOqcLwtRz94ZXew+75wkIXIlLNsmx9pAdsujxWj76amZnZDLDek91BOhVraWddq4CAoBSWpwiEg2fue/e+f8fv8Ab4aUXHxtnZ2RoAr1yWZYtzc3PNUg/YXO/S2LYWHgDQwysI6hA4JDAwg6g7GHqrew+472n/3Dt+hyXgt4EnrAxNJeN6KYTOzs7qulD1er2NADb/qq1DZDnAuL1RAohTP0xTpDO5B5yomFG1GMBLOfp9IGSWZSsOSgDqJycn9TIPrGvra9zLYa0KQcNaLsIxHTQAsrCoOMWc9cX9lgGCBbT6insJZEP+/WQhioetMi8Yh/1R1ofhrgYHlFw+VcbPvNHp9Y5WUIHv1nAviaCfNCJ4azjX2+12xStgOYnnIYH1v55fgKBWZBqxMKCCh4fVQEDRYjqPSQgv5zXolKsVlLocPfFy2fTpY+Hy8nLZK0DypaIKOxF+14bw7AJTtB2psgw5ZGshBzpImAO995zybn0IaP4eZc09d5MkyZKOgZqnLf2+11L2axVAlqzxpMCOTY1xNh6quiWwER3YUniSFm8uvQ5qxqIc1SoqmN+oxWsAYE5PT2uOBohIGhStz7DgU6bPF6TP7y74gkJmP7nUWUSrKnnUukmxhkuvulpf1nUwk3TyVdrt9iNjjAkobOgxsxjmbmcdVVVjq3tI2ALlBCNVOhVxCSfwpEgRKh6JDHoQEWkptMybmOdHmHs0lDEk4jJD+V4j2hE6VSvovagLGyMo2r0EUPJZGf/r7vM8r5g8zzXXD/l60Do6ZkmAlDANKtg4PuSRo/PpYBNlZqWu1TIodARoPo8USNV91dy4bXKCiISVVlxxYlGYhiwuUVpVAezjwjAiefZDPlKsGypgiZtORGHlgm9cHFPznmGUjUI5AypeFDQF29EiGh24JCPMsxNik4UQomhEURMk9A44gEwB/sIbri5E1BsRRxLpRCcXOmY7xhjTUQ+mAwX6eFvAIiBcSkBQFaMQWmRcCkSVLAQVPVRErWXeRgo8UvQiNb1er6Wq29NgscTsB1mFLKMzgiKhRjVMBDnigGbxG99LKKXotYMAUIU19sDFxUVqbOHyXU+73S5g9HN2oCqsjsSoDyNBsoCYqhX+fRFV3FisMNTViq8VhCD5uakbLt0tPnz4sOUipKVI0guv7WKrA0gThc3E41wQcnnxsjDCcqFkURyijFAKIwKyp7uziHS2dBYaIkkKRxsqq6giFnN7l9+DVySgGqI5UETyZCgrCbJ8K4LPEOkkALTb7UqWZW0VHNO6+5fD+X0AC9rGvvnQn+mpc3ECQcQM1KehEJZkka5BQFp89p/5q/r1LMsez83NpaaMa3/8+DGk0JlsRNkn4jDeklKQNkY0Wb3s6oVYaBVrqdjIn2sRJicn18t6Fl0lfBdmjFm1Xdpg1b+1msjt9w73LAlA1wsIOdQLaCIYpMmh9Ank2NDHkDZ4l5X1N4YqsT0ydF6o6BMKAOBfv21AsIPcuR4Fp9E0OWiqtF3dKQSHeq8wjrjDL79rXGP95lVUQvfC9Xfv3oVQupQ1EM3w1ME15lLYlAxzu+NHgVKeLuvTvAMk/1srmUksRycUVx8tvn//flNEVkcdrMo/n22C9h2dnUgAuQKHo97qkKvondUBFwDIFv/03VrJGe2RO2AWka3Z2dm1kWQuSZKGoqwVY8yujgcA4F++XQNkBUAaNjwSkjdR5qZmrlCNPTuQ/KsrhN9Xwqfdbrdx49PpiYmJI9dqXjVskMNaFTSrkPw5iGrgEapzXeQSNPEDFdoQ/AMTZpPzrc44p+PXzgdI7kdKrOgACs5MP2IJgucA6qA9ai94Dv2MYRBDB5jAdiy4OyEkuavnEreeD1ylhL0aMzMzGyO7h8NaFUA890r551Z6zfRz3c4aPn1CM2LYMNY08ZrRUp3k65L+/MUo4T95SukUGWdQfc2g/O6mlNdNE/Wm9l8ImkmSdLrdbqrnxPfu3asYY2rGmKdW4LLpfgfAxtCx/l1O6q03lkXk5RWKjHN1AGydn59v3nbePPb/SrhBtaW49TGXGXtQ/skKlOTtWp7ndZJPSerOCQA6HBwQtPI8fwug1e1234wrtL7+DwPJMOHHPX7SAAAAAElFTkSuQmCC";const g1=e=>(pt("data-v-0d647fd0"),e=e(),yt(),e),VU={class:"administer-top"},zU={class:"card"},$U={class:"warper"},HU={class:"logo"},GU=g1(()=>O("h1",null,"\u7BA1\u7406 \u83DC\u8C31",-1)),KU={class:"fav-menu"},jU={class:"select"},WU=["onClick"],qU=["onClick"],YU={class:"left"},QU={class:"right"},JU={key:0},XU={key:1},ZU={class:"menu_user"},e6={class:"img"},t6={class:"word"},n6={class:"fav-menu-bottom"},r6={class:"card"},i6={class:"warper"},s6={class:"left"},o6={class:"right"},a6={class:"fav-menu-mask"},l6=g1(()=>O("div",{class:"fav-menu-top"},[O("div",{class:"left"},[O("h1",null,"\u52A0\u5165\u5206\u7EC4")]),O("div",{class:"right"},[O("h1",null,"\u521B\u5EFA\u5206\u7EC4")])],-1)),u6={class:"fav-menu-footer"},c6={class:"left"},d6={class:"logo"},f6={key:0,src:ol,alt:""},h6={key:1,class:"menu-card"},g6={key:0,class:"one"},v6={key:1,class:"two"},m6={key:2,class:"three"},p6={key:3,class:"three"},y6={class:"word"},_6={class:"right"},A6=["onClick"],b6=["onClick"],E6={__name:"AdministerView",setup(e){var _;const t=Qn(),n=Z(JSON.parse(localStorage.getItem("history_menu")).filter(v=>v.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid)||[]),r=Z(JSON.parse(localStorage.getItem("history_menu")).filter(v=>v.userid!=JSON.parse(localStorage.getItem("logintrue"))[0].userid)||[]),i=Z([]),o=Z([]),l=({focuslist:v})=>{console.log(v),o.value=[{userid:v.userid,focus_id:v.focus_id},...o.value]},f=({id:v})=>{console.log(v),o.value=o.value.filter(p=>p.focus_id!=v)},c=({id:v})=>{i.value=[{userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,menuid:v},...i.value]},a=({id:v})=>{i.value=i.value.filter(p=>p.menuid!=v)};function h(){i.value.forEach(p=>{console.log(p),n.value=n.value.filter(A=>A.menuid!=p.menuid)});let v=[...n.value,...r.value];localStorage.setItem("history_menu",JSON.stringify(v))}const m=Z(!1),g=()=>{m.value=!0},w=Z(JSON.parse(localStorage.getItem("history_focus")).filter(v=>v.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid)),T=Z(JSON.parse(localStorage.getItem("grouping_local"))||[]);function y(){let v=[];console.log(n.value);let p=[];i.value.forEach(A=>{p=[...n.value.filter(b=>b.menuid==A.menuid),...p]}),console.log("a",p),console.log(i.value),console.log(o.value),p.forEach(A=>{o.value.forEach(b=>{v=[{focus_id:b.focus_id,userid:A.userid,menuid:A.menuid,menupath:A.menupath,menutitle:A.menutitle,menuvc:A.menuvc,menunickname:A.menunickname,menuphoto:A.menuphoto,menuoption:A.menuoption,menufinish:A.menufinish},...v]})}),console.log("template_tarize",v),T.value=[...v,...T.value],localStorage.setItem("grouping_local",JSON.stringify(T.value)),location.reload()}const d=Z(((_=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:_.filter(v=>v.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[]);return(v,p)=>{const A=Ge("van-image"),b=Ge("van-popup");return K(),W(Le,null,[O("div",VU,[O("div",zU,[O("div",$U,[O("div",HU,[O("img",{onClick:p[0]||(p[0]=E=>re(t).push({path:"/fav"})),src:$r,alt:""}),GU])])])]),O("div",KU,[O("ul",null,[(K(!0),W(Le,null,We(n.value,E=>(K(),W("li",{key:E.menuid},[O("div",jU,[i.value.filter(x=>x.menuid==E.menuid).length==0?(K(),W("img",{key:0,onClick:x=>c({id:E.menuid}),src:Xa,alt:""},null,8,WU)):(K(),W("img",{key:1,onClick:x=>a({id:E.menuid}),src:ng,alt:""},null,8,qU))]),O("div",YU,[B(A,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${E.menupath}`},null,8,["src"])]),O("div",QU,[O("h1",null,le(E.menutitle),1),E.menuvc.toString().length>4?(K(),W("p",JU,le((E.menuvc/1e4).toFixed(1))+"\u4E07\u4EBA\u770B\u8FC7 ",1)):(K(),W("p",XU,le(E.menuvc)+"\u4EBA\u770B\u8FC7",1)),O("div",ZU,[O("div",e6,[B(A,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${E.menuphoto}`},null,8,["src"])]),O("div",t6,[O("h3",null,le(E.menunickname),1)])])])]))),128))])]),O("div",n6,[O("div",r6,[O("div",i6,[O("div",s6,[O("h1",null,"\u5DF2\u9009\u4E2D"+le(i.value.length)+"\u7BC7\u83DC\u8C31",1)]),O("div",o6,[O("p",{onClick:g,class:ut(["one",{oneactive:i.value.length!=0}])}," \u52A0\u5165\u5206\u7EC4 ",2),O("p",{class:ut(["two",{twoactive:i.value.length!=0}]),onClick:h}," \u53D6\u6D88\u6536\u85CF ",2)])])])]),O("div",a6,[B(b,{show:m.value,"onUpdate:show":p[1]||(p[1]=E=>m.value=E),round:"",position:"bottom",style:{height:"50%"}},{default:et(()=>[l6,(K(!0),W(Le,null,We(w.value,E=>{var x,k,L,S,C,I,D,P,F,U,M,V,H,z,j,Q,ie,ne,X,J,se,ce,me,Fe,Oe,Y,ee;return K(),W("div",u6,[O("div",c6,[O("div",d6,[((x=d.value)==null?void 0:x.filter(ae=>ae.focus_id==E.focus_id).length)==0?(K(),W("img",f6)):(K(),W("div",h6,[((k=d.value)==null?void 0:k.filter(ae=>ae.focus_id==E.focus_id).length)==1?(K(),W("div",g6,[B(A,{width:"50rem",height:"50rem",fit:"cover","lazy-load":"",src:(S=(L=d.value)==null?void 0:L.filter(ae=>ae.focus_id==E.focus_id)[0])==null?void 0:S.menupath},null,8,["src"])])):De("",!0),((C=d.value)==null?void 0:C.filter(ae=>ae.focus_id==E.focus_id).length)==2?(K(),W("div",v6,[B(A,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(D=(I=d.value)==null?void 0:I.filter(ae=>ae.focus_id==E.focus_id)[0])==null?void 0:D.menupath},null,8,["src"]),B(A,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(F=(P=d.value)==null?void 0:P.filter(ae=>ae.focus_id==E.focus_id)[1])==null?void 0:F.menupath},null,8,["src"])])):De("",!0),((U=d.value)==null?void 0:U.filter(ae=>ae.focus_id==E.focus_id).length)==3?(K(),W("div",m6,[B(A,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(V=(M=d.value)==null?void 0:M.filter(ae=>ae.focus_id==E.focus_id)[0])==null?void 0:V.menupath},null,8,["src"]),B(A,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(z=(H=d.value)==null?void 0:H.filter(ae=>ae.focus_id==E.focus_id)[1])==null?void 0:z.menupath},null,8,["src"]),B(A,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(Q=(j=d.value)==null?void 0:j.filter(ae=>ae.focus_id==E.focus_id)[2])==null?void 0:Q.menupath},null,8,["src"])])):De("",!0),((ie=d.value)==null?void 0:ie.filter(ae=>ae.focus_id==E.focus_id).length)>=4?(K(),W("div",p6,[B(A,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(X=(ne=d.value)==null?void 0:ne.filter(ae=>ae.focus_id==E.focus_id)[0])==null?void 0:X.menupath},null,8,["src"]),B(A,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(se=(J=d.value)==null?void 0:J.filter(ae=>ae.focus_id==E.focus_id)[1])==null?void 0:se.menupath},null,8,["src"]),B(A,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(me=(ce=d.value)==null?void 0:ce.filter(ae=>ae.focus_id==E.focus_id)[2])==null?void 0:me.menupath},null,8,["src"]),B(A,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(Oe=(Fe=d.value)==null?void 0:Fe.filter(ae=>ae.focus_id==E.focus_id)[3])==null?void 0:Oe.menupath},null,8,["src"])])):De("",!0)]))]),O("div",y6,[O("h1",null,le(E.focus_id),1),O("p",null,"\u5171"+le((Y=d.value)==null?void 0:Y.filter(ae=>ae.focus_id==E.focus_id).length)+"\u7BC7\u83DC\u8C31",1)])]),O("div",_6,[((ee=o.value)==null?void 0:ee.filter(ae=>ae.focus_id==E.focus_id).length)==0?(K(),W("img",{key:0,onClick:ae=>l({focuslist:E}),src:Xa,alt:""},null,8,A6)):(K(),W("img",{key:1,onClick:ae=>f({id:E.focus_id}),src:h1,alt:""},null,8,b6))])])}),256)),O("div",{class:"menu-mask"},[O("div",{class:"warper"},[O("h1",{onClick:y},"\u786E\u8BA4")])])]),_:1},8,["show"])])],64)}}},S6=wt(E6,[["__scopeId","data-v-0d647fd0"]]);const ds=e=>(pt("data-v-25c7134b"),e=e(),yt(),e),T6={class:"group-top"},w6={class:"card"},C6={class:"warper"},k6={class:"logo"},x6={class:"vant-group"},I6={class:"card"},R6=ds(()=>O("h3",null,null,-1)),L6={class:"vant-group-mask"},D6=ds(()=>O("div",{class:"vant-group-top"},[O("h1",null,"\u6E29\u99A8\u63D0\u793A")],-1)),O6=ds(()=>O("div",{class:"vant-group-center"},[O("h1",null,"\u786E\u5B9A\u8981\u5220\u9664\u6B64\u5206\u7EC4\u5417?")],-1)),P6={class:"fav-focus-vant"},B6=ds(()=>O("div",{class:"left"},"\u7F16\u8F91\u5206\u7EC4",-1)),F6={class:"vant-bottom"},M6={class:"left"},N6={key:0,src:ol,alt:""},U6={key:1,class:"menu-card"},V6={key:0,class:"one"},z6={key:1,class:"two"},$6={key:2,class:"three"},H6={key:3,class:"three"},G6=["placeholder"],K6={class:"right"},j6={class:"vant-mask"},W6=ds(()=>O("h1",null,"\u4E0D\u80FD\u8D85\u8FC716\u4E2A\u5B57\u54E6",-1)),q6=[W6],Y6={key:0,class:"fav-top"},Q6={key:0,class:"card"},J6={class:"left"},X6={class:"logo"},Z6={class:"word"},eV=ds(()=>O("i",null,[O("img",{src:rl,alt:""})],-1)),tV={key:1,class:"fav-search"},nV={action:"/"},rV={key:1,class:"fav-mask"},iV=ds(()=>O("img",{src:tg,alt:""},null,-1)),sV=ds(()=>O("h1",null,"\u4F60\u7684\u83DC\u8C31\u6536\u85CF\u5217\u8868\u6709\u70B9\u7A7A",-1)),oV=[iV,sV],aV={key:2,class:"fav-menu"},lV={class:"left"},uV={class:"right"},cV={key:0},dV={key:1},fV={class:"menu_user"},hV={class:"img"},gV={class:"word"},vV={key:3,class:"fav-menu-search"},mV={class:"left"},pV={class:"right"},yV={key:0},_V={key:1},AV={class:"menu_user"},bV={class:"img"},EV={class:"word"},SV={__name:"GroupView",setup(e){var P,F,U,M,V;const t=Qn(),n=Tr(),r=Z((F=(P=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:P.filter(H=>H.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:F.filter(H=>H.focus_id==n.query.test)),i=Z(JSON.parse(localStorage.getItem("grouping_local"))==null?!1:((M=(U=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:U.filter(H=>H.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:M.filter(H=>H.focus_id==n.query.test).length)!=0),o=Z(!0),l=Z(!0),f=Z(0),c=Z(0),a=Z(""),h=H=>T(H),m=()=>g("\u53D6\u6D88");function g(H){console.log("CancelToast",H),l.value=!0,o.value=!0}function w(){o.value=!1}function T(H){var z;console.log("SearchToast",H),l.value=!1,y.value=(z=r.value)==null?void 0:z.filter(j=>j.menutitle.includes(H)==!0)}const y=Z([]),d=Z(!1),_=()=>{d.value=!0},v=Z(!1),p=()=>{d.value=!1,v.value=!0};function A(){d.value=!1}const b=Z(""),E=Z(""),x=Z(!1);function k(){var j,Q,ie,ne;console.log("getfocus");let H=(Q=(j=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:j.filter(X=>X.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:Q.filter(X=>(X.focus_id!=n.query.test||(X.focus_id=b.value),X));localStorage.setItem("grouping_local",JSON.stringify(H));let z=(ne=(ie=JSON.parse(localStorage.getItem("history_focus")))==null?void 0:ie.filter(X=>X.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:ne.filter(X=>(X.focus_id!=n.query.test||(X.focus_id=b.value),X));localStorage.setItem("history_focus",JSON.stringify(z)),t.push({path:"/group",query:{test:b.value}}),n.query.test=b.value,v.value=!1}const L=Z(!1);function S(){console.log("\u5220\u9664\u5206\u7EC4"),d.value=!1,L.value=!0}function C(){L.value=!1}function I(){var X,J,se,ce,me,Fe;console.log("\u786E\u5B9A\u5220\u9664\u5206\u7EC4");let H=(X=JSON.parse(localStorage.getItem("history_focus")))==null?void 0:X.filter(Oe=>Oe.userid!=JSON.parse(localStorage.getItem("logintrue"))[0].userid),z=(se=(J=JSON.parse(localStorage.getItem("history_focus")))==null?void 0:J.filter(Oe=>Oe.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:se.filter(Oe=>Oe.focus_id!=n.query.test),j=[...H,...z];localStorage.setItem("history_focus",JSON.stringify(j));let Q=((ce=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:ce.filter(Oe=>Oe.userid!=JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[],ie=((Fe=(me=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:me.filter(Oe=>Oe.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:Fe.filter(Oe=>Oe.focus_id!=n.query.test))||[],ne=[...Q,...ie];localStorage.setItem("grouping_local",JSON.stringify(ne)),t.push({path:"/favfocus"})}Me(b,(H,z)=>{console.log(H,z),E.value=H,E.value.length>16&&(console.log("\u5927\u4E8E"),b.value=z,x.value=!0,setTimeout(()=>{x.value=!1},1e3))});const D=Z((V=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:V.filter(H=>{var z;return H.userid==((z=JSON.parse(localStorage.getItem("logintrue"))[0])==null?void 0:z.userid)}));return(H,z)=>{var X,J;const j=Ge("van-popup"),Q=Ge("van-image"),ie=Ge("van-circle"),ne=Ge("van-search");return K(),W(Le,null,[O("div",T6,[O("div",w6,[O("div",C6,[O("div",k6,[O("img",{onClick:z[0]||(z[0]=se=>re(t).push({path:"/favfocus"})),src:$r,alt:""}),O("h1",null,le(re(n).query.test),1),O("img",{onClick:_,class:"fq-logo",src:f1,alt:""})])])])]),O("div",x6,[B(j,{show:d.value,"onUpdate:show":z[2]||(z[2]=se=>d.value=se),round:"",position:"bottom",style:{height:"30%"}},{default:et(()=>[O("div",I6,[O("h1",{onClick:p},"\u7F16\u8F91\u540D\u79F0"),O("h1",{onClick:z[1]||(z[1]=se=>re(t).push({path:"/groupadminister",query:{test:re(n).query.test}}))}," \u7BA1\u7406 "),O("h1",{class:"cardactive",onClick:S},"\u5220\u9664\u5206\u7EC4"),R6,O("p",{onClick:A},"\u53D6\u6D88")])]),_:1},8,["show"])]),O("div",L6,[B(j,{show:L.value,"onUpdate:show":z[3]||(z[3]=se=>L.value=se),teleport:"body",style:{width:"80%",height:"20%"}},{default:et(()=>[O("div",{class:"vant-group-bigbox"},[D6,O6,O("div",{class:"vant-group-bottom"},[O("h1",{class:"one",onClick:C},"\u53D6\u6D88"),O("h1",{class:"two",onClick:I},"\u786E\u5B9A")])])]),_:1},8,["show"])]),O("div",P6,[B(j,{show:v.value,"onUpdate:show":z[5]||(z[5]=se=>v.value=se),round:"",position:"bottom",style:{height:"20%"}},{default:et(()=>{var se,ce,me,Fe,Oe,Y,ee,ae,fe,ge,_e,xe,Te,Ie,pe,Ne,Ae,Ue,Ke,Ye,it,nt,_t,Ft,sn;return[O("div",{class:"vant-top"},[B6,O("div",{class:"right",onClick:k},"\u786E\u5B9A")]),O("div",F6,[O("div",M6,[((se=D.value)==null?void 0:se.filter(rt=>rt.focus_id==re(n).query.test).length)!=0?(K(),W("img",N6)):(K(),W("div",U6,[((ce=D.value)==null?void 0:ce.filter(rt=>rt.focus_id==re(n).query.test).length)==1?(K(),W("div",V6,[B(Q,{width:"50rem",height:"50rem",fit:"cover","lazy-load":"",src:(Fe=(me=D.value)==null?void 0:me.filter(rt=>rt.focus_id==re(n).query.test)[0])==null?void 0:Fe.menupath},null,8,["src"])])):De("",!0),((Oe=D.value)==null?void 0:Oe.filter(rt=>rt.focus_id==re(n).query.test).length)==2?(K(),W("div",z6,[B(Q,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(ee=(Y=D.value)==null?void 0:Y.filter(rt=>rt.focus_id==re(n).query.test)[0])==null?void 0:ee.menupath},null,8,["src"]),B(Q,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(fe=(ae=D.value)==null?void 0:ae.filter(rt=>rt.focus_id==re(n).query.test)[1])==null?void 0:fe.menupath},null,8,["src"])])):De("",!0),((ge=D.value)==null?void 0:ge.filter(rt=>rt.focus_id==re(n).query.test).length)==3?(K(),W("div",$6,[B(Q,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(xe=(_e=D.value)==null?void 0:_e.filter(rt=>rt.focus_id==re(n).query.test)[0])==null?void 0:xe.menupath},null,8,["src"]),B(Q,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(Ie=(Te=D.value)==null?void 0:Te.filter(rt=>rt.focus_id==re(n).query.test)[1])==null?void 0:Ie.menupath},null,8,["src"]),B(Q,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(Ne=(pe=D.value)==null?void 0:pe.filter(rt=>rt.focus_id==re(n).query.test)[2])==null?void 0:Ne.menupath},null,8,["src"])])):De("",!0),((Ae=D.value)==null?void 0:Ae.filter(rt=>rt.focus_id==re(n).query.test).length)>=4?(K(),W("div",H6,[B(Q,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(Ke=(Ue=D.value)==null?void 0:Ue.filter(rt=>rt.focus_id==re(n).query.test)[0])==null?void 0:Ke.menupath},null,8,["src"]),B(Q,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(it=(Ye=D.value)==null?void 0:Ye.filter(rt=>rt.focus_id==re(n).query.test)[1])==null?void 0:it.menupath},null,8,["src"]),B(Q,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(_t=(nt=D.value)==null?void 0:nt.filter(rt=>rt.focus_id==re(n).query.test)[2])==null?void 0:_t.menupath},null,8,["src"]),B(Q,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(sn=(Ft=D.value)==null?void 0:Ft.filter(rt=>rt.focus_id==re(n).query.test)[3])==null?void 0:sn.menupath},null,8,["src"])])):De("",!0)])),ft(O("input",{"onUpdate:modelValue":z[4]||(z[4]=rt=>b.value=rt),type:"",name:"",placeholder:`${re(n).query.test}`},null,8,G6),[[fc,b.value]])]),O("div",K6,[O("p",null,le(E.value.length)+"/16",1)])])]}),_:1},8,["show"])]),ft(O("div",j6,q6,512),[[St,x.value]]),i.value?(K(),W("div",Y6,[o.value?(K(),W("div",Q6,[O("div",J6,[O("div",X6,[B(ie,{"current-rate":f.value,"onUpdate:current-rate":z[6]||(z[6]=se=>f.value=se),rate:c.value,speed:100,color:"orange","layer-color":"rgb(245,245,245)",size:"25rem","stroke-width":200},null,8,["current-rate","rate"])]),O("div",Z6,[O("h1",null,le(100-c.value)+"%\u672A\u5B66\u505A",1),O("p",null," \u5171"+le((X=r.value)==null?void 0:X.length)+"\u7BC7\u83DC\u8C31,\u5DF2\u5B66\u505A"+le((J=r.value)==null?void 0:J.filter(se=>se.menufinish==!0).length)+"\u7BC7 ",1)])]),O("div",{class:"right"},[O("h1",{class:"search",onClick:w},[eV,xt(" \u641C\u7D22 ")])])])):(K(),W("div",tV,[O("form",nV,[B(ne,{modelValue:a.value,"onUpdate:modelValue":z[7]||(z[7]=se=>a.value=se),"show-action":"",placeholder:"\u641C\u7D22\u83DC\u8C31\u3001\u98DF\u6750\u3001\u7528\u6237\u7B49",onSearch:h,onCancel:m},null,8,["modelValue"])])]))])):(K(),W("div",rV,oV)),l.value?(K(),W("div",aV,[O("ul",null,[(K(!0),W(Le,null,We(r.value,se=>(K(),W("li",{key:se.menuid},[O("div",lV,[B(Q,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${se.menupath}`},null,8,["src"])]),O("div",uV,[O("h1",null,le(se.menutitle),1),se.menuvc.toString().length>4?(K(),W("p",cV,le((se.menuvc/1e4).toFixed(1))+"\u4E07\u4EBA\u770B\u8FC7 ",1)):(K(),W("p",dV,le(se.menuvc)+"\u4EBA\u770B\u8FC7",1)),O("div",fV,[O("div",hV,[B(Q,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${se.menuphoto}`},null,8,["src"])]),O("div",gV,[O("h3",null,le(se.menunickname),1)])])])]))),128))])])):(K(),W("div",vV,[O("ul",null,[(K(!0),W(Le,null,We(y.value,se=>(K(),W("li",{key:se.menuid},[O("div",mV,[B(Q,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${se.menupath}`},null,8,["src"])]),O("div",pV,[O("h1",null,le(se.menutitle),1),se.menuvc.toString().length>4?(K(),W("p",yV,le((se.menuvc/1e4).toFixed(1))+"\u4E07\u4EBA\u770B\u8FC7 ",1)):(K(),W("p",_V,le(se.menuvc)+"\u4EBA\u770B\u8FC7",1)),O("div",AV,[O("div",bV,[B(Q,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${se.menuphoto}`},null,8,["src"])]),O("div",EV,[O("h3",null,le(se.menunickname),1)])])])]))),128))])]))],64)}}},TV=wt(SV,[["__scopeId","data-v-25c7134b"]]);const rg=e=>(pt("data-v-a4818fdc"),e=e(),yt(),e),wV={class:"administer-top"},CV={class:"card"},kV={class:"warper"},xV={class:"logo"},IV={key:0,class:"fav-menu"},RV={class:"select"},LV=["onClick"],DV=["onClick"],OV={class:"left"},PV={class:"right"},BV={key:0},FV={key:1},MV={class:"menu_user"},NV={class:"img"},UV={class:"word"},VV={key:1,class:"administer-menu-mask"},zV=rg(()=>O("img",{src:tg,alt:""},null,-1)),$V=rg(()=>O("h1",null,"\u5206\u7EC4\u5185\u7A7A\u7A7A\u5982\u4E5F",-1)),HV=[zV,$V],GV={class:"fav-menu-bottom"},KV={class:"card"},jV={class:"warper"},WV={class:"left"},qV={class:"right"},YV={class:"fav-menu-mask"},QV=rg(()=>O("div",{class:"fav-menu-top"},[O("div",{class:"left"},[O("h1",null,"\u52A0\u5165\u5206\u7EC4")]),O("div",{class:"right"},[O("h1",null,"\u521B\u5EFA\u5206\u7EC4")])],-1)),JV={class:"fav-menu-footer"},XV={class:"left"},ZV={class:"logo"},ez={key:0,src:ol,alt:""},tz={key:1,class:"menu-card"},nz={key:0,class:"one"},rz={key:1,class:"two"},iz={key:2,class:"three"},sz={key:3,class:"three"},oz={class:"word"},az={class:"right"},lz=["onClick"],uz=["onClick"],cz={__name:"GroupadministerView",setup(e){var b,E,x,k,L,S,C,I;const t=Qn(),n=Tr(),r=Z((E=(b=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:b.filter(D=>{var P;return D.userid==((P=JSON.parse(localStorage.getItem("logintrue"))[0])==null?void 0:P.userid)}))==null?void 0:E.filter(D=>D.focus_id==n.query.test)),i=Z((k=(x=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:x.filter(D=>D.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:k.filter(D=>D.focus_id==n.query.test)),o=Z((S=(L=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:L.filter(D=>D.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))==null?void 0:S.filter(D=>D.focus_id!=n.query.test)),l=Z((C=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:C.filter(D=>D.userid!=JSON.parse(localStorage.getItem("logintrue"))[0].userid)),f=Z([]),c=({id:D})=>{f.value=[{userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,menuid:D},...f.value]},a=({id:D})=>{f.value=f.value.filter(P=>P.menuid!=D)};function h(){console.log("removegroup"),console.log("tick_group",f),console.log("groupall",r),console.log("reallgroupall",o),console.log("regroupall",l),f.value.forEach(P=>{console.log(P),r.value=r.value.filter(F=>F.menuid!=P.menuid)});let D=[...r.value,...o.value,...l.value];localStorage.setItem("grouping_local",JSON.stringify(D)),location.reload()}const m=Z(!1),g=()=>{m.value=!0},w=Z(JSON.parse(localStorage.getItem("history_focus")).filter(D=>D.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid)),T=Z([]),y=({focuslist:D})=>{console.log(D),T.value=[{userid:D.userid,focus_id:D.focus_id},...T.value]},d=({id:D})=>{console.log(D),T.value=T.value.filter(P=>P.focus_id!=D)};let _=[],v=[];function p(){let D=JSON.parse(localStorage.getItem("grouping_local"));console.log("\u786E\u8BA4"),console.log("local_focus",T.value),console.log("tick_group",f.value),console.log("newgroupall,\u9700\u8981\u4FEE\u6539\u7684\u6570\u636E",i.value),console.log("newreallgroupall,\u540E\u7EED\u8981\u5408\u5E76\u7684\u6570\u636E",o),console.log("newregroupall,\u540E\u7EED\u8981\u5408\u5E76\u7684\u6570\u636E",l),console.log("grouping_local",D),i.value.map(F=>{f.value.map(U=>{F.menuid==U.menuid&&T.value.map(M=>{F.focus_id=M.focus_id,_.push({...F})})})}),console.log(_),i.value.map(F=>{F.focus_id==n.query.test&&v.push({...F})}),console.log(v);let P=[..._,...v,...o.value,...l.value];console.log(P),localStorage.setItem("grouping_local",JSON.stringify(P)),location.reload()}const A=Z((I=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:I.filter(D=>D.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid));return(D,P)=>{const F=Ge("van-image"),U=Ge("van-popup");return K(),W(Le,null,[O("div",wV,[O("div",CV,[O("div",kV,[O("div",xV,[O("img",{onClick:P[0]||(P[0]=M=>re(t).push({path:"/group",query:{test:re(n).query.test}})),src:$r,alt:""}),O("h1",null,"\u7BA1\u7406 "+le(re(n).query.test),1),O("p",{onClick:P[1]||(P[1]=M=>re(t).push({path:"/addmenu",query:{test:re(n).query.test}}))}," \u6DFB\u52A0\u83DC\u8C31 ")])])])]),r.value?(K(),W("div",IV,[O("ul",null,[(K(!0),W(Le,null,We(r.value,M=>(K(),W("li",{key:M.menuid},[O("div",RV,[f.value.filter(V=>V.menuid==M.menuid).length==0?(K(),W("img",{key:0,onClick:V=>c({id:M.menuid}),src:Xa,alt:""},null,8,LV)):(K(),W("img",{key:1,onClick:V=>a({id:M.menuid}),src:ng,alt:""},null,8,DV))]),O("div",OV,[B(F,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${M.menupath}`},null,8,["src"])]),O("div",PV,[O("h1",null,le(M.menutitle),1),M.menuvc.toString().length>4?(K(),W("p",BV,le((M.menuvc/1e4).toFixed(1))+"\u4E07\u4EBA\u770B\u8FC7 ",1)):(K(),W("p",FV,le(M.menuvc)+"\u4EBA\u770B\u8FC7",1)),O("div",MV,[O("div",NV,[B(F,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${M.menuphoto}`},null,8,["src"])]),O("div",UV,[O("h3",null,le(M.menunickname),1)])])])]))),128))])])):(K(),W("div",VV,HV)),O("div",GV,[O("div",KV,[O("div",jV,[O("div",WV,[O("h1",null,"\u5DF2\u9009\u4E2D"+le(f.value.length)+"\u7BC7\u83DC\u8C31",1)]),O("div",qV,[O("p",{class:ut(["one",{oneactive:f.value.length!=0}]),onClick:g}," \u79FB\u52A8\u5230 ",2),O("p",{class:ut(["two",{twoactive:f.value.length!=0}]),onClick:h}," \u79FB\u9664 ",2)])])])]),O("div",YV,[B(U,{show:m.value,"onUpdate:show":P[2]||(P[2]=M=>m.value=M),round:"",position:"bottom",style:{height:"50%"}},{default:et(()=>[QV,(K(!0),W(Le,null,We(w.value,M=>{var V,H,z,j,Q,ie,ne,X,J,se,ce,me,Fe,Oe,Y,ee,ae,fe,ge,_e,xe,Te,Ie,pe,Ne;return K(),W("div",JV,[O("div",XV,[O("div",ZV,[((V=A.value)==null?void 0:V.filter(Ae=>Ae.focus_id==M.focus_id).length)==0?(K(),W("img",ez)):(K(),W("div",tz,[((H=A.value)==null?void 0:H.filter(Ae=>Ae.focus_id==M.focus_id).length)==1?(K(),W("div",nz,[B(F,{width:"50rem",height:"50rem",fit:"cover","lazy-load":"",src:(j=(z=A.value)==null?void 0:z.filter(Ae=>Ae.focus_id==M.focus_id)[0])==null?void 0:j.menupath},null,8,["src"])])):De("",!0),((Q=A.value)==null?void 0:Q.filter(Ae=>Ae.focus_id==M.focus_id).length)==2?(K(),W("div",rz,[B(F,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(ne=(ie=A.value)==null?void 0:ie.filter(Ae=>Ae.focus_id==M.focus_id)[0])==null?void 0:ne.menupath},null,8,["src"]),B(F,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(J=(X=A.value)==null?void 0:X.filter(Ae=>Ae.focus_id==M.focus_id)[1])==null?void 0:J.menupath},null,8,["src"])])):De("",!0),((se=A.value)==null?void 0:se.filter(Ae=>Ae.focus_id==M.focus_id).length)==3?(K(),W("div",iz,[B(F,{width:"50rem",height:"24rem",fit:"cover","lazy-load":"",src:(me=(ce=A.value)==null?void 0:ce.filter(Ae=>Ae.focus_id==M.focus_id)[0])==null?void 0:me.menupath},null,8,["src"]),B(F,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(Oe=(Fe=A.value)==null?void 0:Fe.filter(Ae=>Ae.focus_id==M.focus_id)[1])==null?void 0:Oe.menupath},null,8,["src"]),B(F,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(ee=(Y=A.value)==null?void 0:Y.filter(Ae=>Ae.focus_id==M.focus_id)[2])==null?void 0:ee.menupath},null,8,["src"])])):De("",!0),((ae=A.value)==null?void 0:ae.filter(Ae=>Ae.focus_id==M.focus_id).length)>=4?(K(),W("div",sz,[B(F,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(ge=(fe=A.value)==null?void 0:fe.filter(Ae=>Ae.focus_id==M.focus_id)[0])==null?void 0:ge.menupath},null,8,["src"]),B(F,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(xe=(_e=A.value)==null?void 0:_e.filter(Ae=>Ae.focus_id==M.focus_id)[1])==null?void 0:xe.menupath},null,8,["src"]),B(F,{width:"24rem",height:"24rem",fit:"cover","lazy-load":"",src:(Ie=(Te=A.value)==null?void 0:Te.filter(Ae=>Ae.focus_id==M.focus_id)[2])==null?void 0:Ie.menupath},null,8,["src"]),B(F,{width:"24rem",height:"24rem",fit:"cover",style:{"margin-left":"2rem"},"lazy-load":"",src:(Ne=(pe=A.value)==null?void 0:pe.filter(Ae=>Ae.focus_id==M.focus_id)[3])==null?void 0:Ne.menupath},null,8,["src"])])):De("",!0)]))]),O("div",oz,[O("h1",null,le(M.focus_id),1)])]),O("div",az,[T.value.filter(Ae=>Ae.focus_id==M.focus_id).length==0?(K(),W("img",{key:0,onClick:Ae=>y({focuslist:M}),src:Xa,alt:""},null,8,lz)):(K(),W("img",{key:1,onClick:Ae=>d({id:M.focus_id}),src:h1,alt:""},null,8,uz))])])}),256)),O("div",{class:"menu-mask"},[O("div",{class:"warper"},[O("h1",{onClick:p},"\u786E\u8BA4")])])]),_:1},8,["show"])])],64)}}},Ey=wt(cz,[["__scopeId","data-v-a4818fdc"]]),dz={__name:"ReleaseView",setup(e){const t=n=>{console.log(n)};return Z([{url:"https://fastly.jsdelivr.net/npm/@vant/assets/leaf.jpeg"},{url:"https://cloud-image",isImage:!0}]),(n,r)=>{const i=Ge("van-uploader");return K(),W("div",null,[xt(" release "),B(i,{"after-read":t})])}}};const ll=e=>(pt("data-v-1034ab69"),e=e(),yt(),e),fz={class:"purchase"},hz=ll(()=>O("p",{style:{fontSize:"16rem",marginBottom:"10rem"}},"\u63D0\u793A",-1)),gz=ll(()=>O("p",{style:{fontSize:"16rem",marginBottom:"40rem"}},"\u786E\u8BA4\u6E05\u7A7A\u5417",-1)),vz={style:{textAlign:"right"}},mz=ll(()=>O("div",{class:"purchase_fixed"},null,-1)),pz={class:"puchase_nav"},yz={class:"return_clear"},_z={class:"return"},Az=ll(()=>O("span",null,"\u91C7\u8D2D\u6E05\u5355",-1)),bz={class:"clear"},Ez={class:"menu_all"},Sz={key:0},Tz={key:0},wz={key:0,ref:"ul"},Cz=ll(()=>O("div",null,null,-1)),kz={class:"food"},xz={key:1},Iz={class:"food"},Rz={__name:"PurchaseView",setup(e){const t=zr(),n=Z(!1),r=Z(!1),i=()=>{r.value=!0};function o(){r.value=!1,t.clearPurchase()}return(l,f)=>{const c=Ge("van-popup"),a=Ge("van-cell"),h=Ge("van-image");return K(),W("div",fz,[B(c,{show:r.value,"onUpdate:show":f[1]||(f[1]=m=>r.value=m),style:{height:"150rem",width:"300rem",borderRadius:"3rem",padding:"20rem"}},{default:et(()=>[hz,gz,O("div",vz,[O("span",{onClick:f[0]||(f[0]=m=>r.value=!1)},"\u5426"),O("span",{style:_r({color:"rgb(81, 151, 160)",marginLeft:"20rem"}),onClick:o},"\u662F",4)])]),_:1},8,["show"]),mz,O("div",pz,[O("div",yz,[O("div",_z,[O("img",{src:$r,alt:"",onClick:f[2]||(f[2]=m=>l.$router.back())}),Az]),O("div",bz,[B(a,{onClick:i},{default:et(()=>[xt("\u6E05\u7A7A")]),_:1})])]),O("div",Ez,[O("div",null,[O("span",{onClick:f[3]||(f[3]=m=>n.value=!1),class:ut({zzz:!n.value})},"\u6309\u83DC\u8C31",2),n.value?De("",!0):(K(),W("span",Sz))]),O("div",null,[O("span",{onClick:f[4]||(f[4]=m=>n.value=!0),class:ut({zzz:n.value})},"\u5168\u90E8",2),n.value?(K(),W("span",Tz)):De("",!0)])])]),n.value?De("",!0):(K(),W("ul",wz,[(K(!0),W(Le,null,We(re(t).purchase_list,m=>(K(),W("li",null,[Cz,B(h,{width:"100%",height:"100",src:m.image,fit:"cover"},null,8,["src"]),(K(!0),W(Le,null,We(m.list,g=>(K(),W("div",kz,[O("span",null,le(g.title),1),O("span",null,le(g.note),1)]))),256))]))),256))],512)),n.value?(K(),W("ul",xz,[(K(!0),W(Le,null,We(re(t).purchase_list,m=>(K(),W("li",null,[(K(!0),W(Le,null,We(m.list,g=>(K(),W("div",Iz,[O("span",null,le(g.title),1),O("span",null,le(g.note),1)]))),256))]))),256))])):De("",!0)])}}},Lz=wt(Rz,[["__scopeId","data-v-1034ab69"]]);const Dz=e=>(pt("data-v-512ca614"),e=e(),yt(),e),Oz={class:"administer-top"},Pz={class:"card"},Bz={class:"warper"},Fz={class:"logo"},Mz=Dz(()=>O("div",{class:"addmenu-top"},[O("h1",null,"\u6B64\u9875\u9762\u4EC5\u5C55\u793A\u672A\u6DFB\u52A0\u8FDB\u8BE5\u5206\u7EC4\u7684\u83DC\u8C31")],-1)),Nz={class:"fav-menu"},Uz={class:"select"},Vz=["onClick"],zz=["onClick"],$z={class:"left"},Hz={class:"right"},Gz={key:0},Kz={key:1},jz={class:"menu_user"},Wz={class:"img"},qz={class:"word"},Yz={class:"fav-menu-bottom"},Qz={class:"card"},Jz={class:"warper"},Xz={class:"left"},Zz={class:"right"},e$={__name:"AddmenuView",setup(e){var m,g,w,T,y;const t=Qn(),n=Tr(),r=Z(((m=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:m.filter(d=>d.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid).filter(d=>d.focus_id==n.query.test))||[]),i=Z(((g=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:g.filter(d=>d.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid).filter(d=>d.focus_id!=n.query.test))||[]),o=Z(((w=JSON.parse(localStorage.getItem("grouping_local")))==null?void 0:w.filter(d=>d.userid!=JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[]),l=Z(((T=JSON.parse(localStorage.getItem("history_menu")))==null?void 0:T.filter(d=>d.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[]);(y=r.value)==null||y.forEach(d=>{var _;console.log(d),l.value=(_=l.value)==null?void 0:_.filter(v=>v.menuid!=d.menuid)});const f=Z([]),c=({id:d})=>{f.value=[{userid:JSON.parse(localStorage.getItem("logintrue"))[0].userid,menuid:d},...f.value]},a=({id:d})=>{f.value=f.value.filter(_=>_.menuid!=d)};console.log(l.value);function h(){console.log("addmenu");let d=[];f.value.forEach(v=>{d.push(...l.value.filter(p=>p.menuid==v.menuid))}),d.forEach((v,p)=>{d[p].focus_id=n.query.test});let _=[...d,...r.value,...i.value,...o.value];console.log(_),localStorage.setItem("grouping_local",JSON.stringify(_)),t.push({path:"/groupadminister",query:{test:n.query.test}})}return(d,_)=>{const v=Ge("van-image");return K(),W(Le,null,[O("div",Oz,[O("div",Pz,[O("div",Bz,[O("div",Fz,[O("img",{onClick:_[0]||(_[0]=p=>re(t).push({path:"/groupadminister",query:{test:re(n).query.test}})),src:$r,alt:""}),O("h1",null,"\u6DFB\u52A0\u81F3 "+le(re(n).query.test),1)])])])]),Mz,O("div",Nz,[O("ul",null,[(K(!0),W(Le,null,We(l.value,p=>(K(),W("li",{key:p.menuid},[O("div",Uz,[f.value.filter(A=>A.menuid==p.menuid).length==0?(K(),W("img",{key:0,onClick:A=>c({id:p.menuid}),src:Xa,alt:""},null,8,Vz)):(K(),W("img",{key:1,onClick:A=>a({id:p.menuid}),src:ng,alt:""},null,8,zz))]),O("div",$z,[B(v,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${p.menupath}`},null,8,["src"])]),O("div",Hz,[O("h1",null,le(p.menutitle),1),p.menuvc.toString().length>4?(K(),W("p",Gz,le((p.menuvc/1e4).toFixed(1))+"\u4E07\u4EBA\u770B\u8FC7 ",1)):(K(),W("p",Kz,le(p.menuvc)+"\u4EBA\u770B\u8FC7",1)),O("div",jz,[O("div",Wz,[B(v,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${p.menuphoto}`},null,8,["src"])]),O("div",qz,[O("h3",null,le(p.menunickname),1)])])])]))),128))])]),O("div",Yz,[O("div",Qz,[O("div",Jz,[O("div",Xz,[O("h1",null,"\u5DF2\u9009\u4E2D"+le(f.value.length)+"\u7BC7\u83DC\u8C31",1)]),O("div",Zz,[O("p",{class:ut(["one",{oneactive:f.value.length!=0}]),onClick:h}," \u786E\u5B9A\u6DFB\u52A0 ",2)])])])])],64)}}},t$=wt(e$,[["__scopeId","data-v-512ca614"]]),n$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAQAAABJXchjAAAB9klEQVRo3u2YzUtUURiHn5mp+SiwcLAUF0GzkHJAdJqoVYtAGEEXQrixlRBEq/obImjpvo0G/QciLgUlRSgKtHIriuAwyjDcZpx7vS7mEvPV3LnnzmmGeH9nc3k5H889/N73cA6IRD2ogMKYKe679AixxLFO7FlsLOyWrYxNQifElgtApeV5qRNihlxbGDf1eiLDNKWWPYZY5PN/kR03eMwVbWvarLhDhCmR0/jj/WzzyK3TC4y2rKfeCrWVJtgE4icxzSa4zoG7J+Z4y5E2hHNesd/tZAjKaamuDJ946HOOeT4SVx+edpJqomk9aeb7Rr3Bxmx1mriZZBILMHhQF49xRImFuugaBTaJNBz+EOKEUVWI34Sa9ArzgVvAO0aqos9JA0me1iV+9k+57mi6nDNICIBoVTRCDOjj3t+X6+GcFQiBEAiBEAiBEAiBEAiBEAiB6E2IAKfOdbBYc2UsAgbGv4GweQ/AMr+qoitcANdY8jqd6mvlDldJ1CDAGXHG+O71JoqPJ1OzDqGib/o8EcD04TurMxARkj4g7vqFMCkD8JpxRYQ57jj7Yal64gd54oDFKuueH1gvSPHE+Y6yq7qVAxx25DXbYsNPOZun0BGM2/6q6jOyZDEVFy9ywh6p1snXjoZJkvRehAAo84Wv3ku5SNR1XQLOPiTxZ+/7GgAAAABJRU5ErkJggg==";const ul=e=>(pt("data-v-92a502cc"),e=e(),yt(),e),r$={class:"administer-top"},i$={class:"card"},s$={class:"warper"},o$={class:"logo"},a$=ul(()=>O("h1",null,"\u6700\u8FD1\u6D4F\u89C8\u83DC\u8C31",-1)),l$=ul(()=>O("img",{src:n$,alt:""},null,-1)),u$=[l$],c$={key:0,class:"fav-menu"},d$={class:"left"},f$={class:"right"},h$={class:"menu_user"},g$={class:"img"},v$={class:"word"},m$={key:1,class:"fav-menu-search"},p$=ul(()=>O("h1",null,"\u6682\u65E0\u6700\u8FD1\u6D4F\u89C8\u83DC\u8C31",-1)),y$=[p$],_$={class:"vant-group-mask"},A$={class:"vant-group-bigbox"},b$=ul(()=>O("div",{class:"vant-group-top"},[O("h1",null,"\u63D0\u793A")],-1)),E$=ul(()=>O("div",{class:"vant-group-center"},[O("h1",null,"\u786E\u8BA4\u6E05\u7A7A\u5417")],-1)),S$={class:"vant-group-bottom"},T$={__name:"RecordView",setup(e){var o;const t=Qn(),n=Z(((o=JSON.parse(localStorage.getItem("history_record")))==null?void 0:o.filter(l=>l.userid==JSON.parse(localStorage.getItem("logintrue"))[0].userid))||[]);function r(){localStorage.removeItem("history_record"),location.reload()}const i=Z(!1);return(l,f)=>{const c=Ge("van-image"),a=Ge("van-popup");return K(),W(Le,null,[O("div",r$,[O("div",i$,[O("div",s$,[O("div",o$,[O("img",{onClick:f[0]||(f[0]=h=>re(t).push({path:"/mine"})),src:$r,alt:""}),a$])]),ft(O("div",{class:"icon",onClick:f[1]||(f[1]=h=>i.value=!0)},u$,512),[[St,n.value.length!=0]])])]),n.value.length!=0?(K(),W("div",c$,[O("ul",null,[(K(!0),W(Le,null,We(n.value,h=>(K(),W("li",{key:h.menuid},[O("div",d$,[B(c,{width:"155rem",height:"105rem",fit:"cover","lazy-load":"",radius:"5rem",src:`${h.history_menu_path}`},null,8,["src"])]),O("div",f$,[O("h1",null,le(h.history_menu_id),1),O("div",h$,[O("div",g$,[B(c,{width:"20rem",height:"20rem","lazy-load":"",radius:"50%",src:`${h.historyuserpath}`},null,8,["src"])]),O("div",v$,[O("h3",null,le(h.historyuser),1)])])])]))),128))])])):(K(),W("div",m$,y$)),O("div",_$,[B(a,{show:i.value,"onUpdate:show":f[3]||(f[3]=h=>i.value=h),teleport:"body",style:{width:"80%",height:"20%"}},{default:et(()=>[O("div",A$,[b$,E$,O("div",S$,[O("h1",{class:"one",onClick:f[2]||(f[2]=h=>i.value=!1)},"\u5426"),O("h1",{class:"two",onClick:r},"\u662F")])])]),_:1},8,["show"])])],64)}}},w$=wt(T$,[["__scopeId","data-v-92a502cc"]]),C$=O("div",null,"testview",-1),k$=["src"],x$={__name:"TestView",setup(e){const t=Z(""),n=r=>{console.log(r.file);let i=new FileReader;i.readAsDataURL(r.file),i.onload=()=>{t.value=i.result,console.log(t.value)}};return(r,i)=>{const o=Ge("van-uploader");return K(),W(Le,null,[C$,B(o,{"after-read":n}),O("img",{src:`${t.value}`,alt:""},null,8,k$)],64)}}},I$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAA5CAQAAAD0QUFWAAAAfklEQVRYw+3XoQ2AMABE0UrYgQUQBBwCUYbBMxSCOVgDD74J1R9F8bSEhNwN8HLucsb8KNTMTJSxjOUAYCNPwQBUaZjnjbD4wDjaFG3EiBEjRowYQ8bOnTFmOVtcgDy9KFGiPqXsv6lDlKgXKEeRihriPu1NdbH3uGFhvQb+BArS9hg2az1lAAAAAElFTkSuQmCC";const R$={class:"cooking-top"},L$={class:"warper"},D$={class:"card"},O$={class:"bigbox"},P$={class:"cooking-center"},B$=["src"],F$={class:"word"},M$={__name:"CookingView",setup(e){const t=Tr(),n=Qn(),r=Z([]),i=Z(1),o=l=>{i.value=l+1};return zu(t.query.id).then(l=>{console.log("cooking",l.data.result.recipe.cookstep),r.value=l.data.result.recipe.cookstep}),(l,f)=>{var h;const c=Ge("van-swipe-item"),a=Ge("van-swipe");return K(),W(Le,null,[O("div",R$,[O("div",L$,[O("div",D$,[O("div",O$,[O("img",{onClick:f[0]||(f[0]=m=>re(n).push({path:"/menu",query:{id:re(t).query.id}})),src:I$,alt:""}),O("h1",null,le(i.value)+" / "+le(r.value.length),1)])])])]),O("div",P$,[B(a,{autoplay:3e3,"lazy-render":"",onChange:o,"show-indicators":!1},{default:et(()=>[(K(!0),W(Le,null,We(r.value,m=>(K(),Bn(c,null,{default:et(()=>[O("li",null,[O("img",{src:m.image,style:{width:"100%"}},null,8,B$)])]),_:2},1024))),256))]),_:1})]),O("h1",F$,le((h=r.value[i.value-1])==null?void 0:h.content),1)],64)}}},N$=wt(M$,[["__scopeId","data-v-bd314870"]]);const v1=e=>(pt("data-v-f862f35d"),e=e(),yt(),e),U$={class:"focus_author"},V$=v1(()=>O("div",{class:"fixed"},null,-1)),z$={class:"focus_nav"},$$=v1(()=>O("span",null,"\u6211\u7684\u597D\u53CB",-1)),H$=["onClick"],G$={class:"left"},K$={class:"info"},j$={class:"name_rank"},W$={class:"name"},q$={class:"intro"},Y$={class:"right"},Q$=["onClick"],J$=["onClick"],X$={__name:"FocusAuthor",setup(e){const t=zr();return(n,r)=>{const i=Ge("van-image");return K(),W("div",U$,[V$,O("div",z$,[O("img",{src:$r,alt:"",onClick:r[0]||(r[0]=o=>n.$router.push({path:"/mine"}))}),$$]),O("ul",null,[(K(!0),W(Le,null,We(re(t).focus_author,o=>(K(),W("div",{class:"focusa",key:o.id,onClick:l=>n.$router.push({path:"/userdetails",query:{id:o.id}})},[O("div",G$,[B(i,{round:"",width:"30rem",height:"30rem",src:o.image},null,8,["src"]),O("div",K$,[O("div",j$,[O("span",W$,le(o.name),1),O("i",{class:ut(["rank",{aaa:o.rank>=5}])},"LV."+le(o.rank),3)]),O("p",q$,le(o.intro),1)])]),O("div",Y$,[O("div",{class:ut(["focus",{zzz:re(t).focus_author.filter(l=>l.id==o.id).length}])},[re(t).focus_author.filter(l=>l.id==o.id).length?(K(),W("span",{key:1,class:"refocu",onClick:Wt(l=>re(t).deleFocusAuthor(o.id),["stop"])},"\u5DF2\u5173\u6CE8",8,J$)):(K(),W("span",{key:0,class:"focu",onClick:Wt(l=>re(t).addFocusAuthor({id:o.id,image:o.p,name:o.n,rank:o.lvl,intro:o.title}),["stop"])},"\u5173\u6CE8",8,Q$))],2)])],8,H$))),128))])])}}},Z$=wt(X$,[["__scopeId","data-v-f862f35d"]]),oh=JL({history:gL("/"),routes:[{path:"/",name:"home",component:TD,meta:{show:!0},children:[{path:"",name:"recommend",component:cP},{path:"focus",name:"focus",component:L2},{path:"note",name:"note",component:mB},{path:"video",name:"video",component:zB},{path:"activity",name:"activity",component:nF}]},{path:"/fav",name:"fav",component:pP,meta:{needLogin:!0,show:!0},children:[{path:"/favfocus",name:"favfocus",component:P8},{path:"",name:"favmenu",component:hU},{path:"/favnote",name:"favnote",component:FU},{path:"/favcourse",name:"favcourse",component:UU}]},{path:"/mine",name:"mine",component:v2,meta:{needLogin:!0,show:!0}},{path:"/search",name:"search",component:KF},{path:"/classify",name:"classify",component:lM},{path:"/me",name:"me",component:RM},{path:"/login",name:"login",component:vM},{path:"/register",name:"register",component:EM},{path:"/menu",name:"menu",component:w4},{path:"/noted",name:"noted",component:x5},{path:"/userdetails",name:"userdetails",component:l8},{path:"/administer",name:"administer",component:S6},{path:"/group",name:"group",component:TV},{path:"/groupadminister",name:"groupadminister",component:Ey},{path:"/release",name:"release",component:dz},{path:"/purchase",name:"purchase",component:Lz},{path:"/groupadminister",name:"groupadminister",component:Ey},{path:"/addmenu",name:"addmenu",component:t$},{path:"/record",name:"record",component:w$},{path:"/test",name:"test",component:x$},{path:"/focusAuthor",name:"focusAuthor",component:Z$},{path:"/cooking",name:"cooking",component:N$}]});oh.beforeEach((e,t)=>{let n=localStorage.getItem("logintrue");e.meta.needLogin&&!n&&(console.log("\u767B\u5F55\u754C\u9762"),console.log(e.fullPath),oh.push("/me?from="+e.fullPath))});const Tt=e=>e!=null,zo=e=>typeof e=="function",Gn=e=>e!==null&&typeof e=="object",ig=e=>Gn(e)&&zo(e.then)&&zo(e.catch),Do=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function m1(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const p1=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),eH=()=>fs?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Za(){}const qe=Object.assign,fs=typeof window<"u";function Sy(e,t){const n=t.split(".");let r=e;return n.forEach(i=>{var o;r=Gn(r)&&(o=r[i])!=null?o:""}),r}function Vt(e,t,n){return t.reduce((r,i)=>((!n||e[i]!==void 0)&&(r[i]=e[i]),r),{})}const $u=e=>Array.isArray(e)?e:[e],$t=null,Pe=[Number,String],Ce={type:Boolean,default:!0},fn=e=>({type:e,required:!0}),_n=()=>({type:Array,default:()=>[]}),ri=e=>({type:Number,default:e}),He=e=>({type:Pe,default:e}),ze=e=>({type:String,default:e});var Kn=typeof window<"u";function $n(e){return Kn?requestAnimationFrame(e):-1}function y1(e){Kn&&cancelAnimationFrame(e)}function ns(e){$n(()=>$n(e))}var tH=e=>e===window,Ty=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Bt=e=>{const t=re(e);if(tH(t)){const n=t.innerWidth,r=t.innerHeight;return Ty(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Ty(0,0)};function nH(e=!1){const t=Z(e);return[t,(r=!t.value)=>{t.value=r}]}function xn(e){const t=yn(e,null);if(t){const n=Yn(),{link:r,unlink:i,internalChildren:o}=t;r(n),si(()=>i(n));const l=ve(()=>o.indexOf(n));return{parent:t,index:l}}return{parent:null,index:Z(-1)}}function rH(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(i=>{var o;Uu(i)&&(t.push(i),(o=i.component)!=null&&o.subTree&&(t.push(i.component.subTree),n(i.component.subTree.children)),i.children&&n(i.children))})};return n(e),t}function iH(e,t,n){const r=rH(e.subTree.children);n.sort((o,l)=>r.indexOf(o.vnode)-r.indexOf(l.vnode));const i=n.map(o=>o.proxy);t.sort((o,l)=>{const f=i.indexOf(o),c=i.indexOf(l);return f-c})}function Fn(e){const t=Et([]),n=Et([]),r=Yn();return{children:t,linkChildren:o=>{Ti(e,Object.assign({link:c=>{c.proxy&&(n.push(c),t.push(c.proxy),iH(r,t,n))},unlink:c=>{const a=n.indexOf(c);t.splice(a,1),n.splice(a,1)},children:t,internalChildren:n},o))}}}var ah=1e3,lh=60*ah,uh=60*lh,wy=24*uh;function sH(e){const t=Math.floor(e/wy),n=Math.floor(e%wy/uh),r=Math.floor(e%uh/lh),i=Math.floor(e%lh/ah),o=Math.floor(e%ah);return{total:e,days:t,hours:n,minutes:r,seconds:i,milliseconds:o}}function oH(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function aH(e){let t,n,r,i;const o=Z(e.time),l=ve(()=>sH(o.value)),f=()=>{r=!1,y1(t)},c=()=>Math.max(n-Date.now(),0),a=y=>{var d,_;o.value=y,(d=e.onChange)==null||d.call(e,l.value),y===0&&(f(),(_=e.onFinish)==null||_.call(e))},h=()=>{t=$n(()=>{r&&(a(c()),o.value>0&&h())})},m=()=>{t=$n(()=>{if(r){const y=c();(!oH(y,o.value)||y===0)&&a(y),o.value>0&&m()}})},g=()=>{!Kn||(e.millisecond?h():m())},w=()=>{r||(n=Date.now()+o.value,r=!0,g())},T=(y=e.time)=>{f(),o.value=y};return Di(f),js(()=>{i&&(r=!0,i=!1,g())}),cs(()=>{r&&(f(),i=!0)}),{start:w,pause:f,reset:T,current:l}}function Xo(e){let t;Gt(()=>{e(),Ze(()=>{t=!0})}),js(()=>{t&&e()})}function vn(e,t,n={}){if(!Kn)return;const{target:r=window,passive:i=!1,capture:o=!1}=n;let l;const f=a=>{const h=re(a);h&&!l&&(h.addEventListener(e,t,{capture:o,passive:i}),l=!0)},c=a=>{const h=re(a);h&&l&&(h.removeEventListener(e,t,o),l=!1)};si(()=>c(r)),cs(()=>c(r)),Xo(()=>f(r)),Xt(r)&&Me(r,(a,h)=>{c(h),f(a)})}function wc(e,t,n={}){if(!Kn)return;const{eventName:r="click"}=n;vn(r,o=>{(Array.isArray(e)?e:[e]).every(c=>{const a=re(c);return a&&!a.contains(o.target)})&&t(o)},{target:document})}var au,mf;function lH(){if(!au&&(au=Z(0),mf=Z(0),Kn)){const e=()=>{au.value=window.innerWidth,mf.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:au,height:mf}}var uH=/scroll|auto|overlay/i,_1=Kn?window:void 0;function cH(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function sg(e,t=_1){let n=e;for(;n&&n!==t&&cH(n);){const{overflowY:r}=window.getComputedStyle(n);if(uH.test(r))return n;n=n.parentNode}return t}function Zo(e,t=_1){const n=Z();return Gt(()=>{e.value&&(n.value=sg(e.value,t))}),n}var lu;function dH(){if(!lu&&(lu=Z("visible"),Kn)){const e=()=>{lu.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return lu}var A1=Symbol("van-field");function hs(e){const t=yn(A1,null);t&&!t.customValue.value&&(t.customValue.value=e,Me(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function us(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Hu(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function cl(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Cc(e){Hu(window,e),Hu(document.body,e)}function Cy(e,t){if(e===window)return 0;const n=t?us(t):cl();return Bt(e).top+n}const fH=eH();function b1(){fH&&Cc(cl())}const og=e=>e.stopPropagation();function tn(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&og(e)}function $o(e){const t=re(e);if(!t)return!1;const n=window.getComputedStyle(t),r=n.display==="none",i=t.offsetParent===null&&n.position!=="fixed";return r||i}const{width:kc,height:Ho}=lH();function Lt(e){if(Tt(e))return p1(e)?`${e}px`:String(e)}function gs(e){if(Tt(e)){if(Array.isArray(e))return{width:Lt(e[0]),height:Lt(e[1])};const t=Lt(e);return{width:t,height:t}}}function qs(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let pf;function hH(){if(!pf){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;pf=parseFloat(t)}return pf}function gH(e){return e=e.replace(/rem/g,""),+e*hH()}function vH(e){return e=e.replace(/vw/g,""),+e*kc.value/100}function mH(e){return e=e.replace(/vh/g,""),+e*Ho.value/100}function ag(e){if(typeof e=="number")return e;if(fs){if(e.includes("rem"))return gH(e);if(e.includes("vw"))return vH(e);if(e.includes("vh"))return mH(e)}return parseFloat(e)}const pH=/-(\w)/g,E1=e=>e.replace(pH,(t,n)=>n.toUpperCase()),yH=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function En(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Sn=(e,t,n)=>Math.min(Math.max(e,t),n);function ky(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function ch(e,t=!0,n=!0){t?e=ky(e,".",/\./g):e=e.split(".")[0],n?e=ky(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function S1(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:_H}=Object.prototype;function AH(e,t,n){const r=t[n];!Tt(r)||(!_H.call(e,n)||!Gn(r)?e[n]=r:e[n]=T1(Object(e[n]),r))}function T1(e,t){return Object.keys(t).forEach(n=>{AH(e,t,n)}),e}var bH={name:"\u59D3\u540D",tel:"\u7535\u8BDD",save:"\u4FDD\u5B58",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",loading:"\u52A0\u8F7D\u4E2D...",noCoupon:"\u6682\u65E0\u4F18\u60E0\u5238",nameEmpty:"\u8BF7\u586B\u5199\u59D3\u540D",addContact:"\u6DFB\u52A0\u8054\u7CFB\u4EBA",telInvalid:"\u8BF7\u586B\u5199\u6B63\u786E\u7684\u7535\u8BDD",vanCalendar:{end:"\u7ED3\u675F",start:"\u5F00\u59CB",title:"\u65E5\u671F\u9009\u62E9",weekdays:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthTitle:(e,t)=>`${e}\u5E74${t}\u6708`,rangePrompt:e=>`\u6700\u591A\u9009\u62E9 ${e} \u5929`},vanCascader:{select:"\u8BF7\u9009\u62E9"},vanPagination:{prev:"\u4E0A\u4E00\u9875",next:"\u4E0B\u4E00\u9875"},vanPullRefresh:{pulling:"\u4E0B\u62C9\u5373\u53EF\u5237\u65B0...",loosing:"\u91CA\u653E\u5373\u53EF\u5237\u65B0..."},vanSubmitBar:{label:"\u5408\u8BA1:"},vanCoupon:{unlimited:"\u65E0\u95E8\u69DB",discount:e=>`${e}\u6298`,condition:e=>`\u6EE1${e}\u5143\u53EF\u7528`},vanCouponCell:{title:"\u4F18\u60E0\u5238",count:e=>`${e}\u5F20\u53EF\u7528`},vanCouponList:{exchange:"\u5151\u6362",close:"\u4E0D\u4F7F\u7528",enable:"\u53EF\u7528",disabled:"\u4E0D\u53EF\u7528",placeholder:"\u8F93\u5165\u4F18\u60E0\u7801"},vanAddressEdit:{area:"\u5730\u533A",postal:"\u90AE\u653F\u7F16\u7801",areaEmpty:"\u8BF7\u9009\u62E9\u5730\u533A",addressEmpty:"\u8BF7\u586B\u5199\u8BE6\u7EC6\u5730\u5740",postalEmpty:"\u90AE\u653F\u7F16\u7801\u4E0D\u6B63\u786E",addressDetail:"\u8BE6\u7EC6\u5730\u5740",defaultAddress:"\u8BBE\u4E3A\u9ED8\u8BA4\u6536\u8D27\u5730\u5740"},vanAddressList:{add:"\u65B0\u589E\u5730\u5740"}};const xy=Z("zh-CN"),Iy=Et({"zh-CN":bH}),w1={messages(){return Iy[xy.value]},use(e,t){xy.value=e,this.add({[e]:t})},add(e={}){T1(Iy,e)}};var EH=w1;function SH(e){const t=E1(e)+".";return(n,...r)=>{const i=EH.messages(),o=Sy(i,t+n)||Sy(i,n);return zo(o)?o(...r):o}}function dh(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+dh(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?dh(e,r):""),""):""}function TH(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${dh(t,n)}`)}function Re(e){const t=`van-${e}`;return[t,TH(t),SH(t)]}const vs="van-hairline",C1=`${vs}--top`,k1=`${vs}--left`,lg=`${vs}--bottom`,za=`${vs}--surround`,xc=`${vs}--top-bottom`,wH=`${vs}-unset--top-bottom`,jn="van-haptics-feedback",x1=Symbol("van-form");function ms(e,{args:t=[],done:n,canceled:r}){if(e){const i=e.apply(null,t);ig(i)?i.then(o=>{o?n():r&&r()}).catch(Za):i?n():r&&r()}else n()}function Be(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(E1(`-${n}`),e))},e}const I1=Symbol();function Ic(e){const t=yn(I1,null);t&&Me(t,n=>{n&&e()})}const R1=(e,t)=>{const n=Z(),r=()=>{n.value=Bt(e).height};return Gt(()=>{if(Ze(r),t)for(let i=1;i<=3;i++)setTimeout(r,100*i)}),Ic(()=>Ze(r)),n};function Rc(e,t){const n=R1(e,!0);return r=>B("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}const[L1,Ry]=Re("action-bar"),ug=Symbol(L1),CH={placeholder:Boolean,safeAreaInsetBottom:Ce};var kH=we({name:L1,props:CH,setup(e,{slots:t}){const n=Z(),r=Rc(n,Ry),{linkChildren:i}=Fn(ug);i();const o=()=>{var l;return B("div",{ref:n,class:[Ry(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(l=t.default)==null?void 0:l.call(t)])};return()=>e.placeholder?r(o):o()}});const D1=Be(kH);function Ct(e){const t=Yn();t&&qe(t.proxy,e)}const ps={to:[String,Object],url:String,replace:Boolean};function O1({to:e,url:t,replace:n,$router:r}){e&&r?r[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Ys(){const e=Yn().proxy;return()=>O1(e)}const[xH,Ly]=Re("badge"),IH={dot:Boolean,max:Pe,tag:ze("div"),color:String,offset:Array,content:Pe,showZero:Ce,position:ze("top-right")};var RH=we({name:xH,props:IH,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:l,showZero:f}=e;return Tt(l)&&l!==""&&(f||l!==0&&l!=="0")},r=()=>{const{dot:l,max:f,content:c}=e;if(!l&&n())return t.content?t.content():Tt(f)&&p1(c)&&+c>f?`${f}+`:c},i=ve(()=>{const l={background:e.color};if(e.offset){const[f,c]=e.offset;t.default?(l.top=Lt(c),typeof f=="number"?l.right=Lt(-f):l.right=f.startsWith("-")?f.replace("-",""):`-${f}`):(l.marginTop=Lt(c),l.marginLeft=Lt(f))}return l}),o=()=>{if(n()||e.dot)return B("div",{class:Ly([e.position,{dot:e.dot,fixed:!!t.default}]),style:i.value},[r()])};return()=>{if(t.default){const{tag:l}=e;return B(l,{class:Ly("wrapper")},{default:()=>[t.default(),o()]})}return o()}}});const Qs=Be(RH);let P1=2e3;const LH=()=>++P1,DH=e=>{P1=e},[B1,OH]=Re("config-provider"),F1=Symbol(B1),PH={tag:ze("div"),zIndex:Number,themeVars:Object,iconPrefix:String};function BH(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${yH(n)}`]=e[n]}),t}var FH=we({name:B1,props:PH,setup(e,{slots:t}){const n=ve(()=>{if(e.themeVars)return BH(e.themeVars)});return Ti(F1,e),Nh(()=>{e.zIndex!==void 0&&DH(e.zIndex)}),()=>B(e.tag,{class:OH(),style:n.value},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}});const[MH,Dy]=Re("icon"),NH=e=>e==null?void 0:e.includes("/"),UH={dot:Boolean,tag:ze("i"),name:String,size:Pe,badge:Pe,color:String,badgeProps:Object,classPrefix:String};var VH=we({name:MH,props:UH,setup(e,{slots:t}){const n=yn(F1,null),r=ve(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||Dy());return()=>{const{tag:i,dot:o,name:l,size:f,badge:c,color:a}=e,h=NH(l);return B(Qs,gt({dot:o,tag:i,class:[r.value,h?"":`${r.value}-${l}`],style:{color:a,fontSize:Lt(f)},content:c},e.badgeProps),{default:()=>{var m;return[(m=t.default)==null?void 0:m.call(t),h&&B("img",{class:Dy("image"),src:l},null)]}})}}});const ht=Be(VH),[zH,$a]=Re("loading"),$H=Array(12).fill(null).map((e,t)=>B("i",{class:$a("line",String(t+1))},null)),HH=B("svg",{class:$a("circular"),viewBox:"25 25 50 50"},[B("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),GH={size:Pe,type:ze("circular"),color:String,vertical:Boolean,textSize:Pe,textColor:String};var KH=we({name:zH,props:GH,setup(e,{slots:t}){const n=ve(()=>qe({color:e.color},gs(e.size))),r=()=>{var i;if(t.default)return B("span",{class:$a("text"),style:{fontSize:Lt(e.textSize),color:(i=e.textColor)!=null?i:e.color}},[t.default()])};return()=>{const{type:i,vertical:o}=e;return B("div",{class:$a([i,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[B("span",{class:$a("spinner",i),style:n.value},[i==="spinner"?$H:HH]),r()])}}});const Hr=Be(KH),[jH,vo]=Re("button"),WH=qe({},ps,{tag:ze("button"),text:String,icon:String,type:ze("default"),size:ze("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:ze("button"),loadingSize:Pe,loadingText:String,loadingType:String,iconPosition:ze("left")});var qH=we({name:jH,props:WH,emits:["click"],setup(e,{emit:t,slots:n}){const r=Ys(),i=()=>n.loading?n.loading():B(Hr,{size:e.loadingSize,type:e.loadingType,class:vo("loading")},null),o=()=>{if(e.loading)return i();if(n.icon)return B("div",{class:vo("icon")},[n.icon()]);if(e.icon)return B(ht,{name:e.icon,class:vo("icon"),classPrefix:e.iconPrefix},null)},l=()=>{let a;if(e.loading?a=e.loadingText:a=n.default?n.default():e.text,a)return B("span",{class:vo("text")},[a])},f=()=>{const{color:a,plain:h}=e;if(a){const m={color:h?a:"white"};return h||(m.background=a),a.includes("gradient")?m.border=0:m.borderColor=a,m}},c=a=>{e.loading?tn(a):e.disabled||(t("click",a),r())};return()=>{const{tag:a,type:h,size:m,block:g,round:w,plain:T,square:y,loading:d,disabled:_,hairline:v,nativeType:p,iconPosition:A}=e,b=[vo([h,m,{plain:T,block:g,round:w,square:y,loading:d,disabled:_,hairline:v}]),{[za]:v}];return B(a,{type:p,class:b,style:f(),disabled:_,onClick:c},{default:()=>[B("div",{class:vo("content")},[A==="left"&&o(),l(),A==="right"&&o()])]})}}});const Wn=Be(qH),[YH,QH]=Re("action-bar-button"),JH=qe({},ps,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var XH=we({name:YH,props:JH,setup(e,{slots:t}){const n=Ys(),{parent:r,index:i}=xn(ug),o=ve(()=>{if(r){const f=r.children[i.value-1];return!(f&&"isButton"in f)}}),l=ve(()=>{if(r){const f=r.children[i.value+1];return!(f&&"isButton"in f)}});return Ct({isButton:!0}),()=>{const{type:f,icon:c,text:a,color:h,loading:m,disabled:g}=e;return B(Wn,{class:QH([f,{last:l.value,first:o.value}]),size:"large",type:f,icon:c,color:h,loading:m,disabled:g,onClick:n},{default:()=>[t.default?t.default():a]})}}});const fh=Be(XH),[ZH,yf]=Re("action-bar-icon"),eG=qe({},ps,{dot:Boolean,text:String,icon:String,color:String,badge:Pe,iconClass:$t,badgeProps:Object,iconPrefix:String});var tG=we({name:ZH,props:eG,setup(e,{slots:t}){const n=Ys();xn(ug);const r=()=>{const{dot:i,badge:o,icon:l,color:f,iconClass:c,badgeProps:a,iconPrefix:h}=e;return t.icon?B(Qs,gt({dot:i,class:yf("icon"),content:o},a),{default:t.icon}):B(ht,{tag:"div",dot:i,name:l,badge:o,color:f,class:[yf("icon"),c],badgeProps:a,classPrefix:h},null)};return()=>B("div",{role:"button",class:yf(),tabindex:0,onClick:n},[r(),t.default?t.default():e.text])}});const nG=Be(tG),ea={show:Boolean,zIndex:Pe,overlay:Ce,duration:Pe,teleport:[String,Object],lockScroll:Ce,lazyRender:Ce,beforeClose:Function,overlayStyle:Object,overlayClass:$t,transitionAppear:Boolean,closeOnClickOverlay:Ce},cg=Object.keys(ea);function rG(e,t){return e>t?"horizontal":t>e?"vertical":""}function oi(){const e=Z(0),t=Z(0),n=Z(0),r=Z(0),i=Z(0),o=Z(0),l=Z(""),f=()=>l.value==="vertical",c=()=>l.value==="horizontal",a=()=>{n.value=0,r.value=0,i.value=0,o.value=0,l.value=""};return{move:g=>{const w=g.touches[0];n.value=(w.clientX<0?0:w.clientX)-e.value,r.value=w.clientY-t.value,i.value=Math.abs(n.value),o.value=Math.abs(r.value);const T=10;(!l.value||i.value<T&&o.value<T)&&(l.value=rG(i.value,o.value))},start:g=>{a(),e.value=g.touches[0].clientX,t.value=g.touches[0].clientY},reset:a,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:i,offsetY:o,direction:l,isVertical:f,isHorizontal:c}}let Sa=0;const Oy="van-overflow-hidden";function iG(e,t){const n=oi(),r="01",i="10",o=h=>{n.move(h);const m=n.deltaY.value>0?i:r,g=sg(h.target,e.value),{scrollHeight:w,offsetHeight:T,scrollTop:y}=g;let d="11";y===0?d=T>=w?"00":"01":y+T>=w&&(d="10"),d!=="11"&&n.isVertical()&&!(parseInt(d,2)&parseInt(m,2))&&tn(h,!0)},l=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),Sa||document.body.classList.add(Oy),Sa++},f=()=>{Sa&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),Sa--,Sa||document.body.classList.remove(Oy))},c=()=>t()&&l(),a=()=>t()&&f();Xo(c),cs(a),Di(a),Me(t,h=>{h?l():f()})}function dg(e){const t=Z(!1);return Me(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const[sG,oG]=Re("overlay"),aG={show:Boolean,zIndex:Pe,duration:Pe,className:$t,lockScroll:Ce,lazyRender:Ce,customStyle:Object};var lG=we({name:sG,props:aG,setup(e,{slots:t}){const n=Z(),r=dg(()=>e.show||!e.lazyRender),i=l=>{e.lockScroll&&tn(l,!0)},o=r(()=>{var l;const f=qe(qs(e.zIndex),e.customStyle);return Tt(e.duration)&&(f.animationDuration=`${e.duration}s`),ft(B("div",{ref:n,style:f,class:[oG(),e.className]},[(l=t.default)==null?void 0:l.call(t)]),[[St,e.show]])});return vn("touchmove",i,{target:n}),()=>B(xi,{name:"van-fade",appear:!0},{default:o})}});const M1=Be(lG),uG=qe({},ea,{round:Boolean,position:ze("center"),closeIcon:ze("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:ze("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[cG,Py]=Re("popup");var dG=we({name:cG,inheritAttrs:!1,props:uG,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:r}){let i,o;const l=Z(),f=Z(),c=dg(()=>e.show||!e.lazyRender),a=ve(()=>{const b={zIndex:l.value};if(Tt(e.duration)){const E=e.position==="center"?"animationDuration":"transitionDuration";b[E]=`${e.duration}s`}return b}),h=()=>{i||(i=!0,l.value=e.zIndex!==void 0?+e.zIndex:LH(),t("open"))},m=()=>{i&&ms(e.beforeClose,{done(){i=!1,t("close"),t("update:show",!1)}})},g=b=>{t("click-overlay",b),e.closeOnClickOverlay&&m()},w=()=>{if(e.overlay)return B(M1,{show:e.show,class:e.overlayClass,zIndex:l.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:g},{default:r["overlay-content"]})},T=b=>{t("click-close-icon",b),m()},y=()=>{if(e.closeable)return B(ht,{role:"button",tabindex:0,name:e.closeIcon,class:[Py("close-icon",e.closeIconPosition),jn],classPrefix:e.iconPrefix,onClick:T},null)},d=()=>t("opened"),_=()=>t("closed"),v=b=>t("keydown",b),p=c(()=>{var b;const{round:E,position:x,safeAreaInsetTop:k,safeAreaInsetBottom:L}=e;return ft(B("div",gt({ref:f,style:a.value,role:"dialog",tabindex:0,class:[Py({round:E,[x]:x}),{"van-safe-area-top":k,"van-safe-area-bottom":L}],onKeydown:v},n),[(b=r.default)==null?void 0:b.call(r),y()]),[[St,e.show]])}),A=()=>{const{position:b,transition:E,transitionAppear:x}=e,k=b==="center"?"van-fade":`van-popup-slide-${b}`;return B(xi,{name:E||k,appear:x,onAfterEnter:d,onAfterLeave:_},{default:p})};return Me(()=>e.show,b=>{b&&!i&&(h(),n.tabindex===0&&Ze(()=>{var E;(E=f.value)==null||E.focus()})),!b&&i&&(i=!1,t("close"))}),Ct({popupRef:f}),iG(f,()=>e.show&&e.lockScroll),vn("popstate",()=>{e.closeOnPopstate&&(m(),o=!1)}),Gt(()=>{e.show&&h()}),js(()=>{o&&(t("update:show",!0),o=!1)}),cs(()=>{e.show&&e.teleport&&(m(),o=!0)}),Ti(I1,()=>e.show),()=>e.teleport?B(lc,{to:e.teleport},{default:()=>[w(),A()]}):B(Le,null,[w(),A()])}});const Gr=Be(dG),[fG,Ir]=Re("action-sheet"),hG=qe({},ea,{title:String,round:Ce,actions:_n(),closeIcon:ze("cross"),closeable:Ce,cancelText:String,description:String,closeOnPopstate:Ce,closeOnClickAction:Boolean,safeAreaInsetBottom:Ce}),gG=[...cg,"round","closeOnPopstate","safeAreaInsetBottom"];var vG=we({name:fG,props:hG,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const r=h=>n("update:show",h),i=()=>{r(!1),n("cancel")},o=()=>{if(e.title)return B("div",{class:Ir("header")},[e.title,e.closeable&&B(ht,{name:e.closeIcon,class:[Ir("close"),jn],onClick:i},null)])},l=()=>{if(t.cancel||e.cancelText)return[B("div",{class:Ir("gap")},null),B("button",{type:"button",class:Ir("cancel"),onClick:i},[t.cancel?t.cancel():e.cancelText])]},f=(h,m)=>h.loading?B(Hr,{class:Ir("loading-icon")},null):t.action?t.action({action:h,index:m}):[B("span",{class:Ir("name")},[h.name]),h.subname&&B("div",{class:Ir("subname")},[h.subname])],c=(h,m)=>{const{color:g,loading:w,callback:T,disabled:y,className:d}=h,_=()=>{y||w||(T&&T(h),e.closeOnClickAction&&r(!1),Ze(()=>n("select",h,m)))};return B("button",{type:"button",style:{color:g},class:[Ir("item",{loading:w,disabled:y}),d],onClick:_},[f(h,m)])},a=()=>{if(e.description||t.description){const h=t.description?t.description():e.description;return B("div",{class:Ir("description")},[h])}};return()=>B(Gr,gt({class:Ir(),position:"bottom","onUpdate:show":r},Vt(e,gG)),{default:()=>{var h;return[o(),a(),B("div",{class:Ir("content")},[e.actions.map(c),(h=t.default)==null?void 0:h.call(t)]),l()]}})}});const mG=Be(vG);function el(e){if(!Tt(e))return e;if(Array.isArray(e))return e.map(t=>el(t));if(Gn(e)){const t={};return Object.keys(e).forEach(n=>{t[n]=el(e[n])}),t}return e}const By=200,Fy=300,pG=15,[N1,_f]=Re("picker-column");function yG(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}const U1=Symbol(N1),Af=e=>Gn(e)&&e.disabled;var _G=we({name:N1,props:{textKey:fn(String),readonly:Boolean,allowHtml:Boolean,className:$t,itemHeight:fn(Number),defaultIndex:ri(0),swipeDuration:fn(Pe),initialOptions:_n(),visibleItemCount:fn(Pe)},emits:["change"],setup(e,{emit:t,slots:n}){let r,i,o,l,f;const c=Z(),a=Z(),h=Et({index:e.defaultIndex,offset:0,duration:0,options:el(e.initialOptions)}),m=oi(),g=()=>h.options.length,w=()=>e.itemHeight*(+e.visibleItemCount-1)/2,T=D=>{D=Sn(D,0,g());for(let P=D;P<g();P++)if(!Af(h.options[P]))return P;for(let P=D-1;P>=0;P--)if(!Af(h.options[P]))return P},y=(D,P)=>{D=T(D)||0;const F=-D*e.itemHeight,U=()=>{D!==h.index&&(h.index=D,P&&t("change",D))};r&&F!==h.offset?f=U:U(),h.offset=F},d=D=>{JSON.stringify(D)!==JSON.stringify(h.options)&&(h.options=el(D),y(e.defaultIndex))},_=D=>{r||e.readonly||(f=null,h.duration=By,y(D,!0))},v=D=>Gn(D)&&e.textKey in D?D[e.textKey]:D,p=D=>Sn(Math.round(-D/e.itemHeight),0,g()-1),A=(D,P)=>{const F=Math.abs(D/P);D=h.offset+F/.003*(D<0?-1:1);const U=p(D);h.duration=+e.swipeDuration,y(U,!0)},b=()=>{r=!1,h.duration=0,f&&(f(),f=null)},E=D=>{if(!e.readonly){if(m.start(D),r){const P=yG(a.value);h.offset=Math.min(0,P-w()),i=h.offset}else i=h.offset;h.duration=0,o=Date.now(),l=i,f=null}},x=D=>{if(e.readonly)return;m.move(D),m.isVertical()&&(r=!0,tn(D,!0)),h.offset=Sn(i+m.deltaY.value,-(g()*e.itemHeight),e.itemHeight);const P=Date.now();P-o>Fy&&(o=P,l=h.offset)},k=()=>{if(e.readonly)return;const D=h.offset-l,P=Date.now()-o;if(P<Fy&&Math.abs(D)>pG){A(D,P);return}const U=p(h.offset);h.duration=By,y(U,!0),setTimeout(()=>{r=!1},0)},L=()=>{const D={height:`${e.itemHeight}px`};return h.options.map((P,F)=>{const U=v(P),M=Af(P),V={role:"button",style:D,tabindex:M?-1:0,class:_f("item",{disabled:M,selected:F===h.index}),onClick:()=>_(F)},H={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:U};return B("li",V,[n.option?n.option(P):B("div",H,null)])})},S=D=>{const{options:P}=h;for(let F=0;F<P.length;F++)if(v(P[F])===D)return y(F)},C=()=>h.options[h.index],I=()=>h.options.length;return y(h.index),xn(U1),Ct({state:h,setIndex:y,getValue:C,setValue:S,setOptions:d,hasOptions:I,stopMomentum:b}),Me(()=>e.initialOptions,d),Me(()=>e.defaultIndex,D=>y(D)),vn("touchmove",x,{target:c}),()=>B("div",{ref:c,class:[_f(),e.className],onTouchstartPassive:E,onTouchend:k,onTouchcancel:k},[B("ul",{ref:a,style:{transform:`translate3d(0, ${h.offset+w()}px, 0)`,transitionDuration:`${h.duration}ms`,transitionProperty:h.duration?"all":"none"},class:_f("wrapper"),onTransitionend:b},[L()])])}});const[AG,_i,My]=Re("picker"),Lc={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:He(44),showToolbar:Ce,swipeDuration:He(1e3),visibleItemCount:He(6),cancelButtonText:String,confirmButtonText:String},bG=qe({},Lc,{columns:_n(),valueKey:String,defaultIndex:He(0),toolbarPosition:ze("top"),columnsFieldNames:Object});var EG=we({name:AG,props:bG,emits:["confirm","cancel","change"],setup(e,{emit:t,slots:n}){const r=Z(!1),i=Z(),o=Z([]),l=ve(()=>{const{columnsFieldNames:z}=e;return{text:(z==null?void 0:z.text)||e.valueKey||"text",values:(z==null?void 0:z.values)||"values",children:(z==null?void 0:z.children)||"children"}}),{children:f,linkChildren:c}=Fn(U1);c();const a=ve(()=>ag(e.itemHeight)),h=ve(()=>{const z=e.columns[0];if(typeof z=="object"){if(l.value.children in z)return"cascade";if(l.value.values in z)return"object"}return"plain"}),m=()=>{var z;const j=[];let Q={[l.value.children]:e.columns};for(;Q&&Q[l.value.children];){const ie=Q[l.value.children];let ne=(z=Q.defaultIndex)!=null?z:+e.defaultIndex;for(;ie[ne]&&ie[ne].disabled;)if(ne<ie.length-1)ne++;else{ne=0;break}j.push({[l.value.values]:Q[l.value.children],className:Q.className,defaultIndex:ne}),Q=ie[ne]}o.value=j},g=()=>{const{columns:z}=e;h.value==="plain"?o.value=[{[l.value.values]:z}]:h.value==="cascade"?m():o.value=z,r.value=o.value.some(j=>j[l.value.values]&&j[l.value.values].length!==0)||f.some(j=>j.hasOptions)},w=()=>f.map(z=>z.state.index),T=(z,j)=>{const Q=f[z];Q&&(Q.setOptions(j),r.value=!0)},y=z=>{let j={[l.value.children]:e.columns};const Q=w();for(let ie=0;ie<=z;ie++)j=j[l.value.children][Q[ie]];for(;j&&j[l.value.children];)z++,T(z,j[l.value.children]),j=j[l.value.children][j.defaultIndex||0]},d=z=>f[z],_=z=>{const j=d(z);if(j)return j.getValue()},v=(z,j)=>{const Q=d(z);Q&&(Q.setValue(j),h.value==="cascade"&&y(z))},p=z=>{const j=d(z);if(j)return j.state.index},A=(z,j)=>{const Q=d(z);Q&&(Q.setIndex(j),h.value==="cascade"&&y(z))},b=z=>{const j=d(z);if(j)return j.state.options},E=()=>f.map(z=>z.getValue()),x=z=>{z.forEach((j,Q)=>{v(Q,j)})},k=z=>{z.forEach((j,Q)=>{A(Q,j)})},L=z=>{h.value==="plain"?t(z,_(0),p(0)):t(z,E(),w())},S=z=>{h.value==="cascade"&&y(z),h.value==="plain"?t("change",_(0),p(0)):t("change",E(),z)},C=()=>{f.forEach(z=>z.stopMomentum()),L("confirm")},I=()=>L("cancel"),D=()=>{if(n.title)return n.title();if(e.title)return B("div",{class:[_i("title"),"van-ellipsis"]},[e.title])},P=()=>{const z=e.cancelButtonText||My("cancel");return B("button",{type:"button",class:[_i("cancel"),jn],onClick:I},[n.cancel?n.cancel():z])},F=()=>{const z=e.confirmButtonText||My("confirm");return B("button",{type:"button",class:[_i("confirm"),jn],onClick:C},[n.confirm?n.confirm():z])},U=()=>{if(e.showToolbar){const z=n.toolbar||n.default;return B("div",{class:_i("toolbar")},[z?z():[P(),D(),F()]])}},M=()=>o.value.map((z,j)=>{var Q;return B(_G,{textKey:l.value.text,readonly:e.readonly,allowHtml:e.allowHtml,className:z.className,itemHeight:a.value,defaultIndex:(Q=z.defaultIndex)!=null?Q:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:z[l.value.values],visibleItemCount:e.visibleItemCount,onChange:()=>S(j)},{option:n.option})}),V=z=>{if(r.value){const j={height:`${a.value}px`},Q={backgroundSize:`100% ${(z-a.value)/2}px`};return[B("div",{class:_i("mask"),style:Q},null),B("div",{class:[wH,_i("frame")],style:j},null)]}},H=()=>{const z=a.value*+e.visibleItemCount,j={height:`${z}px`};return B("div",{ref:i,class:_i("columns"),style:j},[M(),V(z)])};return Me(()=>e.columns,g,{immediate:!0}),vn("touchmove",tn,{target:i}),Ct({confirm:C,getValues:E,setValues:x,getIndexes:w,setIndexes:k,getColumnIndex:p,setColumnIndex:A,getColumnValue:_,setColumnValue:v,getColumnValues:b,setColumnValues:T}),()=>{var z,j;return B("div",{class:_i()},[e.toolbarPosition==="top"?U():null,e.loading?B(Hr,{class:_i("loading")},null):null,(z=n["columns-top"])==null?void 0:z.call(n),H(),(j=n["columns-bottom"])==null?void 0:j.call(n),e.toolbarPosition==="bottom"?U():null])}}});const Dc=Be(EG),[SG,TG]=Re("area"),bf="000000",wG=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],CG=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],kG=e=>e[0]==="9",xG=qe({},Lc,{value:String,columnsNum:He(3),columnsPlaceholder:_n(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:kG}});var IG=we({name:SG,props:xG,emits:["change","confirm","cancel"],setup(e,{emit:t,slots:n}){const r=Z(),i=Et({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),o=ve(()=>{const{areaList:v}=e;return{province:v.province_list||{},city:v.city_list||{},county:v.county_list||{}}}),l=ve(()=>{const{columnsPlaceholder:v}=e;return{province:v[0]||"",city:v[1]||"",county:v[2]||""}}),f=()=>{if(e.columnsPlaceholder.length)return bf;const{county:v,city:p}=o.value,A=Object.keys(v);if(A[0])return A[0];const b=Object.keys(p);return b[0]?b[0]:""},c=(v,p)=>{let A=[];if(v!=="province"&&!p)return A;const b=o.value[v];if(A=Object.keys(b).map(E=>({code:E,name:b[E]})),p&&(v==="city"&&e.isOverseaCode(p)&&(p="9"),A=A.filter(E=>E.code.indexOf(p)===0)),l.value[v]&&A.length){let E="";v==="city"?E=bf.slice(2,4):v==="county"&&(E=bf.slice(4,6)),A.unshift({code:p+E,name:l.value[v]})}return A},a=(v,p)=>{let A=p.length;v==="province"&&(A=e.isOverseaCode(p)?1:2),v==="city"&&(A=4),p=p.slice(0,A);const b=c(v,A>2?p.slice(0,A-2):"");for(let E=0;E<b.length;E++)if(b[E].code.slice(0,A)===p)return E;return 0},h=()=>{const v=r.value;if(!v)return;let p=i.code||f();const A=c("province"),b=c("city",p.slice(0,2));v.setColumnValues(0,A),v.setColumnValues(1,b),b.length&&p.slice(2,4)==="00"&&!e.isOverseaCode(p)&&([{code:p}]=b),v.setColumnValues(2,c("county",p.slice(0,4))),v.setIndexes([a("province",p),a("city",p),a("county",p)])},m=v=>v.map((p,A)=>(p&&(p=el(p),(!p.code||p.name===e.columnsPlaceholder[A])&&(p.code="",p.name="")),p)),g=()=>{if(r.value){const v=r.value.getValues().filter(Boolean);return m(v)}return[]},w=()=>{const v=g(),p={code:"",country:"",province:"",city:"",county:""};if(!v.length)return p;const A=v.map(E=>E.name),b=v.filter(E=>E.code);return p.code=b.length?b[b.length-1].code:"",e.isOverseaCode(p.code)?(p.country=A[1]||"",p.province=A[2]||""):(p.province=A[0]||"",p.city=A[1]||"",p.county=A[2]||""),p},T=(v="")=>{i.code=v,h()},y=(v,p)=>{if(i.code=v[p].code,h(),r.value){const A=m(r.value.getValues());t("change",A,p)}},d=(v,p)=>{h(),t("confirm",m(v),p)},_=(...v)=>t("cancel",...v);return Gt(h),Me(()=>e.value,v=>{i.code=v,h()}),Me(()=>e.areaList,h,{deep:!0}),Me(()=>e.columnsNum,()=>{Ze(h)}),Ct({reset:T,getArea:w,getValues:g}),()=>{const v=i.columns.slice(0,+e.columnsNum);return B(Dc,gt({ref:r,class:TG(),columns:v,columnsFieldNames:{text:"name"},onChange:y,onCancel:_,onConfirm:d},Vt(e,CG)),Vt(n,wG))}}});const V1=Be(IG),[RG,mo]=Re("cell"),Oc={icon:String,size:String,title:Pe,value:Pe,label:Pe,center:Boolean,isLink:Boolean,border:Ce,required:Boolean,iconPrefix:String,valueClass:$t,labelClass:$t,titleClass:$t,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},LG=qe({},Oc,ps);var DG=we({name:RG,props:LG,setup(e,{slots:t}){const n=Ys(),r=()=>{if(t.label||Tt(e.label))return B("div",{class:[mo("label"),e.labelClass]},[t.label?t.label():e.label])},i=()=>{if(t.title||Tt(e.title))return B("div",{class:[mo("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():B("span",null,[e.title]),r()])},o=()=>{const c=t.value||t.default;if(c||Tt(e.value)){const h=t.title||Tt(e.title);return B("div",{class:[mo("value",{alone:!h}),e.valueClass]},[c?c():B("span",null,[e.value])])}},l=()=>{if(t.icon)return t.icon();if(e.icon)return B(ht,{name:e.icon,class:mo("left-icon"),classPrefix:e.iconPrefix},null)},f=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const c=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return B(ht,{name:c,class:mo("right-icon")},null)}};return()=>{var c,a;const{size:h,center:m,border:g,isLink:w,required:T}=e,y=(c=e.clickable)!=null?c:w,d={center:m,required:T,clickable:y,borderless:!g};return h&&(d[h]=!!h),B("div",{class:mo(d),role:y?"button":void 0,tabindex:y?0:void 0,onClick:n},[l(),i(),o(),f(),(a=t.extra)==null?void 0:a.call(t)])}}});const Kr=Be(DG),[OG,PG]=Re("form"),BG={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:Pe,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:Ce,showErrorMessage:Ce,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var FG=we({name:OG,props:BG,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:i}=Fn(x1),o=d=>d?r.filter(_=>d.includes(_.name)):r,l=d=>new Promise((_,v)=>{const p=[];o(d).reduce((b,E)=>b.then(()=>{if(!p.length)return E.validate().then(x=>{x&&p.push(x)})}),Promise.resolve()).then(()=>{p.length?v(p):_()})}),f=d=>new Promise((_,v)=>{const p=o(d);Promise.all(p.map(A=>A.validate())).then(A=>{A=A.filter(Boolean),A.length?v(A):_()})}),c=d=>{const _=r.find(v=>v.name===d);return _?new Promise((v,p)=>{_.validate().then(A=>{A?p(A):v()})}):Promise.reject()},a=d=>typeof d=="string"?c(d):e.validateFirst?l(d):f(d),h=d=>{typeof d=="string"&&(d=[d]),o(d).forEach(v=>{v.resetValidation()})},m=()=>r.reduce((d,_)=>(d[_.name]=_.getValidationStatus(),d),{}),g=(d,_)=>{r.some(v=>v.name===d?(v.$el.scrollIntoView(_),!0):!1)},w=()=>r.reduce((d,_)=>(d[_.name]=_.formValue.value,d),{}),T=()=>{const d=w();a().then(()=>t("submit",d)).catch(_=>{t("failed",{values:d,errors:_}),e.scrollToError&&_[0].name&&g(_[0].name)})},y=d=>{tn(d),T()};return i({props:e}),Ct({submit:T,validate:a,getValues:w,scrollToField:g,resetValidation:h,getValidationStatus:m}),()=>{var d;return B("form",{class:PG(),onSubmit:y},[(d=n.default)==null?void 0:d.call(n)])}}});const fg=Be(FG);function z1(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function MG(e,t){if(z1(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function NG(e,t){return new Promise(n=>{const r=t.validator(e,t);if(ig(r)){r.then(n);return}n(r)})}function Ny(e,t){const{message:n}=t;return zo(n)?n(e,t):n||""}function UG({target:e}){e.composing=!0}function Uy({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function VG(e,t){const n=cl();e.style.height="auto";let r=e.scrollHeight;if(Gn(t)){const{maxHeight:i,minHeight:o}=t;i!==void 0&&(r=Math.min(r,i)),o!==void 0&&(r=Math.max(r,o))}r&&(e.style.height=`${r}px`,Cc(n))}function zG(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function Ef(e){return[...e].length}function $G(e,t){return[...e].slice(0,t).join("")}let HG=0;function ta(){const e=Yn(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++HG}`}const[GG,yr]=Re("field"),hg={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Pe,formatter:Function,clearIcon:ze("clear"),modelValue:He(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:ze("focus"),formatTrigger:ze("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},KG=qe({},Oc,hg,{rows:Pe,type:ze("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Pe,labelClass:$t,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var jG=we({name:GG,props:KG,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n}){const r=ta(),i=Et({status:"unvalidated",focused:!1,validateMessage:""}),o=Z(),l=Z(),f=Z(),{parent:c}=xn(x1),a=()=>{var J;return String((J=e.modelValue)!=null?J:"")},h=J=>{if(Tt(e[J]))return e[J];if(c&&Tt(c.props[J]))return c.props[J]},m=ve(()=>{const J=h("readonly");if(e.clearable&&!J){const se=a()!=="",ce=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return se&&ce}return!1}),g=ve(()=>f.value&&n.input?f.value():e.modelValue),w=J=>J.reduce((se,ce)=>se.then(()=>{if(i.status==="failed")return;let{value:me}=g;if(ce.formatter&&(me=ce.formatter(me,ce)),!MG(me,ce)){i.status="failed",i.validateMessage=Ny(me,ce);return}if(ce.validator)return z1(me)&&ce.validateEmpty===!1?void 0:NG(me,ce).then(Fe=>{Fe&&typeof Fe=="string"?(i.status="failed",i.validateMessage=Fe):Fe===!1&&(i.status="failed",i.validateMessage=Ny(me,ce))})}),Promise.resolve()),T=()=>{i.status="unvalidated",i.validateMessage=""},y=()=>t("end-validate",{status:i.status}),d=(J=e.rules)=>new Promise(se=>{T(),J?(t("start-validate"),w(J).then(()=>{i.status==="failed"?(se({name:e.name,message:i.validateMessage}),y()):(i.status="passed",se(),y())})):se()}),_=J=>{if(c&&e.rules){const{validateTrigger:se}=c.props,ce=$u(se).includes(J),me=e.rules.filter(Fe=>Fe.trigger?$u(Fe.trigger).includes(J):ce);me.length&&d(me)}},v=J=>{const{maxlength:se}=e;if(Tt(se)&&Ef(J)>se){const ce=a();return ce&&Ef(ce)===+se?ce:$G(J,+se)}return J},p=(J,se="onChange")=>{if(J=v(J),e.type==="number"||e.type==="digit"){const ce=e.type==="number";J=ch(J,ce,ce)}e.formatter&&se===e.formatTrigger&&(J=e.formatter(J)),o.value&&o.value.value!==J&&(o.value.value=J),J!==e.modelValue&&t("update:modelValue",J)},A=J=>{J.target.composing||p(J.target.value)},b=()=>{var J;return(J=o.value)==null?void 0:J.blur()},E=()=>{var J;return(J=o.value)==null?void 0:J.focus()},x=()=>{const J=o.value;e.type==="textarea"&&e.autosize&&J&&VG(J,e.autosize)},k=J=>{i.focused=!0,t("focus",J),Ze(x),h("readonly")&&b()},L=J=>{h("readonly")||(i.focused=!1,p(a(),"onBlur"),t("blur",J),_("onBlur"),Ze(x),b1())},S=J=>t("click-input",J),C=J=>t("click-left-icon",J),I=J=>t("click-right-icon",J),D=J=>{tn(J),t("update:modelValue",""),t("clear",J)},P=ve(()=>{if(typeof e.error=="boolean")return e.error;if(c&&c.props.showError&&i.status==="failed")return!0}),F=ve(()=>{const J=h("labelWidth");if(J)return{width:Lt(J)}}),U=J=>{J.keyCode===13&&(!(c&&c.props.submitOnEnter)&&e.type!=="textarea"&&tn(J),e.type==="search"&&b()),t("keypress",J)},M=()=>e.id||`${r}-input`,V=()=>i.status,H=()=>{const J=yr("control",[h("inputAlign"),{error:P.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return B("div",{class:J,onClick:S},[n.input()]);const se={id:M(),ref:o,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:J,disabled:h("disabled"),readonly:h("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${r}-label`:void 0,onBlur:L,onFocus:k,onInput:A,onClick:S,onChange:Uy,onKeypress:U,onCompositionend:Uy,onCompositionstart:UG};return e.type==="textarea"?B("textarea",se,null):B("input",gt(zG(e.type),se),null)},z=()=>{const J=n["left-icon"];if(e.leftIcon||J)return B("div",{class:yr("left-icon"),onClick:C},[J?J():B(ht,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},j=()=>{const J=n["right-icon"];if(e.rightIcon||J)return B("div",{class:yr("right-icon"),onClick:I},[J?J():B(ht,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Q=()=>{if(e.showWordLimit&&e.maxlength){const J=Ef(a());return B("div",{class:yr("word-limit")},[B("span",{class:yr("word-num")},[J]),xt("/"),e.maxlength])}},ie=()=>{if(c&&c.props.showErrorMessage===!1)return;const J=e.errorMessage||i.validateMessage;if(J){const se=n["error-message"],ce=h("errorMessageAlign");return B("div",{class:yr("error-message",ce)},[se?se({message:J}):J])}},ne=()=>{const J=h("colon")?":":"";if(n.label)return[n.label(),J];if(e.label)return B("label",{id:`${r}-label`,for:M()},[e.label+J])},X=()=>[B("div",{class:yr("body")},[H(),m.value&&B(ht,{ref:l,name:e.clearIcon,class:yr("clear")},null),j(),n.button&&B("div",{class:yr("button")},[n.button()])]),Q(),ie()];return Ct({blur:b,focus:E,validate:d,formValue:g,resetValidation:T,getValidationStatus:V}),Ti(A1,{customValue:f,resetValidation:T,validateWithTrigger:_}),Me(()=>e.modelValue,()=>{p(a()),T(),_("onChange"),Ze(x)}),Gt(()=>{p(a(),e.formatTrigger),Ze(x)}),vn("touchstart",D,{target:ve(()=>{var J;return(J=l.value)==null?void 0:J.$el})}),()=>{const J=h("disabled"),se=h("labelAlign"),ce=ne(),me=z();return B(Kr,{size:e.size,icon:e.leftIcon,class:yr({error:P.value,disabled:J,[`label-${se}`]:se}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:F.value,valueClass:yr("value"),titleClass:[yr("label",[se,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:me?()=>me:null,title:ce?()=>ce:null,value:X,extra:n.extra})}}});const ni=Be(jG);function Pc(){const e=Et({show:!1}),t=i=>{e.show=i},n=i=>{qe(e,i,{transitionAppear:!0}),t(!0)},r=()=>t(!1);return Ct({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function Bc(e){const t=m_(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let Ta=0;function WG(e){e?(Ta||document.body.classList.add("van-toast--unclickable"),Ta++):Ta&&(Ta--,Ta||document.body.classList.remove("van-toast--unclickable"))}const[qG,wa]=Re("toast"),YG=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],QG={icon:String,show:Boolean,type:ze("text"),overlay:Boolean,message:Pe,iconSize:Pe,duration:ri(2e3),position:ze("middle"),teleport:[String,Object],className:$t,iconPrefix:String,transition:ze("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:$t,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var $1=we({name:qG,props:QG,emits:["update:show"],setup(e,{emit:t}){let n,r=!1;const i=()=>{const h=e.show&&e.forbidClick;r!==h&&(r=h,WG(r))},o=h=>t("update:show",h),l=()=>{e.closeOnClick&&o(!1)},f=()=>clearTimeout(n),c=()=>{const{icon:h,type:m,iconSize:g,iconPrefix:w,loadingType:T}=e;if(h||m==="success"||m==="fail")return B(ht,{name:h||m,size:g,class:wa("icon"),classPrefix:w},null);if(m==="loading")return B(Hr,{class:wa("loading"),size:g,type:T},null)},a=()=>{const{type:h,message:m}=e;if(Tt(m)&&m!=="")return h==="html"?B("div",{key:0,class:wa("text"),innerHTML:String(m)},null):B("div",{class:wa("text")},[m])};return Me(()=>[e.show,e.forbidClick],i),Me(()=>[e.show,e.type,e.message,e.duration],()=>{f(),e.show&&e.duration>0&&(n=setTimeout(()=>{o(!1)},e.duration))}),Gt(i),si(i),()=>B(Gr,gt({class:[wa([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:l,onClosed:f,"onUpdate:show":o},Vt(e,YG)),{default:()=>[c(),a()]})}});const H1={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Br=[],Fc=!1,Gu=qe({},H1);const Ku=new Map;function G1(e){return Gn(e)?e:{message:e}}function JG(){const{instance:e,unmount:t}=Bc({setup(){const n=Z(""),{open:r,state:i,close:o,toggle:l}=Pc(),f=()=>{Fc&&(Br=Br.filter(a=>a!==e),t())},c=()=>B($1,gt(i,{onClosed:f,"onUpdate:show":l}),null);return Me(n,a=>{i.message=a}),Yn().render=c,{open:r,clear:o,message:n}}});return e}function XG(){if(!Br.length||Fc){const e=JG();Br.push(e)}return Br[Br.length-1]}function qn(e={}){if(!fs)return{};const t=XG(),n=G1(e);return t.open(qe({},Gu,Ku.get(n.type||Gu.type),n)),t}const gg=e=>t=>qn(qe({type:e},G1(t)));qn.loading=gg("loading");qn.success=gg("success");qn.fail=gg("fail");qn.clear=e=>{var t;Br.length&&(e?(Br.forEach(n=>{n.clear()}),Br=[]):Fc?(t=Br.shift())==null||t.clear():Br[0].clear())};function ZG(e,t){typeof e=="string"?Ku.set(e,t):qe(Gu,e)}qn.setDefaultOptions=ZG;qn.resetDefaultOptions=e=>{typeof e=="string"?Ku.delete(e):(Gu=qe({},H1),Ku.clear())};qn.allowMultiple=(e=!0)=>{Fc=e};qn.install=e=>{e.use(Be($1)),e.config.globalProperties.$toast=qn};const[e7,Sf]=Re("switch"),t7={size:Pe,loading:Boolean,disabled:Boolean,modelValue:$t,activeColor:String,inactiveColor:String,activeValue:{type:$t,default:!0},inactiveValue:{type:$t,default:!1}};var n7=we({name:e7,props:t7,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=()=>e.modelValue===e.activeValue,i=()=>{if(!e.disabled&&!e.loading){const l=r()?e.inactiveValue:e.activeValue;t("update:modelValue",l),t("change",l)}},o=()=>{if(e.loading){const l=r()?e.activeColor:e.inactiveColor;return B(Hr,{class:Sf("loading"),color:l},null)}if(n.node)return n.node()};return hs(()=>e.modelValue),()=>{var l;const{size:f,loading:c,disabled:a,activeColor:h,inactiveColor:m}=e,g=r(),w={fontSize:Lt(f),backgroundColor:g?h:m};return B("div",{role:"switch",class:Sf({on:g,loading:c,disabled:a}),style:w,tabindex:a?void 0:0,"aria-checked":g,onClick:i},[B("div",{class:Sf("node")},[o()]),(l=n.background)==null?void 0:l.call(n)])}}});const vg=Be(n7),[r7,Tf]=Re("address-edit-detail"),Vy=Re("address-edit")[2];var i7=we({name:r7,props:{show:Boolean,rows:Pe,value:String,rules:Array,focused:Boolean,maxlength:Pe,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:t}){const n=Z(),r=()=>e.focused&&e.searchResult&&e.showSearchResult,i=h=>{t("select-search",h),t("input",`${h.address||""} ${h.name||""}`.trim())},o=h=>{if(h.name){const m=h.name.replace(e.value,`<span class=${Tf("keyword")}>${e.value}</span>`);return B("div",{innerHTML:m},null)}},l=()=>{if(!r())return;const{searchResult:h}=e;return h.map(m=>B(Kr,{clickable:!0,key:m.name+m.address,icon:"location-o",label:m.address,class:Tf("search-item"),border:!1,onClick:()=>i(m)},{title:()=>o(m)}))},f=h=>t("blur",h),c=h=>t("focus",h),a=h=>t("input",h);return()=>{if(e.show)return B(Le,null,[B(ni,{autosize:!0,clearable:!0,ref:n,class:Tf(),rows:e.rows,type:"textarea",rules:e.rules,label:Vy("addressDetail"),border:!r(),maxlength:e.maxlength,modelValue:e.value,placeholder:Vy("addressDetail"),onBlur:f,onFocus:c,"onUpdate:modelValue":a},null),l()])}}});const[s7,po,un]=Re("address-edit"),K1={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},o7=e=>/^\d{6}$/.test(e),a7={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:Ce,showDetail:Ce,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:Pe,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:He(1),detailMaxlength:He(200),areaColumnsPlaceholder:_n(),addressInfo:{type:Object,default:()=>qe({},K1)},telValidator:{type:Function,default:m1},postalValidator:{type:Function,default:o7}};var l7=we({name:s7,props:a7,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,{emit:t,slots:n}){const r=Z(),i=Et({}),o=Z(!1),l=Z(!1),f=ve(()=>Gn(e.areaList)&&Object.keys(e.areaList).length),c=ve(()=>{const{country:E,province:x,city:k,county:L,areaCode:S}=i;if(S){const C=[E,x,k,L];return x&&x===k&&C.splice(1,1),C.filter(Boolean).join("/")}return""}),a=ve(()=>{var E;return((E=e.searchResult)==null?void 0:E.length)&&l.value}),h=()=>{if(r.value){const E=r.value.getArea();E.areaCode=E.code,delete E.code,qe(i,E)}},m=E=>{l.value=E==="addressDetail",t("focus",E)},g=ve(()=>{const{validator:E,telValidator:x,postalValidator:k}=e,L=(S,C)=>({validator:I=>{if(E){const D=E(S,I);if(D)return D}return I?!0:C}});return{name:[L("name",un("nameEmpty"))],tel:[L("tel",un("telInvalid")),{validator:x,message:un("telInvalid")}],areaCode:[L("areaCode",un("areaEmpty"))],addressDetail:[L("addressDetail",un("addressEmpty"))],postalCode:[L("addressDetail",un("postalEmpty")),{validator:k,message:un("postalEmpty")}]}}),w=()=>t("save",i),T=E=>{i.addressDetail=E,t("change-detail",E)},y=E=>{E=E.filter(Boolean),E.some(x=>!x.code)?qn(un("areaEmpty")):(o.value=!1,h(),t("change-area",E))},d=()=>t("delete",i),_=()=>{var E;return((E=r.value)==null?void 0:E.getValues())||[]},v=E=>{i.areaCode=E||"",E&&Ze(h)},p=()=>{setTimeout(()=>{l.value=!1})},A=E=>{i.addressDetail=E},b=()=>{if(e.showSetDefault){const E={"right-icon":()=>B(vg,{modelValue:i.isDefault,"onUpdate:modelValue":x=>i.isDefault=x,size:"24",onChange:x=>t("change-default",x)},null)};return ft(B(Kr,{center:!0,title:un("defaultAddress"),class:po("default")},E),[[St,!a.value]])}};return Ct({getArea:_,setAreaCode:v,setAddressDetail:A}),Me(()=>e.areaList,()=>v(i.areaCode)),Me(()=>e.addressInfo,E=>{qe(i,K1,E),v(E.areaCode)},{deep:!0,immediate:!0}),()=>{const{disableArea:E}=e;return B(fg,{class:po(),onSubmit:w},{default:()=>{var x;return[B("div",{class:po("fields")},[B(ni,{modelValue:i.name,"onUpdate:modelValue":k=>i.name=k,clearable:!0,label:un("name"),rules:g.value.name,placeholder:un("name"),onFocus:()=>m("name")},null),B(ni,{modelValue:i.tel,"onUpdate:modelValue":k=>i.tel=k,clearable:!0,type:"tel",label:un("tel"),rules:g.value.tel,maxlength:e.telMaxlength,placeholder:un("tel"),onFocus:()=>m("tel")},null),ft(B(ni,{readonly:!0,label:un("area"),"is-link":!E,modelValue:c.value,rules:g.value.areaCode,placeholder:e.areaPlaceholder||un("area"),onFocus:()=>m("areaCode"),onClick:()=>{t("click-area"),o.value=!E}},null),[[St,e.showArea]]),B(i7,{show:e.showDetail,rows:e.detailRows,rules:g.value.addressDetail,value:i.addressDetail,focused:l.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:p,onFocus:()=>m("addressDetail"),onInput:T,"onSelect-search":k=>t("select-search",k)},null),e.showPostal&&ft(B(ni,{modelValue:i.postalCode,"onUpdate:modelValue":k=>i.postalCode=k,type:"tel",rules:g.value.postalCode,label:un("postal"),maxlength:"6",placeholder:un("postal"),onFocus:()=>m("postalCode")},null),[[St,!a.value]]),(x=n.default)==null?void 0:x.call(n)]),b(),ft(B("div",{class:po("buttons")},[B(Wn,{block:!0,round:!0,type:"danger",text:e.saveButtonText||un("save"),class:po("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&B(Wn,{block:!0,round:!0,class:po("button"),loading:e.isDeleting,text:e.deleteButtonText||un("delete"),onClick:d},null)]),[[St,!a.value]]),B(Gr,{show:o.value,"onUpdate:show":k=>o.value=k,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[B(V1,{ref:r,value:i.areaCode,loading:!f.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:y,onCancel:()=>{o.value=!1}},null)]})]}})}}});const u7=Be(l7),[j1,c7]=Re("radio-group"),d7={disabled:Boolean,iconSize:Pe,direction:String,modelValue:$t,checkedColor:String},W1=Symbol(j1);var f7=we({name:j1,props:d7,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Fn(W1),i=o=>t("update:modelValue",o);return Me(()=>e.modelValue,o=>t("change",o)),r({props:e,updateValue:i}),hs(()=>e.modelValue),()=>{var o;return B("div",{class:c7([e.direction]),role:"radiogroup"},[(o=n.default)==null?void 0:o.call(n)])}}});const mg=Be(f7),[h7,zy]=Re("tag"),g7={size:String,mark:Boolean,show:Ce,type:ze("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var v7=we({name:h7,props:g7,emits:["close"],setup(e,{slots:t,emit:n}){const r=l=>{l.stopPropagation(),n("close",l)},i=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},o=()=>{var l;const{type:f,mark:c,plain:a,round:h,size:m,closeable:g}=e,w={mark:c,plain:a,round:h};m&&(w[m]=m);const T=g&&B(ht,{name:"cross",class:[zy("close"),jn],onClick:r},null);return B("span",{style:i(),class:zy([w,f])},[(l=t.default)==null?void 0:l.call(t),T])};return()=>B(xi,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?o():null]})}});const Mc=Be(v7),pg={name:$t,shape:ze("round"),disabled:Boolean,iconSize:Pe,modelValue:$t,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var q1=we({props:qe({},pg,{bem:fn(Function),role:String,parent:Object,checked:Boolean,bindGroup:Ce}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const r=Z(),i=m=>{if(e.parent&&e.bindGroup)return e.parent.props[m]},o=ve(()=>i("disabled")||e.disabled),l=ve(()=>i("direction")),f=ve(()=>{const m=e.checkedColor||i("checkedColor");if(m&&e.checked&&!o.value)return{borderColor:m,backgroundColor:m}}),c=m=>{const{target:g}=m,w=r.value,T=w===g||(w==null?void 0:w.contains(g));!o.value&&(T||!e.labelDisabled)&&t("toggle"),t("click",m)},a=()=>{const{bem:m,shape:g,checked:w}=e,T=e.iconSize||i("iconSize");return B("div",{ref:r,class:m("icon",[g,{disabled:o.value,checked:w}]),style:{fontSize:Lt(T)}},[n.icon?n.icon({checked:w,disabled:o.value}):B(ht,{name:"success",style:f.value},null)])},h=()=>{if(n.default)return B("span",{class:e.bem("label",[e.labelPosition,{disabled:o.value}])},[n.default()])};return()=>{const m=e.labelPosition==="left"?[h(),a()]:[a(),h()];return B("div",{role:e.role,class:e.bem([{disabled:o.value,"label-disabled":e.labelDisabled},l.value]),tabindex:o.value?void 0:0,"aria-checked":e.checked,onClick:c},[m])}}});const[m7,p7]=Re("radio");var y7=we({name:m7,props:pg,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=xn(W1),i=()=>(r?r.props.modelValue:e.modelValue)===e.name,o=()=>{r?r.updateValue(e.name):t("update:modelValue",e.name)};return()=>B(q1,gt({bem:p7,role:"radio",parent:r,checked:i(),onToggle:o},e),Vt(n,["default","icon"]))}});const yg=Be(y7),[_7,yo]=Re("address-item");var A7=we({name:_7,props:{address:fn(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const r=()=>{e.switchable&&n("select"),n("click")},i=()=>B(ht,{name:"edit",class:yo("edit"),onClick:f=>{f.stopPropagation(),n("edit"),n("click")}},null),o=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return B(Mc,{type:"danger",round:!0,class:yo("tag")},{default:()=>[e.defaultTagText]})},l=()=>{const{address:f,disabled:c,switchable:a}=e,h=[B("div",{class:yo("name")},[`${f.name} ${f.tel}`,o()]),B("div",{class:yo("address")},[f.address])];return a&&!c?B(yg,{name:f.id,iconSize:18},{default:()=>[h]}):h};return()=>{var f;const{disabled:c}=e;return B("div",{class:yo({disabled:c}),onClick:r},[B(Kr,{border:!1,valueClass:yo("value")},{value:l,"right-icon":i}),(f=t.bottom)==null?void 0:f.call(t,qe({},e.address,{disabled:c}))])}}});const[b7,uu,E7]=Re("address-list"),S7={list:_n(),modelValue:Pe,switchable:Ce,disabledText:String,disabledList:_n(),addButtonText:String,defaultTagText:String};var T7=we({name:b7,props:S7,emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:t,emit:n}){const r=(l,f,c)=>{const a=()=>n(c?"edit-disabled":"edit",l,f),h=()=>n("click-item",l,f),m=()=>{n(c?"select-disabled":"select",l,f),c||n("update:modelValue",l.id)};return B(A7,{key:l.id,address:l,disabled:c,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:a,onClick:h,onSelect:m},{bottom:t["item-bottom"],tag:t.tag})},i=(l,f)=>{if(l)return l.map((c,a)=>r(c,a,f))},o=()=>B("div",{class:[uu("bottom"),"van-safe-area-bottom"]},[B(Wn,{round:!0,block:!0,type:"danger",text:e.addButtonText||E7("add"),class:uu("add"),onClick:()=>n("add")},null)]);return()=>{var l,f;const c=i(e.list),a=i(e.disabledList,!0),h=e.disabledText&&B("div",{class:uu("disabled-text")},[e.disabledText]);return B("div",{class:uu()},[(l=t.top)==null?void 0:l.call(t),B(mg,{modelValue:e.modelValue},{default:()=>[c]}),h,a,(f=t.default)==null?void 0:f.call(t),o()])}}});const w7=Be(T7),[C7,dn,Ci]=Re("calendar"),k7=e=>Ci("monthTitle",e.getFullYear(),e.getMonth()+1);function hh(e,t){const n=e.getFullYear(),r=t.getFullYear();if(n===r){const i=e.getMonth(),o=t.getMonth();return i===o?0:i>o?1:-1}return n>r?1:-1}function ir(e,t){const n=hh(e,t);if(n===0){const r=e.getDate(),i=t.getDate();return r===i?0:r>i?1:-1}return n}const ju=e=>new Date(e),$y=e=>Array.isArray(e)?e.map(ju):ju(e);function _g(e,t){const n=ju(e);return n.setDate(n.getDate()+t),n}const gh=e=>_g(e,-1),Y1=e=>_g(e,1),vh=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function x7(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}function Nc(){const e=Z([]),t=[];return X0(()=>{e.value=[]}),[e,r=>(t[r]||(t[r]=i=>{e.value[r]=i}),t[r])]}const Q1=qe({},Lc,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),J1=Object.keys(Lc);function X1(e,t){if(e<0)return[];const n=Array(e);let r=-1;for(;++r<e;)n[r]=t(r);return n}function I7(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));)if(e.length>1)e=e.slice(1);else return 0;return parseInt(e,10)}const mh=(e,t)=>32-new Date(e,t-1,32).getDate(),Z1=(e,t)=>{const n=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(e,{get:(r,i)=>n.includes(i)?(...o)=>{r[i](...o),t()}:r[i]})},[R7]=Re("calendar-day");var L7=we({name:R7,props:{item:fn(Object),color:String,index:Number,offset:ri(0),rowHeight:String},emits:["click"],setup(e,{emit:t,slots:n}){const r=ve(()=>{var c;const{item:a,index:h,color:m,offset:g,rowHeight:w}=e,T={height:w};if(a.type==="placeholder")return T.width="100%",T;if(h===0&&(T.marginLeft=`${100*g/7}%`),m)switch(a.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":T.background=m;break;case"middle":T.color=m;break}return g+(((c=a.date)==null?void 0:c.getDate())||1)>28&&(T.marginBottom=0),T}),i=()=>{e.item.type!=="disabled"&&t("click",e.item)},o=()=>{const{topInfo:c}=e.item;if(c||n["top-info"])return B("div",{class:dn("top-info")},[n["top-info"]?n["top-info"](e.item):c])},l=()=>{const{bottomInfo:c}=e.item;if(c||n["bottom-info"])return B("div",{class:dn("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):c])},f=()=>{const{item:c,color:a,rowHeight:h}=e,{type:m,text:g}=c,w=[o(),g,l()];return m==="selected"?B("div",{class:dn("selected-day"),style:{width:h,height:h,background:a}},[w]):w};return()=>{const{type:c,className:a}=e.item;return c==="placeholder"?B("div",{class:dn("day"),style:r.value},null):B("div",{role:"gridcell",style:r.value,class:[dn("day",c),a],tabindex:c==="disabled"?void 0:-1,onClick:i},[f()])}}});const[D7]=Re("calendar-month"),O7={date:fn(Date),type:String,color:String,minDate:fn(Date),maxDate:fn(Date),showMark:Boolean,rowHeight:Pe,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var P7=we({name:D7,props:O7,emits:["click","update-height"],setup(e,{emit:t,slots:n}){const[r,i]=nH(),o=Z(),l=Z(),f=R1(l),c=ve(()=>k7(e.date)),a=ve(()=>Lt(e.rowHeight)),h=ve(()=>{const S=e.date.getDay();return e.firstDayOfWeek?(S+7-e.firstDayOfWeek)%7:S}),m=ve(()=>mh(e.date.getFullYear(),e.date.getMonth()+1)),g=ve(()=>r.value||!e.lazyRender),w=()=>c.value,T=S=>{const C=I=>e.currentDate.some(D=>ir(D,I)===0);if(C(S)){const I=gh(S),D=Y1(S),P=C(I),F=C(D);return P&&F?"multiple-middle":P?"end":F?"start":"multiple-selected"}return""},y=S=>{const[C,I]=e.currentDate;if(!C)return"";const D=ir(S,C);if(!I)return D===0?"start":"";const P=ir(S,I);return e.allowSameDay&&D===0&&P===0?"start-end":D===0?"start":P===0?"end":D>0&&P<0?"middle":""},d=S=>{const{type:C,minDate:I,maxDate:D,currentDate:P}=e;if(ir(S,I)<0||ir(S,D)>0)return"disabled";if(P===null)return"";if(Array.isArray(P)){if(C==="multiple")return T(S);if(C==="range")return y(S)}else if(C==="single")return ir(S,P)===0?"selected":"";return""},_=S=>{if(e.type==="range"){if(S==="start"||S==="end")return Ci(S);if(S==="start-end")return`${Ci("start")}/${Ci("end")}`}},v=()=>{if(e.showMonthTitle)return B("div",{class:dn("month-title")},[c.value])},p=()=>{if(e.showMark&&g.value)return B("div",{class:dn("month-mark")},[e.date.getMonth()+1])},A=ve(()=>{const S=Math.ceil((m.value+h.value)/7);return Array(S).fill({type:"placeholder"})}),b=ve(()=>{const S=[],C=e.date.getFullYear(),I=e.date.getMonth();for(let D=1;D<=m.value;D++){const P=new Date(C,I,D),F=d(P);let U={date:P,type:F,text:D,bottomInfo:_(F)};e.formatter&&(U=e.formatter(U)),S.push(U)}return S}),E=ve(()=>b.value.filter(S=>S.type==="disabled")),x=(S,C)=>{if(o.value){const I=Bt(o.value),D=A.value.length,F=(Math.ceil((C.getDate()+h.value)/7)-1)*I.height/D;Hu(S,I.top+F+S.scrollTop-Bt(S).top)}},k=(S,C)=>B(L7,{item:S,index:C,color:e.color,offset:h.value,rowHeight:a.value,onClick:I=>t("click",I)},Vt(n,["top-info","bottom-info"])),L=()=>B("div",{ref:o,role:"grid",class:dn("days")},[p(),(g.value?b:A).value.map(k)]);return Ct({getTitle:w,getHeight:()=>f.value,setVisible:i,scrollToDate:x,disabledDays:E}),()=>B("div",{class:dn("month"),ref:l},[v(),L()])}});const[B7]=Re("calendar-header");var F7=we({name:B7,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:t,emit:n}){const r=()=>{if(e.showTitle){const f=e.title||Ci("title"),c=t.title?t.title():f;return B("div",{class:dn("header-title")},[c])}},i=f=>n("click-subtitle",f),o=()=>{if(e.showSubtitle){const f=t.subtitle?t.subtitle():e.subtitle;return B("div",{class:dn("header-subtitle"),onClick:i},[f])}},l=()=>{const{firstDayOfWeek:f}=e,c=Ci("weekdays"),a=[...c.slice(f,7),...c.slice(0,f)];return B("div",{class:dn("weekdays")},[a.map(h=>B("span",{class:dn("weekday")},[h]))])};return()=>B("div",{class:dn("header")},[r(),o(),l()])}});const M7={show:Boolean,type:ze("single"),title:String,color:String,round:Ce,readonly:Boolean,poppable:Ce,maxRange:He(null),position:ze("bottom"),teleport:[String,Object],showMark:Ce,showTitle:Ce,formatter:Function,rowHeight:Pe,confirmText:String,rangePrompt:String,lazyRender:Ce,showConfirm:Ce,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Ce,closeOnPopstate:Ce,showRangePrompt:Ce,confirmDisabledText:String,closeOnClickOverlay:Ce,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Ce,minDate:{type:Date,validator:Do,default:vh},maxDate:{type:Date,validator:Do,default:()=>{const e=vh();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:Pe,default:0,validator:e=>e>=0&&e<=6}};var N7=we({name:C7,props:M7,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(e,{emit:t,slots:n}){const r=(F,U=e.minDate,M=e.maxDate)=>ir(F,U)===-1?U:ir(F,M)===1?M:F,i=(F=e.defaultDate)=>{const{type:U,minDate:M,maxDate:V,allowSameDay:H}=e;if(F===null)return F;const z=vh();if(U==="range"){Array.isArray(F)||(F=[]);const j=r(F[0]||z,M,H?V:gh(V)),Q=r(F[1]||z,H?M:Y1(M));return[j,Q]}return U==="multiple"?Array.isArray(F)?F.map(j=>r(j)):[r(z)]:((!F||Array.isArray(F))&&(F=z),r(F))};let o;const l=Z(),f=Z(""),c=Z(i()),[a,h]=Nc(),m=ve(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),g=ve(()=>{const F=[],U=new Date(e.minDate);U.setDate(1);do F.push(new Date(U)),U.setMonth(U.getMonth()+1);while(hh(U,e.maxDate)!==1);return F}),w=ve(()=>{if(c.value){if(e.type==="range")return!c.value[0]||!c.value[1];if(e.type==="multiple")return!c.value.length}return!c.value}),T=()=>c.value,y=()=>{const F=us(l.value),U=F+o,M=g.value.map((Q,ie)=>a.value[ie].getHeight()),V=M.reduce((Q,ie)=>Q+ie,0);if(U>V&&F>0)return;let H=0,z;const j=[-1,-1];for(let Q=0;Q<g.value.length;Q++){const ie=a.value[Q];H<=U&&H+M[Q]>=F&&(j[1]=Q,z||(z=ie,j[0]=Q),a.value[Q].showed||(a.value[Q].showed=!0,t("month-show",{date:ie.date,title:ie.getTitle()}))),H+=M[Q]}g.value.forEach((Q,ie)=>{const ne=ie>=j[0]-1&&ie<=j[1]+1;a.value[ie].setVisible(ne)}),z&&(f.value=z.getTitle())},d=F=>{$n(()=>{g.value.some((U,M)=>hh(U,F)===0?(l.value&&a.value[M].scrollToDate(l.value,F),!0):!1),y()})},_=()=>{if(!(e.poppable&&!e.show))if(c.value){const F=e.type==="single"?c.value:c.value[0];Do(F)&&d(F)}else $n(y)},v=()=>{e.poppable&&!e.show||($n(()=>{o=Math.floor(Bt(l).height)}),_())},p=(F=i())=>{c.value=F,_()},A=F=>{const{maxRange:U,rangePrompt:M,showRangePrompt:V}=e;return U&&x7(F)>U?(V&&qn(M||Ci("rangePrompt",U)),t("over-range"),!1):!0},b=()=>{var F;return t("confirm",(F=c.value)!=null?F:$y(c.value))},E=(F,U)=>{const M=V=>{c.value=V,t("select",$y(V))};if(U&&e.type==="range"&&!A(F)){M([F[0],_g(F[0],+e.maxRange-1)]);return}M(F),U&&!e.showConfirm&&b()},x=(F,U,M)=>{var V;return(V=F.find(H=>ir(U,H.date)===-1&&ir(H.date,M)===-1))==null?void 0:V.date},k=ve(()=>a.value.reduce((F,U)=>{var M,V;return F.push(...(V=(M=U.disabledDays)==null?void 0:M.value)!=null?V:[]),F},[])),L=F=>{if(e.readonly||!F.date)return;const{date:U}=F,{type:M}=e;if(M==="range"){if(!c.value){E([U]);return}const[V,H]=c.value;if(V&&!H){const z=ir(U,V);if(z===1){const j=x(k.value,V,U);if(j){const Q=gh(j);ir(V,Q)===-1?E([V,Q]):E([U])}else E([V,U],!0)}else z===-1?E([U]):e.allowSameDay&&E([U,U],!0)}else E([U])}else if(M==="multiple"){if(!c.value){E([U]);return}const V=c.value,H=V.findIndex(z=>ir(z,U)===0);if(H!==-1){const[z]=V.splice(H,1);t("unselect",ju(z))}else e.maxRange&&V.length>=e.maxRange?qn(e.rangePrompt||Ci("rangePrompt",e.maxRange)):E([...V,U])}else E(U,!0)},S=F=>t("update:show",F),C=(F,U)=>{const M=U!==0||!e.showSubtitle;return B(P7,gt({ref:h(U),date:F,currentDate:c.value,showMonthTitle:M,firstDayOfWeek:m.value},Vt(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:L}),Vt(n,["top-info","bottom-info"]))},I=()=>{if(n.footer)return n.footer();if(e.showConfirm){const F=n["confirm-text"],U=w.value,M=U?e.confirmDisabledText:e.confirmText;return B(Wn,{round:!0,block:!0,type:"danger",color:e.color,class:dn("confirm"),disabled:U,nativeType:"button",onClick:b},{default:()=>[F?F({disabled:U}):M||Ci("confirm")]})}},D=()=>B("div",{class:[dn("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[I()]),P=()=>B("div",{class:dn()},[B(F7,{title:e.title,subtitle:f.value,showTitle:e.showTitle,showSubtitle:e.showSubtitle,firstDayOfWeek:m.value,"onClick-subtitle":F=>t("click-subtitle",F)},Vt(n,["title","subtitle"])),B("div",{ref:l,class:dn("body"),onScroll:y},[g.value.map(C)]),D()]);return Me(()=>e.show,v),Me(()=>[e.type,e.minDate,e.maxDate],()=>p(i(c.value))),Me(()=>e.defaultDate,(F=null)=>{c.value=F,_()}),Ct({reset:p,scrollToDate:d,getSelectedDate:T}),Xo(v),()=>e.poppable?B(Gr,{show:e.show,class:dn("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":S},{default:P}):P()}});const U7=Be(N7),[V7,_o]=Re("image"),z7={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:Pe,height:Pe,radius:Pe,lazyLoad:Boolean,iconSize:Pe,showError:Ce,errorIcon:ze("photo-fail"),iconPrefix:String,showLoading:Ce,loadingIcon:ze("photo")};var $7=we({name:V7,props:z7,emits:["load","error"],setup(e,{emit:t,slots:n}){const r=Z(!1),i=Z(!0),o=Z(),{$Lazyload:l}=Yn().proxy,f=ve(()=>{const y={width:Lt(e.width),height:Lt(e.height)};return Tt(e.radius)&&(y.overflow="hidden",y.borderRadius=Lt(e.radius)),y});Me(()=>e.src,()=>{r.value=!1,i.value=!0});const c=y=>{i.value=!1,t("load",y)},a=y=>{r.value=!0,i.value=!1,t("error",y)},h=(y,d,_)=>_?_():B(ht,{name:y,size:e.iconSize,class:d,classPrefix:e.iconPrefix},null),m=()=>{if(i.value&&e.showLoading)return B("div",{class:_o("loading")},[h(e.loadingIcon,_o("loading-icon"),n.loading)]);if(r.value&&e.showError)return B("div",{class:_o("error")},[h(e.errorIcon,_o("error-icon"),n.error)])},g=()=>{if(r.value||!e.src)return;const y={alt:e.alt,class:_o("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?ft(B("img",gt({ref:o},y),null),[[FI("lazy"),e.src]]):B("img",gt({src:e.src,onLoad:c,onError:a},y),null)},w=({el:y})=>{const d=()=>{y===o.value&&i.value&&c()};o.value?d():Ze(d)},T=({el:y})=>{y===o.value&&!r.value&&a()};return l&&fs&&(l.$on("loaded",w),l.$on("error",T),Di(()=>{l.$off("loaded",w),l.$off("error",T)})),()=>{var y;return B("div",{class:_o({round:e.round,block:e.block}),style:f.value},[g(),m(),(y=n.default)==null?void 0:y.call(n)])}}});const Uc=Be($7),[H7,On]=Re("card"),G7={tag:String,num:Pe,desc:String,thumb:String,title:String,price:Pe,centered:Boolean,lazyLoad:Boolean,currency:ze("\xA5"),thumbLink:String,originPrice:Pe};var K7=we({name:H7,props:G7,emits:["click-thumb"],setup(e,{slots:t,emit:n}){const r=()=>{if(t.title)return t.title();if(e.title)return B("div",{class:[On("title"),"van-multi-ellipsis--l2"]},[e.title])},i=()=>{if(t.tag||e.tag)return B("div",{class:On("tag")},[t.tag?t.tag():B(Mc,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},o=()=>t.thumb?t.thumb():B(Uc,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),l=()=>{if(t.thumb||e.thumb)return B("a",{href:e.thumbLink,class:On("thumb"),onClick:a=>n("click-thumb",a)},[o(),i()])},f=()=>{if(t.desc)return t.desc();if(e.desc)return B("div",{class:[On("desc"),"van-ellipsis"]},[e.desc])},c=()=>{const a=e.price.toString().split(".");return B("div",null,[B("span",{class:On("price-currency")},[e.currency]),B("span",{class:On("price-integer")},[a[0]]),xt("."),B("span",{class:On("price-decimal")},[a[1]])])};return()=>{var a,h,m;const g=t.num||Tt(e.num),w=t.price||Tt(e.price),T=t["origin-price"]||Tt(e.originPrice),y=g||w||T||t.bottom,d=w&&B("div",{class:On("price")},[t.price?t.price():c()]),_=T&&B("div",{class:On("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),v=g&&B("div",{class:On("num")},[t.num?t.num():`x${e.num}`]),p=t.footer&&B("div",{class:On("footer")},[t.footer()]),A=y&&B("div",{class:On("bottom")},[(a=t["price-top"])==null?void 0:a.call(t),d,_,v,(h=t.bottom)==null?void 0:h.call(t)]);return B("div",{class:On()},[B("div",{class:On("header")},[l(),B("div",{class:On("content",{centered:e.centered})},[B("div",null,[r(),f(),(m=t.tags)==null?void 0:m.call(t)]),A])]),p])}}});const j7=Be(K7);function W7(e,t,n){let r=0;const i=e.scrollLeft,o=n===0?1:Math.round(n*1e3/16);function l(){e.scrollLeft+=(t-i)/o,++r<o&&$n(l)}l()}function q7(e,t,n,r){let i=us(e);const o=i<t,l=n===0?1:Math.round(n*1e3/16),f=(t-i)/l;function c(){i+=f,(o&&i>t||!o&&i<t)&&(i=t),Hu(e,i),o&&i<t||!o&&i>t?$n(c):r&&$n(r)}c()}function Y7(e,t){if(!fs||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{t(o[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&n.observe(e.value)},i=()=>{e.value&&n.unobserve(e.value)};cs(i),Di(i),Xo(r)}const[Q7,J7]=Re("sticky"),X7={zIndex:Pe,position:ze("top"),container:Object,offsetTop:He(0),offsetBottom:He(0)};var Z7=we({name:Q7,props:X7,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const r=Z(),i=Zo(r),o=Et({fixed:!1,width:0,height:0,transform:0}),l=ve(()=>ag(e.position==="top"?e.offsetTop:e.offsetBottom)),f=ve(()=>{const{fixed:m,height:g,width:w}=o;if(m)return{width:`${w}px`,height:`${g}px`}}),c=ve(()=>{if(!o.fixed)return;const m=qe(qs(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${l.value}px`});return o.transform&&(m.transform=`translate3d(0, ${o.transform}px, 0)`),m}),a=m=>t("scroll",{scrollTop:m,isFixed:o.fixed}),h=()=>{if(!r.value||$o(r))return;const{container:m,position:g}=e,w=Bt(r),T=us(window);if(o.width=w.width,o.height=w.height,g==="top")if(m){const y=Bt(m),d=y.bottom-l.value-o.height;o.fixed=l.value>w.top&&y.bottom>0,o.transform=d<0?d:0}else o.fixed=l.value>w.top;else{const{clientHeight:y}=document.documentElement;if(m){const d=Bt(m),_=y-d.top-l.value-o.height;o.fixed=y-l.value<w.bottom&&y>d.top,o.transform=_<0?-_:0}else o.fixed=y-l.value<w.bottom}a(T)};return Me(()=>o.fixed,m=>t("change",m)),vn("scroll",h,{target:i,passive:!0}),Y7(r,h),()=>{var m;return B("div",{ref:r,style:f.value},[B("div",{class:J7({fixed:o.fixed}),style:c.value},[(m=n.default)==null?void 0:m.call(n)])])}}});const eA=Be(Z7),[e9,Hy]=Re("tab");var t9=we({name:e9,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:Pe,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:Ce},setup(e,{slots:t}){const n=ve(()=>{const i={},{type:o,color:l,disabled:f,isActive:c,activeColor:a,inactiveColor:h}=e;l&&o==="card"&&(i.borderColor=l,f||(c?i.backgroundColor=l:i.color=l));const g=c?a:h;return g&&(i.color=g),i}),r=()=>{const i=B("span",{class:Hy("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||Tt(e.badge)&&e.badge!==""?B(Qs,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[i]}):i};return()=>B("div",{id:e.id,role:"tab",class:[Hy([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}});const[tA,cu]=Re("swipe"),n9={loop:Ce,width:Pe,height:Pe,vertical:Boolean,autoplay:He(0),duration:He(500),touchable:Ce,lazyRender:Boolean,initialSwipe:He(0),indicatorColor:String,showIndicators:Ce,stopPropagation:Ce},nA=Symbol(tA);var r9=we({name:tA,props:n9,emits:["change"],setup(e,{emit:t,slots:n}){const r=Z(),i=Z(),o=Et({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),l=oi(),{children:f,linkChildren:c}=Fn(nA),a=ve(()=>f.length),h=ve(()=>o[e.vertical?"height":"width"]),m=ve(()=>e.vertical?l.deltaY.value:l.deltaX.value),g=ve(()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-h.value*a.value:0),w=ve(()=>Math.ceil(Math.abs(g.value)/h.value)),T=ve(()=>a.value*h.value),y=ve(()=>(o.active+a.value)%a.value),d=ve(()=>{const z=e.vertical?"vertical":"horizontal";return l.direction.value===z}),_=ve(()=>{const z={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${o.offset}px)`};if(h.value){const j=e.vertical?"height":"width",Q=e.vertical?"width":"height";z[j]=`${T.value}px`,z[Q]=e[Q]?`${e[Q]}px`:""}return z}),v=z=>{const{active:j}=o;return z?e.loop?Sn(j+z,-1,a.value):Sn(j+z,0,w.value):j},p=(z,j=0)=>{let Q=z*h.value;e.loop||(Q=Math.min(Q,-g.value));let ie=j-Q;return e.loop||(ie=Sn(ie,g.value,0)),ie},A=({pace:z=0,offset:j=0,emitChange:Q})=>{if(a.value<=1)return;const{active:ie}=o,ne=v(z),X=p(ne,j);if(e.loop){if(f[0]&&X!==g.value){const J=X<g.value;f[0].setOffset(J?T.value:0)}if(f[a.value-1]&&X!==0){const J=X>0;f[a.value-1].setOffset(J?-T.value:0)}}o.active=ne,o.offset=X,Q&&ne!==ie&&t("change",y.value)},b=()=>{o.swiping=!0,o.active<=-1?A({pace:a.value}):o.active>=a.value&&A({pace:-a.value})},E=()=>{b(),l.reset(),ns(()=>{o.swiping=!1,A({pace:-1,emitChange:!0})})},x=()=>{b(),l.reset(),ns(()=>{o.swiping=!1,A({pace:1,emitChange:!0})})};let k;const L=()=>clearTimeout(k),S=()=>{L(),e.autoplay>0&&a.value>1&&(k=setTimeout(()=>{x(),S()},+e.autoplay))},C=(z=+e.initialSwipe)=>{if(!r.value)return;const j=()=>{var Q,ie;if(!$o(r)){const ne={width:r.value.offsetWidth,height:r.value.offsetHeight};o.rect=ne,o.width=+((Q=e.width)!=null?Q:ne.width),o.height=+((ie=e.height)!=null?ie:ne.height)}a.value&&(z=Math.min(a.value-1,z)),o.active=z,o.swiping=!0,o.offset=p(z),f.forEach(ne=>{ne.setOffset(0)}),S()};$o(r)?Ze().then(j):j()},I=()=>C(o.active);let D;const P=z=>{!e.touchable||(l.start(z),D=Date.now(),L(),b())},F=z=>{e.touchable&&o.swiping&&(l.move(z),d.value&&(!e.loop&&(o.active===0&&m.value>0||o.active===a.value-1&&m.value<0)||(tn(z,e.stopPropagation),A({offset:m.value}))))},U=()=>{if(!e.touchable||!o.swiping)return;const z=Date.now()-D,j=m.value/z;if((Math.abs(j)>.25||Math.abs(m.value)>h.value/2)&&d.value){const ie=e.vertical?l.offsetY.value:l.offsetX.value;let ne=0;e.loop?ne=ie>0?m.value>0?-1:1:0:ne=-Math[m.value>0?"ceil":"floor"](m.value/h.value),A({pace:ne,emitChange:!0})}else m.value&&A({pace:0});o.swiping=!1,S()},M=(z,j={})=>{b(),l.reset(),ns(()=>{let Q;e.loop&&z===a.value?Q=o.active===0?0:z:Q=z%a.value,j.immediate?ns(()=>{o.swiping=!1}):o.swiping=!1,A({pace:Q-o.active,emitChange:!0})})},V=(z,j)=>{const Q=j===y.value,ie=Q?{backgroundColor:e.indicatorColor}:void 0;return B("i",{style:ie,class:cu("indicator",{active:Q})},null)},H=()=>{if(n.indicator)return n.indicator({active:y.value,total:a.value});if(e.showIndicators&&a.value>1)return B("div",{class:cu("indicators",{vertical:e.vertical})},[Array(a.value).fill("").map(V)])};return Ct({prev:E,next:x,state:o,resize:I,swipeTo:M}),c({size:h,props:e,count:a,activeIndicator:y}),Me(()=>e.initialSwipe,z=>C(+z)),Me(a,()=>C(o.active)),Me(()=>e.autoplay,S),Me([kc,Ho],I),Me(dH(),z=>{z==="visible"?S():L()}),Gt(C),js(()=>C(o.active)),Ic(()=>C(o.active)),cs(L),Di(L),vn("touchmove",F,{target:i}),()=>{var z;return B("div",{ref:r,class:cu()},[B("div",{ref:i,style:_.value,class:cu("track",{vertical:e.vertical}),onTouchstartPassive:P,onTouchend:U,onTouchcancel:U},[(z=n.default)==null?void 0:z.call(n)]),H()])}}});const Ag=Be(r9),[i9,Gy]=Re("tabs");var s9=we({name:i9,props:{count:fn(Number),inited:Boolean,animated:Boolean,duration:fn(Pe),swipeable:Boolean,lazyRender:Boolean,currentIndex:fn(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const r=Z(),i=f=>t("change",f),o=()=>{var f;const c=(f=n.default)==null?void 0:f.call(n);return e.animated||e.swipeable?B(Ag,{ref:r,loop:!1,class:Gy("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[c]}):c},l=f=>{const c=r.value;c&&c.state.active!==f&&c.swipeTo(f,{immediate:!e.inited})};return Me(()=>e.currentIndex,l),Gt(()=>{l(e.currentIndex)}),Ct({swipeRef:r}),()=>B("div",{class:Gy("content",{animated:e.animated||e.swipeable})},[o()])}});const[rA,du]=Re("tabs"),o9={type:ze("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:He(0),duration:He(.3),animated:Boolean,ellipsis:Ce,swipeable:Boolean,scrollspy:Boolean,offsetTop:He(0),background:String,lazyRender:Ce,lineWidth:Pe,lineHeight:Pe,beforeChange:Function,swipeThreshold:He(5),titleActiveColor:String,titleInactiveColor:String},iA=Symbol(rA);var a9=we({name:rA,props:o9,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:t,slots:n}){let r,i,o;const l=Z(),f=Z(),c=Z(),a=Z(),h=ta(),m=Zo(l),[g,w]=Nc(),{children:T,linkChildren:y}=Fn(iA),d=Et({inited:!1,position:"",lineStyle:{},currentIndex:-1}),_=ve(()=>T.length>e.swipeThreshold||!e.ellipsis||e.shrink),v=ve(()=>({borderColor:e.color,background:e.background})),p=(ne,X)=>{var J;return(J=ne.name)!=null?J:X},A=ve(()=>{const ne=T[d.currentIndex];if(ne)return p(ne,d.currentIndex)}),b=ve(()=>ag(e.offsetTop)),E=ve(()=>e.sticky?b.value+r:0),x=ne=>{const X=f.value,J=g.value;if(!_.value||!X||!J||!J[d.currentIndex])return;const se=J[d.currentIndex].$el,ce=se.offsetLeft-(X.offsetWidth-se.offsetWidth)/2;W7(X,ce,ne?0:+e.duration)},k=()=>{const ne=d.inited;Ze(()=>{const X=g.value;if(!X||!X[d.currentIndex]||e.type!=="line"||$o(l.value))return;const J=X[d.currentIndex].$el,{lineWidth:se,lineHeight:ce}=e,me=J.offsetLeft+J.offsetWidth/2,Fe={width:Lt(se),backgroundColor:e.color,transform:`translateX(${me}px) translateX(-50%)`};if(ne&&(Fe.transitionDuration=`${e.duration}s`),Tt(ce)){const Oe=Lt(ce);Fe.height=Oe,Fe.borderRadius=Oe}d.lineStyle=Fe})},L=ne=>{const X=ne<d.currentIndex?-1:1;for(;ne>=0&&ne<T.length;){if(!T[ne].disabled)return ne;ne+=X}},S=(ne,X)=>{const J=L(ne);if(!Tt(J))return;const se=T[J],ce=p(se,J),me=d.currentIndex!==null;d.currentIndex!==J&&(d.currentIndex=J,X||x(),k()),ce!==e.active&&(t("update:active",ce),me&&t("change",ce,se.title)),o&&!e.scrollspy&&Cc(Math.ceil(Cy(l.value)-b.value))},C=(ne,X)=>{const J=T.find((ce,me)=>p(ce,me)===ne),se=J?T.indexOf(J):0;S(se,X)},I=(ne=!1)=>{if(e.scrollspy){const X=T[d.currentIndex].$el;if(X&&m.value){const J=Cy(X,m.value)-E.value;i=!0,q7(m.value,J,ne?0:+e.duration,()=>{i=!1})}}},D=(ne,X,J)=>{const{title:se,disabled:ce}=T[X],me=p(T[X],X);ce?t("disabled",me,se):(ms(e.beforeChange,{args:[me],done:()=>{S(X),I()}}),t("click",me,se),O1(ne)),t("click-tab",{name:me,title:se,event:J,disabled:ce})},P=ne=>{o=ne.isFixed,t("scroll",ne)},F=ne=>{Ze(()=>{C(ne),I(!0)})},U=()=>{for(let ne=0;ne<T.length;ne++){const{top:X}=Bt(T[ne].$el);if(X>E.value)return ne===0?0:ne-1}return T.length-1},M=()=>{if(e.scrollspy&&!i){const ne=U();S(ne)}},V=()=>T.map((ne,X)=>B(t9,gt({key:ne.id,id:`${h}-${X}`,ref:w(X),type:e.type,color:e.color,style:ne.titleStyle,class:ne.titleClass,shrink:e.shrink,isActive:X===d.currentIndex,controls:ne.id,scrollable:_.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:J=>D(ne,X,J)},Vt(ne,["dot","badge","title","disabled","showZeroBadge"])),{title:ne.$slots.title})),H=()=>{if(e.type==="line"&&T.length)return B("div",{class:du("line"),style:d.lineStyle},null)},z=()=>{var ne,X,J;const{type:se,border:ce,sticky:me}=e,Fe=[B("div",{ref:me?void 0:c,class:[du("wrap"),{[xc]:se==="line"&&ce}]},[B("div",{ref:f,role:"tablist",class:du("nav",[se,{shrink:e.shrink,complete:_.value}]),style:v.value,"aria-orientation":"horizontal"},[(ne=n["nav-left"])==null?void 0:ne.call(n),V(),H(),(X=n["nav-right"])==null?void 0:X.call(n)])]),(J=n["nav-bottom"])==null?void 0:J.call(n)];return me?B("div",{ref:c},[Fe]):Fe};Me([()=>e.color,kc],k),Me(()=>e.active,ne=>{ne!==A.value&&C(ne)}),Me(()=>T.length,()=>{d.inited&&(C(e.active),k(),Ze(()=>{x(!0)}))});const j=()=>{C(e.active,!0),Ze(()=>{d.inited=!0,c.value&&(r=Bt(c.value).height),x(!0)})},Q=(ne,X)=>t("rendered",ne,X);return Ct({resize:()=>{k(),Ze(()=>{var ne,X;return(X=(ne=a.value)==null?void 0:ne.swipeRef.value)==null?void 0:X.resize()})},scrollTo:F}),js(k),Ic(k),Xo(j),vn("scroll",M,{target:m,passive:!0}),y({id:h,props:e,setLine:k,onRendered:Q,currentName:A,scrollIntoView:x}),()=>B("div",{ref:l,class:du([e.type])},[e.sticky?B(eA,{container:l.value,offsetTop:b.value,onScroll:P},{default:()=>[z()]}):z(),B(s9,{ref:a,count:T.length,inited:d.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:d.currentIndex,onChange:S},{default:()=>{var ne;return[(ne=n.default)==null?void 0:ne.call(n)]}})])}});const sA=Symbol(),l9=()=>yn(sA,null),[u9,c9]=Re("swipe-item");var d9=we({name:u9,setup(e,{slots:t}){let n;const r=Et({offset:0,inited:!1,mounted:!1}),{parent:i,index:o}=xn(nA);if(!i)return;const l=ve(()=>{const a={},{vertical:h}=i.props;return i.size.value&&(a[h?"height":"width"]=`${i.size.value}px`),r.offset&&(a.transform=`translate${h?"Y":"X"}(${r.offset}px)`),a}),f=ve(()=>{const{loop:a,lazyRender:h}=i.props;if(!h||n)return!0;if(!r.mounted)return!1;const m=i.activeIndicator.value,g=i.count.value-1,w=m===0&&a?g:m-1,T=m===g&&a?0:m+1;return n=o.value===m||o.value===w||o.value===T,n}),c=a=>{r.offset=a};return Gt(()=>{Ze(()=>{r.mounted=!0})}),Ct({setOffset:c}),()=>{var a;return B("div",{class:c9(),style:l.value},[f.value?(a=t.default)==null?void 0:a.call(t):null])}}});const bg=Be(d9),[f9,wf]=Re("tab"),h9=qe({},ps,{dot:Boolean,name:Pe,badge:Pe,title:String,disabled:Boolean,titleClass:$t,titleStyle:[String,Object],showZeroBadge:Ce});var g9=we({name:f9,props:h9,setup(e,{slots:t}){const n=ta(),r=Z(!1),{parent:i,index:o}=xn(iA);if(!i)return;const l=()=>{var h;return(h=e.name)!=null?h:o.value},f=()=>{r.value=!0,i.props.lazyRender&&Ze(()=>{i.onRendered(l(),e.title)})},c=ve(()=>{const h=l()===i.currentName.value;return h&&!r.value&&f(),h}),a=Z(!c.value);return Me(c,h=>{h?a.value=!1:ns(()=>{a.value=!0})}),Me(()=>e.title,()=>{i.setLine(),i.scrollIntoView()}),Ti(sA,c),()=>{var h;const m=`${i.id}-${o.value}`,{animated:g,swipeable:w,scrollspy:T,lazyRender:y}=i.props;if(!t.default&&!g)return;const d=T||c.value;if(g||w)return B(bg,{id:n,role:"tabpanel",class:wf("panel-wrapper",{inactive:a.value}),tabindex:c.value?0:-1,"aria-hidden":!c.value,"aria-labelledby":m},{default:()=>{var p;return[B("div",{class:wf("panel")},[(p=t.default)==null?void 0:p.call(t)])]}});const v=r.value||T||!y?(h=t.default)==null?void 0:h.call(t):null;return Ct({id:n}),ft(B("div",{id:n,role:"tabpanel",class:wf("panel"),tabindex:d?0:-1,"aria-labelledby":m},[v]),[[St,d]])}}});const Wu=Be(g9),Eg=Be(a9),[v9,Ai,m9]=Re("cascader"),p9={title:String,options:_n(),closeable:Ce,swipeable:Ce,closeIcon:ze("cross"),showHeader:Ce,modelValue:Pe,fieldNames:Object,placeholder:String,activeColor:String};var y9=we({name:v9,props:p9,emits:["close","change","finish","click-tab","update:modelValue"],setup(e,{slots:t,emit:n}){const r=Z([]),i=Z(0),{text:o,value:l,children:f}=qe({text:"text",value:"value",children:"children"},e.fieldNames),c=(v,p)=>{for(const A of v){if(A[l]===p)return[A];if(A[f]){const b=c(A[f],p);if(b)return[A,...b]}}},a=()=>{const{options:v,modelValue:p}=e;if(p!==void 0){const A=c(v,p);if(A){let b=v;r.value=A.map(E=>{const x={options:b,selected:E},k=b.find(L=>L[l]===E[l]);return k&&(b=k[f]),x}),b&&r.value.push({options:b,selected:null}),Ze(()=>{i.value=r.value.length-1});return}}r.value=[{options:v,selected:null}]},h=(v,p)=>{if(v.disabled)return;if(r.value[p].selected=v,r.value.length>p+1&&(r.value=r.value.slice(0,p+1)),v[f]){const E={options:v[f],selected:null};r.value[p+1]?r.value[p+1]=E:r.value.push(E),Ze(()=>{i.value++})}const A=r.value.map(E=>E.selected).filter(Boolean);n("update:modelValue",v[l]);const b={value:v[l],tabIndex:p,selectedOptions:A};n("change",b),v[f]||n("finish",b)},m=()=>n("close"),g=({name:v,title:p})=>n("click-tab",v,p),w=()=>e.showHeader?B("div",{class:Ai("header")},[B("h2",{class:Ai("title")},[t.title?t.title():e.title]),e.closeable?B(ht,{name:e.closeIcon,class:[Ai("close-icon"),jn],onClick:m},null):null]):null,T=(v,p,A)=>{const{disabled:b}=v,E=!!(p&&v[l]===p[l]),x=v.color||(E?e.activeColor:void 0),k=t.option?t.option({option:v,selected:E}):B("span",null,[v[o]]);return B("li",{role:"menuitemradio",class:[Ai("option",{selected:E,disabled:b}),v.className],style:{color:x},tabindex:b?void 0:E?0:-1,"aria-checked":E,"aria-disabled":b||void 0,onClick:()=>h(v,A)},[k,E?B(ht,{name:"success",class:Ai("selected-icon")},null):null])},y=(v,p,A)=>B("ul",{role:"menu",class:Ai("options")},[v.map(b=>T(b,p,A))]),d=(v,p)=>{const{options:A,selected:b}=v,E=e.placeholder||m9("select"),x=b?b[o]:E;return B(Wu,{title:x,titleClass:Ai("tab",{unselected:!b})},{default:()=>{var k,L;return[(k=t["options-top"])==null?void 0:k.call(t,{tabIndex:p}),y(A,b,p),(L=t["options-bottom"])==null?void 0:L.call(t,{tabIndex:p})]}})},_=()=>B(Eg,{active:i.value,"onUpdate:active":v=>i.value=v,shrink:!0,animated:!0,class:Ai("tabs"),color:e.activeColor,swipeable:e.swipeable,"onClick-tab":g},{default:()=>[r.value.map(d)]});return a(),Me(()=>e.options,a,{deep:!0}),Me(()=>e.modelValue,v=>{v!==void 0&&r.value.map(A=>{var b;return(b=A.selected)==null?void 0:b[l]}).includes(v)||a()}),()=>B("div",{class:Ai()},[w(),_()])}});const _9=Be(y9),[A9,Ky]=Re("cell-group"),b9={title:String,inset:Boolean,border:Ce};var E9=we({name:A9,inheritAttrs:!1,props:b9,setup(e,{slots:t,attrs:n}){const r=()=>{var o;return B("div",gt({class:[Ky({inset:e.inset}),{[xc]:e.border&&!e.inset}]},n),[(o=t.default)==null?void 0:o.call(t)])},i=()=>B("div",{class:Ky("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?B(Le,null,[i(),r()]):r()}});const S9=Be(E9),[oA,T9]=Re("checkbox-group"),w9={max:Pe,disabled:Boolean,iconSize:Pe,direction:String,modelValue:_n(),checkedColor:String},aA=Symbol(oA);var C9=we({name:oA,props:w9,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:r,linkChildren:i}=Fn(aA),o=f=>t("update:modelValue",f),l=(f={})=>{typeof f=="boolean"&&(f={checked:f});const{checked:c,skipDisabled:a}=f,m=r.filter(g=>g.props.bindGroup?g.props.disabled&&a?g.checked.value:c!=null?c:!g.checked.value:!1).map(g=>g.name);o(m)};return Me(()=>e.modelValue,f=>t("change",f)),Ct({toggleAll:l}),hs(()=>e.modelValue),i({props:e,updateValue:o}),()=>{var f;return B("div",{class:T9([e.direction])},[(f=n.default)==null?void 0:f.call(n)])}}});const[k9,x9]=Re("checkbox"),I9=qe({},pg,{bindGroup:Ce});var R9=we({name:k9,props:I9,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:r}=xn(aA),i=f=>{const{name:c}=e,{max:a,modelValue:h}=r.props,m=h.slice();if(f)!(a&&m.length>=a)&&!m.includes(c)&&(m.push(c),e.bindGroup&&r.updateValue(m));else{const g=m.indexOf(c);g!==-1&&(m.splice(g,1),e.bindGroup&&r.updateValue(m))}},o=ve(()=>r&&e.bindGroup?r.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),l=(f=!o.value)=>{r&&e.bindGroup?i(f):t("update:modelValue",f)};return Me(()=>e.modelValue,f=>t("change",f)),Ct({toggle:l,props:e,checked:o}),hs(()=>e.modelValue),()=>B(q1,gt({bem:x9,role:"checkbox",parent:r,checked:o.value,onToggle:l},e),Vt(n,["default","icon"]))}});const lA=Be(R9),L9=Be(C9),[D9,fu]=Re("circle");let O9=0;const jy=e=>Math.min(Math.max(+e,0),100);function P9(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const B9={text:String,size:Pe,fill:ze("none"),rate:He(100),speed:He(0),color:[String,Object],clockwise:Ce,layerColor:String,currentRate:ri(0),strokeWidth:He(40),strokeLinecap:String,startPosition:ze("top")};var F9=we({name:D9,props:B9,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const r=`van-circle-${O9++}`,i=ve(()=>+e.strokeWidth+1e3),o=ve(()=>P9(e.clockwise,i.value)),l=ve(()=>{const g={top:0,right:90,bottom:180,left:270}[e.startPosition];if(g)return{transform:`rotate(${g}deg)`}});Me(()=>e.rate,m=>{let g;const w=Date.now(),T=e.currentRate,y=jy(m),d=Math.abs((T-y)*1e3/+e.speed),_=()=>{const v=Date.now(),A=Math.min((v-w)/d,1)*(y-T)+T;t("update:currentRate",jy(parseFloat(A.toFixed(1)))),(y>T?A<y:A>y)&&(g=$n(_))};e.speed?(g&&y1(g),g=$n(_)):t("update:currentRate",y)},{immediate:!0});const f=()=>{const{strokeWidth:g,currentRate:w,strokeLinecap:T}=e,y=3140*w/100,d=Gn(e.color)?`url(#${r})`:e.color,_={stroke:d,strokeWidth:`${+g+1}px`,strokeLinecap:T,strokeDasharray:`${y}px ${3140}px`};return B("path",{d:o.value,style:_,class:fu("hover"),stroke:d},null)},c=()=>{const m={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return B("path",{class:fu("layer"),style:m,d:o.value},null)},a=()=>{const{color:m}=e;if(!Gn(m))return;const g=Object.keys(m).sort((w,T)=>parseFloat(w)-parseFloat(T)).map((w,T)=>B("stop",{key:T,offset:w,"stop-color":m[w]},null));return B("defs",null,[B("linearGradient",{id:r,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[g])])},h=()=>{if(n.default)return n.default();if(e.text)return B("div",{class:fu("text")},[e.text])};return()=>B("div",{class:fu(),style:gs(e.size)},[B("svg",{viewBox:`0 0 ${i.value} ${i.value}`,style:l.value},[a(),c(),f()]),h()])}});const M9=Be(F9),[uA,N9]=Re("row"),cA=Symbol(uA),U9={tag:ze("div"),wrap:Ce,align:String,gutter:He(0),justify:String};var V9=we({name:uA,props:U9,setup(e,{slots:t}){const{children:n,linkChildren:r}=Fn(cA),i=ve(()=>{const l=[[]];let f=0;return n.forEach((c,a)=>{f+=Number(c.span),f>24?(l.push([a]),f-=24):l[l.length-1].push(a)}),l}),o=ve(()=>{const l=Number(e.gutter),f=[];return l&&i.value.forEach(c=>{const a=l*(c.length-1)/c.length;c.forEach((h,m)=>{if(m===0)f.push({right:a});else{const g=l-f[h-1].right,w=a-g;f.push({left:g,right:w})}})}),f});return r({spaces:o}),()=>{const{tag:l,wrap:f,align:c,justify:a}=e;return B(l,{class:N9({[`align-${c}`]:c,[`justify-${a}`]:a,nowrap:!f})},{default:()=>{var h;return[(h=t.default)==null?void 0:h.call(t)]}})}}});const[z9,$9]=Re("col"),H9={tag:ze("div"),span:He(0),offset:Pe};var G9=we({name:z9,props:H9,setup(e,{slots:t}){const{parent:n,index:r}=xn(cA),i=ve(()=>{if(!n)return;const{spaces:o}=n;if(o&&o.value&&o.value[r.value]){const{left:l,right:f}=o.value[r.value];return{paddingLeft:l?`${l}px`:null,paddingRight:f?`${f}px`:null}}});return()=>{const{tag:o,span:l,offset:f}=e;return B(o,{style:i.value,class:$9({[l]:l,[`offset-${f}`]:f})},{default:()=>{var c;return[(c=t.default)==null?void 0:c.call(t)]}})}}});const K9=Be(G9),[dA,j9]=Re("collapse"),fA=Symbol(dA),W9={border:Ce,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var q9=we({name:dA,props:W9,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r,children:i}=Fn(fA),o=a=>{t("change",a),t("update:modelValue",a)},l=(a,h)=>{const{accordion:m,modelValue:g}=e;o(m?a===g?"":a:h?g.concat(a):g.filter(w=>w!==a))},f=(a={})=>{if(e.accordion)return;typeof a=="boolean"&&(a={expanded:a});const{expanded:h,skipDisabled:m}=a,w=i.filter(T=>T.disabled&&m?T.expanded.value:h!=null?h:!T.expanded.value).map(T=>T.itemName.value);o(w)},c=a=>{const{accordion:h,modelValue:m}=e;return h?m===a:m.includes(a)};return Ct({toggleAll:f}),r({toggle:l,isExpanded:c}),()=>{var a;return B("div",{class:[j9(),{[xc]:e.border}]},[(a=n.default)==null?void 0:a.call(n)])}}});const Y9=Be(q9),[Q9,hu]=Re("collapse-item"),J9=["icon","title","value","label","right-icon"],X9=qe({},Oc,{name:Pe,isLink:Ce,disabled:Boolean,readonly:Boolean,lazyRender:Ce});var Z9=we({name:Q9,props:X9,setup(e,{slots:t}){const n=Z(),r=Z(),{parent:i,index:o}=xn(fA);if(!i)return;const l=ve(()=>{var y;return(y=e.name)!=null?y:o.value}),f=ve(()=>i.isExpanded(l.value)),c=Z(f.value),a=dg(()=>c.value||!e.lazyRender),h=()=>{f.value?n.value&&(n.value.style.height=""):c.value=!1};Me(f,(y,d)=>{if(d===null)return;y&&(c.value=!0),(y?Ze:$n)(()=>{if(!r.value||!n.value)return;const{offsetHeight:v}=r.value;if(v){const p=`${v}px`;n.value.style.height=y?"0":p,ns(()=>{n.value&&(n.value.style.height=y?p:"0")})}else h()})});const m=(y=!f.value)=>{i.toggle(l.value,y)},g=()=>{!e.disabled&&!e.readonly&&m()},w=()=>{const{border:y,disabled:d,readonly:_}=e,v=Vt(e,Object.keys(Oc));return _&&(v.isLink=!1),(d||_)&&(v.clickable=!1),B(Kr,gt({role:"button",class:hu("title",{disabled:d,expanded:f.value,borderless:!y}),"aria-expanded":String(f.value),onClick:g},v),Vt(t,J9))},T=a(()=>{var y;return ft(B("div",{ref:n,class:hu("wrapper"),onTransitionend:h},[B("div",{ref:r,class:hu("content")},[(y=t.default)==null?void 0:y.call(t)])]),[[St,c.value]])});return Ct({toggle:m,expanded:f,itemName:l}),()=>B("div",{class:[hu({border:o.value&&e.border})]},[w(),T()])}});const eK=Be(Z9),tK=Be(FH),[nK,Wy,Cf]=Re("contact-card"),rK={tel:String,name:String,type:ze("add"),addText:String,editable:Ce};var iK=we({name:nK,props:rK,emits:["click"],setup(e,{emit:t}){const n=i=>{e.editable&&t("click",i)},r=()=>e.type==="add"?e.addText||Cf("addContact"):[B("div",null,[`${Cf("name")}\uFF1A${e.name}`]),B("div",null,[`${Cf("tel")}\uFF1A${e.tel}`])];return()=>B(Kr,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:Wy([e.type]),border:!1,isLink:e.editable,valueClass:Wy("value"),onClick:n},{value:r})}});const sK=Be(iK),[oK,Ao,qi]=Re("contact-edit"),ph={tel:"",name:""},aK={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>qe({},ph)},telValidator:{type:Function,default:m1}};var lK=we({name:oK,props:aK,emits:["save","delete","change-default"],setup(e,{emit:t}){const n=Et(qe({},ph,e.contactInfo)),r=()=>{e.isSaving||t("save",n)},i=()=>t("delete",n),o=()=>B("div",{class:Ao("buttons")},[B(Wn,{block:!0,round:!0,type:"danger",text:qi("save"),class:Ao("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&B(Wn,{block:!0,round:!0,text:qi("delete"),class:Ao("button"),loading:e.isDeleting,onClick:i},null)]),l=()=>B(vg,{modelValue:n.isDefault,"onUpdate:modelValue":c=>n.isDefault=c,size:24,onChange:c=>t("change-default",c)},null),f=()=>{if(e.showSetDefault)return B(Kr,{title:e.setDefaultLabel,class:Ao("switch-cell"),border:!1},{"right-icon":l})};return Me(()=>e.contactInfo,c=>qe(n,ph,c)),()=>B(fg,{class:Ao(),onSubmit:r},{default:()=>[B("div",{class:Ao("fields")},[B(ni,{modelValue:n.name,"onUpdate:modelValue":c=>n.name=c,clearable:!0,label:qi("name"),rules:[{required:!0,message:qi("nameEmpty")}],maxlength:"30",placeholder:qi("name")},null),B(ni,{modelValue:n.tel,"onUpdate:modelValue":c=>n.tel=c,clearable:!0,type:"tel",label:qi("tel"),rules:[{validator:e.telValidator,message:qi("telInvalid")}],placeholder:qi("tel")},null)]),f(),o()]})}});const uK=Be(lK),[cK,bi,dK]=Re("contact-list"),fK={list:Array,addText:String,modelValue:$t,defaultTagText:String};var hK=we({name:cK,props:fK,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(r,i)=>{const o=()=>{t("update:modelValue",r.id),t("select",r,i)},l=()=>B(yg,{class:bi("radio"),name:r.id,iconSize:16},null),f=()=>B(ht,{name:"edit",class:bi("edit"),onClick:a=>{a.stopPropagation(),t("edit",r,i)}},null),c=()=>{const a=[`${r.name}\uFF0C${r.tel}`];return r.isDefault&&e.defaultTagText&&a.push(B(Mc,{type:"danger",round:!0,class:bi("item-tag")},{default:()=>[e.defaultTagText]})),a};return B(Kr,{key:r.id,isLink:!0,center:!0,class:bi("item"),valueClass:bi("item-value"),onClick:o},{icon:f,value:c,"right-icon":l})};return()=>B("div",{class:bi()},[B(mg,{modelValue:e.modelValue,class:bi("group")},{default:()=>[e.list&&e.list.map(n)]}),B("div",{class:[bi("bottom"),"van-safe-area-bottom"]},[B(Wn,{round:!0,block:!0,type:"danger",class:bi("add"),text:e.addText||dK("addContact"),onClick:()=>t("add")},null)])])}});const gK=Be(hK);function vK(e,t){const{days:n}=t;let{hours:r,minutes:i,seconds:o,milliseconds:l}=t;if(e.includes("DD")?e=e.replace("DD",En(n)):r+=n*24,e.includes("HH")?e=e.replace("HH",En(r)):i+=r*60,e.includes("mm")?e=e.replace("mm",En(i)):o+=i*60,e.includes("ss")?e=e.replace("ss",En(o)):l+=o*1e3,e.includes("S")){const f=En(l,3);e.includes("SSS")?e=e.replace("SSS",f):e.includes("SS")?e=e.replace("SS",f.slice(0,2)):e=e.replace("S",f.charAt(0))}return e}const[mK,pK]=Re("count-down"),yK={time:He(0),format:ze("HH:mm:ss"),autoStart:Ce,millisecond:Boolean};var _K=we({name:mK,props:yK,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:r,pause:i,reset:o,current:l}=aH({time:+e.time,millisecond:e.millisecond,onChange:a=>t("change",a),onFinish:()=>t("finish")}),f=ve(()=>vK(e.format,l.value)),c=()=>{o(+e.time),e.autoStart&&r()};return Me(()=>e.time,c,{immediate:!0}),Ct({start:r,pause:i,reset:c}),()=>B("div",{role:"timer",class:pK()},[n.default?n.default(l.value):f.value])}});const AK=Be(_K);function qy(e){const t=new Date(e*1e3);return`${t.getFullYear()}.${En(t.getMonth()+1)}.${En(t.getDate())}`}const bK=e=>(e/10).toFixed(e%10===0?0:1),Yy=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[EK,Jr,kf]=Re("coupon");var SK=we({name:EK,props:{chosen:Boolean,coupon:fn(Object),disabled:Boolean,currency:ze("\xA5")},setup(e){const t=ve(()=>{const{startAt:i,endAt:o}=e.coupon;return`${qy(i)} - ${qy(o)}`}),n=ve(()=>{const{coupon:i,currency:o}=e;if(i.valueDesc)return[i.valueDesc,B("span",null,[i.unitDesc||""])];if(i.denominations){const l=Yy(i.denominations);return[B("span",null,[o]),` ${l}`]}return i.discount?kf("discount",bK(i.discount)):""}),r=ve(()=>{const i=Yy(e.coupon.originCondition||0);return i==="0"?kf("unlimited"):kf("condition",i)});return()=>{const{chosen:i,coupon:o,disabled:l}=e,f=l&&o.reason||o.description;return B("div",{class:Jr({disabled:l})},[B("div",{class:Jr("content")},[B("div",{class:Jr("head")},[B("h2",{class:Jr("amount")},[n.value]),B("p",{class:Jr("condition")},[o.condition||r.value])]),B("div",{class:Jr("body")},[B("p",{class:Jr("name")},[o.name]),B("p",{class:Jr("valid")},[t.value]),!l&&B(lA,{class:Jr("corner"),modelValue:i},null)])]),f&&B("p",{class:Jr("description")},[f])])}}});const yh=Be(SK),[TK,Qy,_h]=Re("coupon-cell"),wK={title:String,border:Ce,editable:Ce,coupons:_n(),currency:ze("\xA5"),chosenCoupon:He(-1)};function CK({coupons:e,chosenCoupon:t,currency:n}){const r=e[+t];if(r){let i=0;return Tt(r.value)?{value:i}=r:Tt(r.denominations)&&(i=r.denominations),`-${n} ${(i/100).toFixed(2)}`}return e.length===0?_h("noCoupon"):_h("count",e.length)}var kK=we({name:TK,props:wK,setup(e){return()=>{const t=e.coupons[+e.chosenCoupon];return B(Kr,{class:Qy(),value:CK(e),title:e.title||_h("title"),border:e.border,isLink:e.editable,valueClass:Qy("value",{selected:t})},null)}}});const xK=Be(kK),[IK,gu]=Re("empty"),RK={image:ze("default"),imageSize:[Number,String,Array],description:String};var LK=we({name:IK,props:RK,setup(e,{slots:t}){const n=()=>{const _=t.description?t.description():e.description;if(_)return B("p",{class:gu("description")},[_])},r=()=>{if(t.default)return B("div",{class:gu("bottom")},[t.default()])},i=ta(),o=_=>`${i}-${_}`,l=_=>`url(#${o(_)})`,f=(_,v,p)=>B("stop",{"stop-color":_,offset:`${v}%`,"stop-opacity":p},null),c=(_,v)=>[f(_,0),f(v,100)],a=_=>[B("defs",null,[B("radialGradient",{id:o(_),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[f("#EBEDF0",0),f("#F2F3F5",100,.3)])]),B("ellipse",{fill:l(_),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],h=()=>[B("defs",null,[B("linearGradient",{id:o("a"),x1:"64%",y1:"100%",x2:"64%"},[f("#FFF",0,.5),f("#F2F3F5",100)])]),B("g",{opacity:".8"},[B("path",{d:"M36 131V53H16v20H2v58h34z",fill:l("a")},null),B("path",{d:"M123 15h22v14h9v77h-31V15z",fill:l("a")},null)])],m=()=>[B("defs",null,[B("linearGradient",{id:o("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[f("#F2F3F5",0,.3),f("#F2F3F5",100)])]),B("g",{opacity:".8"},[B("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:l("b")},null),B("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:l("b")},null)])],g=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{id:o(1),x1:"64%",y1:"100%",x2:"64%"},[f("#FFF",0,.5),f("#F2F3F5",100)]),B("linearGradient",{id:o(2),x1:"50%",x2:"50%",y2:"84%"},[f("#EBEDF0",0),f("#DCDEE0",100,0)]),B("linearGradient",{id:o(3),x1:"100%",x2:"100%",y2:"100%"},[c("#EAEDF0","#DCDEE0")]),B("radialGradient",{id:o(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[f("#EBEDF0",0),f("#FFF",100,0)])]),B("g",{fill:"none"},[h(),B("path",{fill:l(4),d:"M0 139h160v21H0z"},null),B("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:l(2)},null),B("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[B("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:l(3)},null),B("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:l(3)},null),B("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:l(3)},null),B("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:l(3)},null)]),B("g",{transform:"translate(31 105)"},[B("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),B("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),B("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),w=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(5)},[c("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:o(6)},[c("#EAEDF1","#DCDEE0")]),B("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:o(7)},[c("#EAEDF1","#DCDEE0")])]),h(),m(),B("g",{transform:"translate(36 50)",fill:"none"},[B("g",{transform:"translate(8)"},[B("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),B("rect",{fill:l(5),width:"64",height:"66",rx:"2"},null),B("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),B("g",{transform:"translate(15 17)",fill:l(6)},[B("rect",{width:"34",height:"6",rx:"1"},null),B("path",{d:"M0 14h34v6H0z"},null),B("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),B("rect",{fill:l(7),y:"61",width:"88",height:"28",rx:"1"},null),B("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),T=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(8)},[c("#EAEDF1","#DCDEE0")])]),h(),m(),a("c"),B("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:l(8)},null)]),y=()=>B("svg",{viewBox:"0 0 160 160"},[B("defs",null,[B("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:o(9)},[c("#EEE","#D8D8D8")]),B("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:o(10)},[c("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(11)},[c("#F2F3F5","#DCDEE0")]),B("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:o(12)},[c("#FFF","#F7F8FA")])]),h(),m(),a("d"),B("g",{transform:"rotate(-45 113 -4)",fill:"none"},[B("rect",{fill:l(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),B("rect",{fill:l(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),B("circle",{stroke:l(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),B("circle",{fill:l(12),cx:"27",cy:"27",r:"16"},null),B("path",{d:"M37 7c-8 0-15 5-16 12",stroke:l(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),d=()=>{var _;if(t.image)return t.image();const v={error:T,search:y,network:g,default:w};return((_=v[e.image])==null?void 0:_.call(v))||B("img",{src:e.image},null)};return()=>B("div",{class:gu()},[B("div",{class:gu("image"),style:gs(e.imageSize)},[d()]),n(),r()])}});const hA=Be(LK),[DK,Xr,bo]=Re("coupon-list"),OK={code:ze(""),coupons:_n(),currency:ze("\xA5"),showCount:Ce,emptyImage:String,chosenCoupon:ri(-1),enabledTitle:String,disabledTitle:String,disabledCoupons:_n(),showExchangeBar:Ce,showCloseButton:Ce,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:ri(1),exchangeButtonText:String,displayedCouponIndex:ri(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean};var PK=we({name:DK,props:OK,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[r,i]=Nc(),o=Z(),l=Z(),f=Z(0),c=Z(0),a=Z(e.code),h=ve(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!a.value||a.value.length<e.exchangeMinLength)),m=()=>{const p=Bt(o).height,A=Bt(l).height+44;c.value=(p>A?p:Ho.value)-A},g=()=>{t("exchange",a.value),e.code||(a.value="")},w=v=>{Ze(()=>{var p;return(p=r.value[v])==null?void 0:p.scrollIntoView()})},T=()=>B(hA,{image:e.emptyImage},{default:()=>[B("p",{class:Xr("empty-tip")},[bo("noCoupon")])]}),y=()=>{if(e.showExchangeBar)return B("div",{ref:l,class:Xr("exchange-bar")},[B(ni,{modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,clearable:!0,border:!1,class:Xr("field"),placeholder:e.inputPlaceholder||bo("placeholder"),maxlength:"20"},null),B(Wn,{plain:!0,type:"danger",class:Xr("exchange"),text:e.exchangeButtonText||bo("exchange"),loading:e.exchangeButtonLoading,disabled:h.value,onClick:g},null)])},d=()=>{const{coupons:v}=e,p=e.showCount?` (${v.length})`:"",A=(e.enabledTitle||bo("enable"))+p;return B(Wu,{title:A},{default:()=>{var b;return[B("div",{class:Xr("list",{"with-bottom":e.showCloseButton}),style:{height:`${c.value}px`}},[v.map((E,x)=>B(yh,{key:E.id,ref:i(x),coupon:E,chosen:x===e.chosenCoupon,currency:e.currency,onClick:()=>t("change",x)},null)),!v.length&&T(),(b=n["list-footer"])==null?void 0:b.call(n)])]}})},_=()=>{const{disabledCoupons:v}=e,p=e.showCount?` (${v.length})`:"",A=(e.disabledTitle||bo("disabled"))+p;return B(Wu,{title:A},{default:()=>{var b;return[B("div",{class:Xr("list",{"with-bottom":e.showCloseButton}),style:{height:`${c.value}px`}},[v.map(E=>B(yh,{disabled:!0,key:E.id,coupon:E,currency:e.currency},null)),!v.length&&T(),(b=n["disabled-list-footer"])==null?void 0:b.call(n)])]}})};return Me(()=>e.code,v=>{a.value=v}),Me(Ho,m),Me(a,v=>t("update:code",v)),Me(()=>e.displayedCouponIndex,w),Gt(()=>{m(),w(e.displayedCouponIndex)}),()=>B("div",{ref:o,class:Xr()},[y(),B(Eg,{active:f.value,"onUpdate:active":v=>f.value=v,class:Xr("tab")},{default:()=>[d(),_()]}),B("div",{class:Xr("bottom")},[ft(B(Wn,{round:!0,block:!0,type:"danger",class:Xr("close"),text:e.closeButtonText||bo("close"),onClick:()=>t("change",-1)},null),[[St,e.showCloseButton]])])])}});const BK=Be(PK),[FK]=Re("time-picker");var Sg=we({name:FK,props:qe({},Q1,{minHour:He(0),maxHour:He(23),minMinute:He(0),maxMinute:He(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=T=>{const{minHour:y,maxHour:d,maxMinute:_,minMinute:v}=e;T||(T=`${En(y)}:${En(v)}`);let[p,A]=T.split(":");return p=En(Sn(+p,+y,+d)),A=En(Sn(+A,+v,+_)),`${p}:${A}`},i=Z(),o=Z(r(e.modelValue)),l=ve(()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}]),f=ve(()=>l.value.map(({type:T,range:y})=>{let d=X1(y[1]-y[0]+1,_=>En(y[0]+_));return e.filter&&(d=e.filter(T,d)),{type:T,values:d}})),c=ve(()=>f.value.map(T=>({values:T.values.map(y=>e.formatter(T.type,y))}))),a=()=>{const T=o.value.split(":"),y=[e.formatter("hour",T[0]),e.formatter("minute",T[1])];Ze(()=>{var d;(d=i.value)==null||d.setValues(y)})},h=()=>{const[T,y]=i.value.getIndexes(),[d,_]=f.value,v=d.values[T]||d.values[0],p=_.values[y]||_.values[0];o.value=r(`${v}:${p}`),a()},m=()=>t("confirm",o.value),g=()=>t("cancel"),w=()=>{h(),Ze(()=>{Ze(()=>t("change",o.value))})};return Gt(()=>{a(),Ze(h)}),Me(c,a),Me(()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute],h),Me(()=>e.minHour,()=>{Ze(h)}),Me(o,T=>t("update:modelValue",T)),Me(()=>e.modelValue,T=>{T=r(T),T!==o.value&&(o.value=T,a())}),Ct({getPicker:()=>i.value&&Z1(i.value,h)}),()=>B(Dc,gt({ref:i,columns:c.value,onChange:w,onCancel:g,onConfirm:m},Vt(e,J1)),n)}});const Jy=new Date().getFullYear(),[MK]=Re("date-picker");var Tg=we({name:MK,props:qe({},Q1,{type:ze("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(Jy-10,0,1),validator:Do},maxDate:{type:Date,default:()=>new Date(Jy+10,11,31),validator:Do}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=y=>{if(Do(y)){const d=Sn(y.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(d)}},i=Z(),o=Z(r(e.modelValue)),l=(y,d)=>{const _=e[`${y}Date`],v=_.getFullYear();let p=1,A=1,b=0,E=0;return y==="max"&&(p=12,A=mh(d.getFullYear(),d.getMonth()+1),b=23,E=59),d.getFullYear()===v&&(p=_.getMonth()+1,d.getMonth()+1===p&&(A=_.getDate(),d.getDate()===A&&(b=_.getHours(),d.getHours()===b&&(E=_.getMinutes())))),{[`${y}Year`]:v,[`${y}Month`]:p,[`${y}Date`]:A,[`${y}Hour`]:b,[`${y}Minute`]:E}},f=ve(()=>{const{maxYear:y,maxDate:d,maxMonth:_,maxHour:v,maxMinute:p}=l("max",o.value||e.minDate),{minYear:A,minDate:b,minMonth:E,minHour:x,minMinute:k}=l("min",o.value||e.minDate);let L=[{type:"year",range:[A,y]},{type:"month",range:[E,_]},{type:"day",range:[b,d]},{type:"hour",range:[x,v]},{type:"minute",range:[k,p]}];switch(e.type){case"date":L=L.slice(0,3);break;case"year-month":L=L.slice(0,2);break;case"month-day":L=L.slice(1,3);break;case"datehour":L=L.slice(0,4);break}if(e.columnsOrder){const S=e.columnsOrder.concat(L.map(C=>C.type));L.sort((C,I)=>S.indexOf(C.type)-S.indexOf(I.type))}return L}),c=ve(()=>f.value.map(({type:y,range:d})=>{let _=X1(d[1]-d[0]+1,v=>En(d[0]+v));return e.filter&&(_=e.filter(y,_)),{type:y,values:_}})),a=ve(()=>c.value.map(y=>({values:y.values.map(d=>e.formatter(y.type,d))}))),h=()=>{const y=o.value||e.minDate,{formatter:d}=e,_=c.value.map(v=>{switch(v.type){case"year":return d("year",`${y.getFullYear()}`);case"month":return d("month",En(y.getMonth()+1));case"day":return d("day",En(y.getDate()));case"hour":return d("hour",En(y.getHours()));case"minute":return d("minute",En(y.getMinutes()));default:return""}});Ze(()=>{var v;(v=i.value)==null||v.setValues(_)})},m=()=>{const{type:y}=e,d=i.value.getIndexes(),_=L=>{let S=0;c.value.forEach((I,D)=>{L===I.type&&(S=D)});const{values:C}=c.value[S];return I7(C[d[S]])};let v,p,A;y==="month-day"?(v=(o.value||e.minDate).getFullYear(),p=_("month"),A=_("day")):(v=_("year"),p=_("month"),A=y==="year-month"?1:_("day"));const b=mh(v,p);A=A>b?b:A;let E=0,x=0;y==="datehour"&&(E=_("hour")),y==="datetime"&&(E=_("hour"),x=_("minute"));const k=new Date(v,p-1,A,E,x);o.value=r(k)},g=()=>{t("update:modelValue",o.value),t("confirm",o.value)},w=()=>t("cancel"),T=()=>{m(),Ze(()=>{m(),Ze(()=>t("change",o.value))})};return Gt(()=>{h(),Ze(m)}),Me(a,h),Me(o,(y,d)=>t("update:modelValue",d?y:null)),Me(()=>[e.filter,e.minDate,e.maxDate],()=>{Ze(m)}),Me(()=>e.modelValue,y=>{var d;y=r(y),y&&y.valueOf()!==((d=o.value)==null?void 0:d.valueOf())&&(o.value=y)}),Ct({getPicker:()=>i.value&&Z1(i.value,m)}),()=>B(Dc,gt({ref:i,columns:a.value,onChange:T,onCancel:w,onConfirm:g},Vt(e,J1)),n)}});const[NK,UK]=Re("datetime-picker"),VK=Object.keys(Sg.props),zK=Object.keys(Tg.props),$K=qe({},Sg.props,Tg.props,{modelValue:[String,Date]});var HK=we({name:NK,props:$K,setup(e,{attrs:t,slots:n}){const r=Z();return Ct({getPicker:()=>{var i;return(i=r.value)==null?void 0:i.getPicker()}}),()=>{const i=e.type==="time",o=i?Sg:Tg,l=Vt(e,i?VK:zK);return B(o,gt({ref:r,class:UK()},l,t),n)}}});const GK=Be(HK),[KK,Rr,vu]=Re("dialog"),jK=qe({},ea,{title:String,theme:String,width:Pe,message:[String,Function],callback:Function,allowHtml:Boolean,className:$t,transition:ze("van-dialog-bounce"),messageAlign:String,closeOnPopstate:Ce,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:Ce,closeOnClickOverlay:Boolean}),WK=[...cg,"transition","closeOnPopstate"];var gA=we({name:KK,props:jK,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const r=Z(),i=Et({confirm:!1,cancel:!1}),o=_=>t("update:show",_),l=_=>{var v;o(!1),(v=e.callback)==null||v.call(e,_)},f=_=>()=>{!e.show||(t(_),e.beforeClose?(i[_]=!0,ms(e.beforeClose,{args:[_],done(){l(_),i[_]=!1},canceled(){i[_]=!1}})):l(_))},c=f("cancel"),a=f("confirm"),h=ts(_=>{var v,p;if(_.target!==((p=(v=r.value)==null?void 0:v.popupRef)==null?void 0:p.value))return;({Enter:e.showConfirmButton?a:Za,Escape:e.showCancelButton?c:Za})[_.key](),t("keydown",_)},["enter","esc"]),m=()=>{const _=n.title?n.title():e.title;if(_)return B("div",{class:Rr("header",{isolated:!e.message&&!n.default})},[_])},g=_=>{const{message:v,allowHtml:p,messageAlign:A}=e,b=Rr("message",{"has-title":_,[A]:A}),E=zo(v)?v():v;return p&&typeof E=="string"?B("div",{class:b,innerHTML:E},null):B("div",{class:b},[E])},w=()=>{if(n.default)return B("div",{class:Rr("content")},[n.default()]);const{title:_,message:v,allowHtml:p}=e;if(v){const A=!!(_||n.title);return B("div",{key:p?1:0,class:Rr("content",{isolated:!A})},[g(A)])}},T=()=>B("div",{class:[C1,Rr("footer")]},[e.showCancelButton&&B(Wn,{size:"large",text:e.cancelButtonText||vu("cancel"),class:Rr("cancel"),style:{color:e.cancelButtonColor},loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:c},null),e.showConfirmButton&&B(Wn,{size:"large",text:e.confirmButtonText||vu("confirm"),class:[Rr("confirm"),{[k1]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:a},null)]),y=()=>B(D1,{class:Rr("footer")},{default:()=>[e.showCancelButton&&B(fh,{type:"warning",text:e.cancelButtonText||vu("cancel"),class:Rr("cancel"),color:e.cancelButtonColor,loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:c},null),e.showConfirmButton&&B(fh,{type:"danger",text:e.confirmButtonText||vu("confirm"),class:Rr("confirm"),color:e.confirmButtonColor,loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:a},null)]}),d=()=>n.footer?n.footer():e.theme==="round-button"?y():T();return()=>{const{width:_,title:v,theme:p,message:A,className:b}=e;return B(Gr,gt({ref:r,role:"dialog",class:[Rr([p]),b],style:{width:Lt(_)},tabindex:0,"aria-labelledby":v||A,onKeydown:h,"onUpdate:show":o},Vt(e,WK)),{default:()=>[m(),w(),d()]})}}});let tl;function qK(){({instance:tl}=Bc({setup(){const{state:t,toggle:n}=Pc();return()=>B(gA,gt(t,{"onUpdate:show":n}),null)}}))}function hn(e){return fs?new Promise((t,n)=>{tl||qK(),tl.open(qe({},hn.currentOptions,e,{callback:r=>{(r==="confirm"?t:n)(r)}}))}):Promise.resolve()}hn.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};hn.currentOptions=qe({},hn.defaultOptions);hn.alert=hn;hn.confirm=e=>hn(qe({showCancelButton:!0},e));hn.close=()=>{tl&&tl.toggle(!1)};hn.setDefaultOptions=e=>{qe(hn.currentOptions,e)};hn.resetDefaultOptions=()=>{hn.currentOptions=qe({},hn.defaultOptions)};hn.Component=Be(gA);hn.install=e=>{e.use(hn.Component),e.config.globalProperties.$dialog=hn};const[YK,QK]=Re("divider"),JK={dashed:Boolean,hairline:Ce,contentPosition:ze("center")};var XK=we({name:YK,props:JK,setup(e,{slots:t}){return()=>{var n;return B("div",{role:"separator",class:QK({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!t.default})},[(n=t.default)==null?void 0:n.call(t)])}}});const ZK=Be(XK),[vA,mu]=Re("dropdown-menu"),ej={overlay:Ce,zIndex:Pe,duration:He(.2),direction:ze("down"),activeColor:String,closeOnClickOutside:Ce,closeOnClickOverlay:Ce},mA=Symbol(vA);var tj=we({name:vA,props:ej,setup(e,{slots:t}){const n=ta(),r=Z(),i=Z(),o=Z(0),{children:l,linkChildren:f}=Fn(mA),c=Zo(r),a=ve(()=>l.some(d=>d.state.showWrapper)),h=ve(()=>{if(a.value&&Tt(e.zIndex))return{zIndex:+e.zIndex+1}}),m=()=>{e.closeOnClickOutside&&l.forEach(d=>{d.toggle(!1)})},g=()=>{if(i.value){const d=Bt(i);e.direction==="down"?o.value=d.bottom:o.value=Ho.value-d.top}},w=()=>{a.value&&g()},T=d=>{l.forEach((_,v)=>{v===d?(g(),_.toggle()):_.state.showPopup&&_.toggle(!1,{immediate:!0})})},y=(d,_)=>{const{showPopup:v}=d.state,{disabled:p,titleClass:A}=d;return B("div",{id:`${n}-${_}`,role:"button",tabindex:p?void 0:0,class:[mu("item",{disabled:p}),{[jn]:!p}],onClick:()=>{p||T(_)}},[B("span",{class:[mu("title",{down:v===(e.direction==="down"),active:v}),A],style:{color:v?e.activeColor:""}},[B("div",{class:"van-ellipsis"},[d.renderTitle()])])])};return f({id:n,props:e,offset:o}),wc(r,m),vn("scroll",w,{target:c,passive:!0}),()=>{var d;return B("div",{ref:r,class:mu()},[B("div",{ref:i,style:h.value,class:mu("bar",{opened:a.value})},[l.map(y)]),(d=t.default)==null?void 0:d.call(t)])}}});const[nj,pu]=Re("dropdown-item"),rj={title:String,options:_n(),disabled:Boolean,teleport:[String,Object],lazyRender:Ce,modelValue:$t,titleClass:$t};var ij=we({name:nj,props:rj,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Et({showPopup:!1,transition:!0,showWrapper:!1}),{parent:i,index:o}=xn(mA);if(!i)return;const l=d=>()=>t(d),f=l("open"),c=l("close"),a=l("opened"),h=()=>{r.showWrapper=!1,t("closed")},m=d=>{e.teleport&&d.stopPropagation()},g=(d=!r.showPopup,_={})=>{d!==r.showPopup&&(r.showPopup=d,r.transition=!_.immediate,d&&(r.showWrapper=!0))},w=()=>{if(n.title)return n.title();if(e.title)return e.title;const d=e.options.find(_=>_.value===e.modelValue);return d?d.text:""},T=d=>{const{activeColor:_}=i.props,v=d.value===e.modelValue,p=()=>{r.showPopup=!1,d.value!==e.modelValue&&(t("update:modelValue",d.value),t("change",d.value))},A=()=>{if(v)return B(ht,{class:pu("icon"),color:_,name:"success"},null)};return B(Kr,{role:"menuitem",key:d.value,icon:d.icon,title:d.text,class:pu("option",{active:v}),style:{color:v?_:""},tabindex:v?0:-1,clickable:!0,onClick:p},{value:A})},y=()=>{const{offset:d}=i,{zIndex:_,overlay:v,duration:p,direction:A,closeOnClickOverlay:b}=i.props,E=qs(_);return A==="down"?E.top=`${d.value}px`:E.bottom=`${d.value}px`,ft(B("div",{style:E,class:pu([A]),onClick:m},[B(Gr,{show:r.showPopup,"onUpdate:show":x=>r.showPopup=x,role:"menu",class:pu("content"),overlay:v,position:A==="down"?"top":"bottom",duration:r.transition?p:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${i.id}-${o.value}`,closeOnClickOverlay:b,onOpen:f,onClose:c,onOpened:a,onClosed:h},{default:()=>{var x;return[e.options.map(T),(x=n.default)==null?void 0:x.call(n)]}})]),[[St,r.showWrapper]])};return Ct({state:r,toggle:g,renderTitle:w}),()=>e.teleport?B(lc,{to:e.teleport},{default:()=>[y()]}):y()}});const sj=Be(ij),oj=Be(tj),[pA,aj]=Re("grid"),lj={square:Boolean,center:Ce,border:Ce,gutter:Pe,reverse:Boolean,iconSize:Pe,direction:String,clickable:Boolean,columnNum:He(4)},yA=Symbol(pA);var uj=we({name:pA,props:lj,setup(e,{slots:t}){const{linkChildren:n}=Fn(yA);return n({props:e}),()=>{var r;return B("div",{style:{paddingLeft:Lt(e.gutter)},class:[aj(),{[C1]:e.border&&!e.gutter}]},[(r=t.default)==null?void 0:r.call(t)])}}});const cj=Be(uj),[dj,yu]=Re("grid-item"),fj=qe({},ps,{dot:Boolean,text:String,icon:String,badge:Pe,iconColor:String,iconPrefix:String,badgeProps:Object});var hj=we({name:dj,props:fj,setup(e,{slots:t}){const{parent:n,index:r}=xn(yA),i=Ys();if(!n)return;const o=ve(()=>{const{square:h,gutter:m,columnNum:g}=n.props,w=`${100/+g}%`,T={flexBasis:w};if(h)T.paddingTop=w;else if(m){const y=Lt(m);T.paddingRight=y,r.value>=g&&(T.marginTop=y)}return T}),l=ve(()=>{const{square:h,gutter:m}=n.props;if(h&&m){const g=Lt(m);return{right:g,bottom:g,height:"auto"}}}),f=()=>{if(t.icon)return B(Qs,gt({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return B(ht,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:yu("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},c=()=>{if(t.text)return t.text();if(e.text)return B("span",{class:yu("text")},[e.text])},a=()=>t.default?t.default():[f(),c()];return()=>{const{center:h,border:m,square:g,gutter:w,reverse:T,direction:y,clickable:d}=n.props,_=[yu("content",[y,{center:h,square:g,reverse:T,clickable:d,surround:m&&w}]),{[vs]:m}];return B("div",{class:[yu({square:g})],style:o.value},[B("div",{role:d?"button":void 0,class:_,style:l.value,tabindex:d?0:void 0,onClick:i},[a()])])}}});const gj=Be(hj),Xy=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Zy=Re("image-preview")[1];var vj=we({props:{src:String,show:Boolean,active:Number,minZoom:fn(Pe),maxZoom:fn(Pe),rootWidth:fn(Number),rootHeight:fn(Number)},emits:["scale","close"],setup(e,{emit:t}){const n=Et({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),r=oi(),i=Z(),o=ve(()=>{const{rootWidth:k,rootHeight:L}=e,S=L/k;return n.imageRatio>S}),l=ve(()=>{const{scale:k,moveX:L,moveY:S,moving:C,zooming:I}=n,D={transitionDuration:I||C?"0s":".3s"};if(k!==1){const P=L/k,F=S/k;D.transform=`scale(${k}, ${k}) translate(${P}px, ${F}px)`}return D}),f=ve(()=>{if(n.imageRatio){const{rootWidth:k,rootHeight:L}=e,S=o.value?L/n.imageRatio:k;return Math.max(0,(n.scale*S-k)/2)}return 0}),c=ve(()=>{if(n.imageRatio){const{rootWidth:k,rootHeight:L}=e,S=o.value?L:k*n.imageRatio;return Math.max(0,(n.scale*S-L)/2)}return 0}),a=k=>{k=Sn(k,+e.minZoom,+e.maxZoom+1),k!==n.scale&&(n.scale=k,t("scale",{scale:k,index:e.active}))},h=()=>{a(1),n.moveX=0,n.moveY=0},m=()=>{const k=n.scale>1?1:2;a(k),n.moveX=0,n.moveY=0};let g,w,T,y,d,_,v;const p=k=>{const{touches:L}=k,{offsetX:S}=r;r.start(k),g=L.length,w=n.moveX,T=n.moveY,v=Date.now(),n.moving=g===1&&n.scale!==1,n.zooming=g===2&&!S.value,n.zooming&&(y=n.scale,d=Xy(k.touches))},A=k=>{const{touches:L}=k;if(r.move(k),(n.moving||n.zooming)&&tn(k,!0),n.moving){const{deltaX:S,deltaY:C}=r,I=S.value+w,D=C.value+T;n.moveX=Sn(I,-f.value,f.value),n.moveY=Sn(D,-c.value,c.value)}if(n.zooming&&L.length===2){const S=Xy(L),C=y*S/d;a(C)}},b=()=>{if(g>1)return;const{offsetX:k,offsetY:L}=r,S=Date.now()-v,C=250,I=5;k.value<I&&L.value<I&&S<C&&(_?(clearTimeout(_),_=null,m()):_=setTimeout(()=>{t("close"),_=null},C))},E=k=>{let L=!1;(n.moving||n.zooming)&&(L=!0,n.moving&&w===n.moveX&&T===n.moveY&&(L=!1),k.touches.length||(n.zooming&&(n.moveX=Sn(n.moveX,-f.value,f.value),n.moveY=Sn(n.moveY,-c.value,c.value),n.zooming=!1),n.moving=!1,w=0,T=0,y=1,n.scale<1&&h(),n.scale>e.maxZoom&&(n.scale=+e.maxZoom))),tn(k,L),b(),r.reset()},x=k=>{const{naturalWidth:L,naturalHeight:S}=k.target;n.imageRatio=S/L};return Me(()=>e.active,h),Me(()=>e.show,k=>{k||h()}),vn("touchmove",A,{target:ve(()=>{var k;return(k=i.value)==null?void 0:k.$el})}),()=>{const k={loading:()=>B(Hr,{type:"spinner"},null)};return B(bg,{ref:i,class:Zy("swipe-item"),onTouchstartPassive:p,onTouchend:E,onTouchcancel:E},{default:()=>[B(Uc,{src:e.src,fit:"contain",class:Zy("image",{vertical:o.value}),style:l.value,onLoad:x},k)]})}}});const[mj,Eo]=Re("image-preview"),pj=["show","transition","overlayStyle","closeOnPopstate"],yj={show:Boolean,loop:Ce,images:_n(),minZoom:He(1/3),maxZoom:He(3),overlay:Ce,closeable:Boolean,showIndex:Ce,className:$t,closeIcon:ze("clear"),transition:String,beforeClose:Function,overlayClass:$t,overlayStyle:Object,swipeDuration:He(300),startPosition:He(0),showIndicators:Boolean,closeOnPopstate:Ce,closeIconPosition:ze("top-right")};var _A=we({name:mj,props:yj,emits:["scale","close","closed","change","update:show"],setup(e,{emit:t,slots:n}){const r=Z(),i=Et({active:0,rootWidth:0,rootHeight:0}),o=()=>{if(r.value){const d=Bt(r.value.$el);i.rootWidth=d.width,i.rootHeight=d.height,r.value.resize()}},l=d=>t("scale",d),f=d=>t("update:show",d),c=()=>{ms(e.beforeClose,{args:[i.active],done:()=>f(!1)})},a=d=>{d!==i.active&&(i.active=d,t("change",d))},h=()=>{if(e.showIndex)return B("div",{class:Eo("index")},[n.index?n.index({index:i.active}):`${i.active+1} / ${e.images.length}`])},m=()=>{if(n.cover)return B("div",{class:Eo("cover")},[n.cover()])},g=()=>B(Ag,{ref:r,lazyRender:!0,loop:e.loop,class:Eo("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:a},{default:()=>[e.images.map(d=>B(vj,{src:d,show:e.show,active:i.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:i.rootWidth,rootHeight:i.rootHeight,onScale:l,onClose:c},null))]}),w=()=>{if(e.closeable)return B(ht,{role:"button",name:e.closeIcon,class:[Eo("close-icon",e.closeIconPosition),jn],onClick:c},null)},T=()=>t("closed"),y=(d,_)=>{var v;return(v=r.value)==null?void 0:v.swipeTo(d,_)};return Ct({swipeTo:y}),Gt(o),Me([kc,Ho],o),Me(()=>e.startPosition,d=>a(+d)),Me(()=>e.show,d=>{const{images:_,startPosition:v}=e;d?(a(+v),Ze(()=>{o(),y(+v,{immediate:!0})})):t("close",{index:i.active,url:_[i.active]})}),()=>B(Gr,gt({class:[Eo(),e.className],overlayClass:[Eo("overlay"),e.overlayClass],onClosed:T,"onUpdate:show":f},Vt(e,pj)),{default:()=>[w(),g(),h(),m()]})}});let Lu;const _j={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function Aj(){({instance:Lu}=Bc({setup(){const{state:e,toggle:t}=Pc(),n=()=>{e.images=[]};return()=>B(_A,gt(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const Go=(e,t=0)=>{if(!!fs)return Lu||Aj(),e=Array.isArray(e)?{images:e,startPosition:t}:e,Lu.open(qe({},_j,e)),Lu};Go.Component=Be(_A);Go.install=e=>{e.use(Go.Component)};function bj(){const e="A".charCodeAt(0);return Array(26).fill("").map((n,r)=>String.fromCharCode(e+r))}const[AA,xf]=Re("index-bar"),Ej={sticky:Ce,zIndex:Pe,teleport:[String,Object],highlightColor:String,stickyOffsetTop:ri(0),indexList:{type:Array,default:bj}},bA=Symbol(AA);var Sj=we({name:AA,props:Ej,emits:["select","change"],setup(e,{emit:t,slots:n}){const r=Z(),i=Z(),o=Z(""),l=oi(),f=Zo(r),{children:c,linkChildren:a}=Fn(bA);let h;a({props:e});const m=ve(()=>{if(Tt(e.zIndex))return{zIndex:+e.zIndex+1}}),g=ve(()=>{if(e.highlightColor)return{color:e.highlightColor}}),w=(k,L)=>{for(let S=c.length-1;S>=0;S--){const C=S>0?L[S-1].height:0,I=e.sticky?C+e.stickyOffsetTop:0;if(k+I>=L[S].top)return S}return-1},T=k=>c.find(L=>String(L.index)===k),y=()=>{if($o(r))return;const{sticky:k,indexList:L}=e,S=us(f.value),C=Bt(f),I=c.map(P=>P.getRect(f.value,C));let D=-1;if(h){const P=T(h);if(P){const F=P.getRect(f.value,C);D=w(F.top,I)}}else D=w(S,I);o.value=L[D],k&&c.forEach((P,F)=>{const{state:U,$el:M}=P;if(F===D||F===D-1){const V=M.getBoundingClientRect();U.left=V.left,U.width=V.width}else U.left=null,U.width=null;if(F===D)U.active=!0,U.top=Math.max(e.stickyOffsetTop,I[F].top-S)+C.top;else if(F===D-1&&h===""){const V=I[D].top-S;U.active=V>0,U.top=V+C.top-I[F].height}else U.active=!1}),h=""},d=()=>{Ze(y)};vn("scroll",y,{target:f,passive:!0}),Gt(d),Me(()=>e.indexList,d),Me(o,k=>{k&&t("change",k)});const _=()=>e.indexList.map(k=>{const L=k===o.value;return B("span",{class:xf("index",{active:L}),style:L?g.value:void 0,"data-index":k},[k])}),v=k=>{h=String(k);const L=T(h);if(L){const S=us(f.value),C=Bt(f),{offsetHeight:I}=document.documentElement;if(L.$el.scrollIntoView(),S===I-C.height){y();return}e.sticky&&e.stickyOffsetTop&&Cc(cl()-e.stickyOffsetTop),t("select",L.index)}},p=k=>{const{index:L}=k.dataset;L&&v(L)},A=k=>{p(k.target)};let b;const E=k=>{if(l.move(k),l.isVertical()){tn(k);const{clientX:L,clientY:S}=k.touches[0],C=document.elementFromPoint(L,S);if(C){const{index:I}=C.dataset;I&&b!==I&&(b=I,p(C))}}},x=()=>B("div",{ref:i,class:xf("sidebar"),style:m.value,onClick:A,onTouchstartPassive:l.start},[_()]);return Ct({scrollTo:v}),vn("touchmove",E,{target:i}),()=>{var k;return B("div",{ref:r,class:xf()},[e.teleport?B(lc,{to:e.teleport},{default:()=>[x()]}):x(),(k=n.default)==null?void 0:k.call(n)])}}});const[Tj,wj]=Re("index-anchor"),Cj={index:Pe};var kj=we({name:Tj,props:Cj,setup(e,{slots:t}){const n=Et({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=Z(),{parent:i}=xn(bA);if(!i)return;const o=()=>n.active&&i.props.sticky,l=ve(()=>{const{zIndex:c,highlightColor:a}=i.props;if(o())return qe(qs(c),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:a})});return Ct({state:n,getRect:(c,a)=>{const h=Bt(r);return n.rect.height=h.height,c===window||c===document.body?n.rect.top=h.top+cl():n.rect.top=h.top+us(c)-a.top,n.rect}}),()=>{const c=o();return B("div",{ref:r,style:{height:c?`${n.rect.height}px`:void 0}},[B("div",{style:l.value,class:[wj({sticky:c}),{[lg]:c}]},[t.default?t.default():e.index])])}}});const xj=Be(kj),Ij=Be(Sj),[Rj,So,Lj]=Re("list"),Dj={error:Boolean,offset:He(300),loading:Boolean,finished:Boolean,errorText:String,direction:ze("down"),loadingText:String,finishedText:String,immediateCheck:Ce};var Oj=we({name:Rj,props:Dj,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const r=Z(!1),i=Z(),o=Z(),l=l9(),f=Zo(i),c=()=>{Ze(()=>{if(r.value||e.finished||e.error||(l==null?void 0:l.value)===!1)return;const{offset:w,direction:T}=e,y=Bt(f);if(!y.height||$o(i))return;let d=!1;const _=Bt(o);T==="up"?d=y.top-_.top<=w:d=_.bottom-y.bottom<=w,d&&(r.value=!0,t("update:loading",!0),t("load"))})},a=()=>{if(e.finished){const w=n.finished?n.finished():e.finishedText;if(w)return B("div",{class:So("finished-text")},[w])}},h=()=>{t("update:error",!1),c()},m=()=>{if(e.error){const w=n.error?n.error():e.errorText;if(w)return B("div",{role:"button",class:So("error-text"),tabindex:0,onClick:h},[w])}},g=()=>{if(r.value&&!e.finished)return B("div",{class:So("loading")},[n.loading?n.loading():B(Hr,{class:So("loading-icon")},{default:()=>[e.loadingText||Lj("loading")]})])};return Me(()=>[e.loading,e.finished,e.error],c),l&&Me(l,w=>{w&&c()}),Z0(()=>{r.value=e.loading}),Gt(()=>{e.immediateCheck&&c()}),Ct({check:c}),vn("scroll",c,{target:f,passive:!0}),()=>{var w;const T=(w=n.default)==null?void 0:w.call(n),y=B("div",{ref:o,class:So("placeholder")},null);return B("div",{ref:i,role:"feed",class:So(),"aria-busy":r.value},[e.direction==="down"?T:y,g(),a(),m(),e.direction==="up"?T:y])}}});const Pj=Be(Oj),[Bj,Ei]=Re("nav-bar"),Fj={title:String,fixed:Boolean,zIndex:Pe,border:Ce,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var Mj=we({name:Bj,props:Fj,emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){const r=Z(),i=Rc(r,Ei),o=h=>t("click-left",h),l=h=>t("click-right",h),f=()=>n.left?n.left():[e.leftArrow&&B(ht,{class:Ei("arrow"),name:"arrow-left"},null),e.leftText&&B("span",{class:Ei("text")},[e.leftText])],c=()=>n.right?n.right():B("span",{class:Ei("text")},[e.rightText]),a=()=>{const{title:h,fixed:m,border:g,zIndex:w}=e,T=qs(w),y=e.leftArrow||e.leftText||n.left,d=e.rightText||n.right;return B("div",{ref:r,style:T,class:[Ei({fixed:m}),{[lg]:g,"van-safe-area-top":e.safeAreaInsetTop}]},[B("div",{class:Ei("content")},[y&&B("div",{class:[Ei("left"),jn],onClick:o},[f()]),B("div",{class:[Ei("title"),"van-ellipsis"]},[n.title?n.title():h]),d&&B("div",{class:[Ei("right"),jn],onClick:l},[c()])])])};return()=>e.fixed&&e.placeholder?i(a):a()}});const Nj=Be(Mj),[Uj,Ca]=Re("notice-bar"),Vj={text:String,mode:String,color:String,delay:He(1),speed:He(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var zj=we({name:Uj,props:Vj,emits:["close","replay"],setup(e,{emit:t,slots:n}){let r=0,i=0,o;const l=Z(),f=Z(),c=Et({show:!0,offset:0,duration:0}),a=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return B(ht,{class:Ca("left-icon"),name:e.leftIcon},null)},h=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},m=d=>{e.mode==="closeable"&&(c.show=!1,t("close",d))},g=()=>{if(n["right-icon"])return n["right-icon"]();const d=h();if(d)return B(ht,{name:d,class:Ca("right-icon"),onClick:m},null)},w=()=>{c.offset=r,c.duration=0,$n(()=>{ns(()=>{c.offset=-i,c.duration=(i+r)/+e.speed,t("replay")})})},T=()=>{const d=e.scrollable===!1&&!e.wrapable,_={transform:c.offset?`translateX(${c.offset}px)`:"",transitionDuration:`${c.duration}s`};return B("div",{ref:l,role:"marquee",class:Ca("wrap")},[B("div",{ref:f,style:_,class:[Ca("content"),{"van-ellipsis":d}],onTransitionend:w},[n.default?n.default():e.text])])},y=()=>{const{delay:d,speed:_,scrollable:v}=e,p=Tt(d)?+d*1e3:0;r=0,i=0,c.offset=0,c.duration=0,clearTimeout(o),o=setTimeout(()=>{if(!l.value||!f.value||v===!1)return;const A=Bt(l).width,b=Bt(f).width;(v||b>A)&&ns(()=>{r=A,i=b,c.offset=-i,c.duration=i/+_})},p)};return Ic(y),Xo(y),vn("pageshow",y),Ct({reset:y}),Me(()=>[e.text,e.scrollable],y),()=>{const{color:d,wrapable:_,background:v}=e;return ft(B("div",{role:"alert",class:Ca({wrapable:_}),style:{color:d,background:v}},[a(),T(),g()]),[[St,c.show]])}}});const $j=Be(zj),[Hj,Gj]=Re("notify"),Kj=qe({},ea,{type:ze("danger"),color:String,message:Pe,position:ze("top"),className:$t,background:String,lockScroll:Boolean});var EA=we({name:Hj,props:Kj,emits:["update:show"],setup(e,{emit:t,slots:n}){const r=i=>t("update:show",i);return()=>B(Gr,{show:e.show,class:[Gj([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":r},{default:()=>[n.default?n.default():e.message]})}});let e0,Oo;const jj=e=>Gn(e)?e:{message:e};function Wj(){({instance:Oo}=Bc({setup(){const{state:e,toggle:t}=Pc();return()=>B(EA,gt(e,{"onUpdate:show":t}),null)}}))}function sr(e){if(!!fs)return Oo||Wj(),e=qe({},sr.currentOptions,jj(e)),Oo.open(e),clearTimeout(e0),e.duration>0&&(e0=window.setTimeout(sr.clear,e.duration)),Oo}const SA=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});sr.clear=()=>{Oo&&Oo.toggle(!1)};sr.currentOptions=SA();sr.setDefaultOptions=e=>{qe(sr.currentOptions,e)};sr.resetDefaultOptions=()=>{sr.currentOptions=SA()};sr.Component=Be(EA);sr.install=e=>{e.use(sr.Component),e.config.globalProperties.$notify=sr};const[qj,Ha]=Re("key"),Yj=B("svg",{class:Ha("collapse-icon"),viewBox:"0 0 30 24"},[B("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),Qj=B("svg",{class:Ha("delete-icon"),viewBox:"0 0 32 22"},[B("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var If=we({name:qj,props:{type:String,text:Pe,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const r=Z(!1),i=oi(),o=a=>{i.start(a),r.value=!0},l=a=>{i.move(a),i.direction.value&&(r.value=!1)},f=a=>{r.value&&(n.default||tn(a),r.value=!1,t("press",e.text,e.type))},c=()=>{if(e.loading)return B(Hr,{class:Ha("loading-icon")},null);const a=n.default?n.default():e.text;switch(e.type){case"delete":return a||Qj;case"extra":return a||Yj;default:return a}};return()=>B("div",{class:Ha("wrapper",{wider:e.wider}),onTouchstartPassive:o,onTouchmovePassive:l,onTouchend:f,onTouchcancel:f},[B("div",{role:"button",tabindex:0,class:Ha([e.color,{large:e.large,active:r.value,delete:e.type==="delete"}])},[c()])])}});const[Jj,Yi]=Re("number-keyboard"),Xj={show:Boolean,title:String,theme:ze("default"),zIndex:Pe,teleport:[String,Object],maxlength:He(1/0),modelValue:ze(""),transition:Ce,blurOnClose:Ce,showDeleteKey:Ce,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:Ce,safeAreaInsetBottom:Ce,extraKey:{type:[String,Array],default:""}};function Zj(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}var eW=we({name:Jj,props:Xj,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Z(),i=()=>{const y=Array(9).fill("").map((d,_)=>({text:_+1}));return e.randomKeyOrder&&Zj(y),y},o=()=>[...i(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],l=()=>{const y=i(),{extraKey:d}=e,_=Array.isArray(d)?d:[d];return _.length===1?y.push({text:0,wider:!0},{text:_[0],type:"extra"}):_.length===2&&y.push({text:_[0],type:"extra"},{text:0},{text:_[1],type:"extra"}),y},f=ve(()=>e.theme==="custom"?l():o()),c=()=>{e.show&&t("blur")},a=()=>{t("close"),e.blurOnClose&&c()},h=()=>t(e.show?"show":"hide"),m=(y,d)=>{if(y===""){d==="extra"&&c();return}const _=e.modelValue;d==="delete"?(t("delete"),t("update:modelValue",_.slice(0,_.length-1))):d==="close"?a():_.length<e.maxlength&&(t("input",y),t("update:modelValue",_+y))},g=()=>{const{title:y,theme:d,closeButtonText:_}=e,v=n["title-left"],p=_&&d==="default";if(!!(y||p||v))return B("div",{class:Yi("header")},[v&&B("span",{class:Yi("title-left")},[v()]),y&&B("h2",{class:Yi("title")},[y]),p&&B("button",{type:"button",class:[Yi("close"),jn],onClick:a},[_])])},w=()=>f.value.map(y=>{const d={};return y.type==="delete"&&(d.default=n.delete),y.type==="extra"&&(d.default=n["extra-key"]),B(If,{key:y.text,text:y.text,type:y.type,wider:y.wider,color:y.color,onPress:m},d)}),T=()=>{if(e.theme==="custom")return B("div",{class:Yi("sidebar")},[e.showDeleteKey&&B(If,{large:!0,text:e.deleteButtonText,type:"delete",onPress:m},{delete:n.delete}),B(If,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:m},null)])};return Me(()=>e.show,y=>{e.transition||t(y?"show":"hide")}),e.hideOnClickOutside&&wc(r,c,{eventName:"touchstart"}),()=>{const y=g(),d=B(xi,{name:e.transition?"van-slide-up":""},{default:()=>[ft(B("div",{ref:r,style:qs(e.zIndex),class:Yi({unfit:!e.safeAreaInsetBottom,"with-title":!!y}),onAnimationend:h,onTouchstartPassive:og},[y,B("div",{class:Yi("body")},[B("div",{class:Yi("keys")},[w()]),T()])]),[[St,e.show]])]});return e.teleport?B(lc,{to:e.teleport},{default:()=>[d]}):d}}});const tW=Be(eW),[nW,To,t0]=Re("pagination"),Rf=(e,t,n)=>({number:e,text:t,active:n}),rW={mode:ze("multi"),prevText:String,nextText:String,pageCount:He(0),modelValue:ri(0),totalItems:He(0),showPageSize:He(5),itemsPerPage:He(10),forceEllipses:Boolean};var iW=we({name:nW,props:rW,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=ve(()=>{const{pageCount:h,totalItems:m,itemsPerPage:g}=e,w=+h||Math.ceil(+m/+g);return Math.max(1,w)}),i=ve(()=>{const h=[],m=r.value,g=+e.showPageSize,{modelValue:w,forceEllipses:T}=e;let y=1,d=m;const _=g<m;_&&(y=Math.max(w-Math.floor(g/2),1),d=y+g-1,d>m&&(d=m,y=d-g+1));for(let v=y;v<=d;v++){const p=Rf(v,v,v===w);h.push(p)}if(_&&g>0&&T){if(y>1){const v=Rf(y-1,"...");h.unshift(v)}if(d<m){const v=Rf(d+1,"...");h.push(v)}}return h}),o=(h,m)=>{h=Sn(h,1,r.value),e.modelValue!==h&&(t("update:modelValue",h),m&&t("change",h))};Nh(()=>o(e.modelValue));const l=()=>B("li",{class:To("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${r.value}`]),f=()=>{const{mode:h,modelValue:m}=e,g=n["prev-text"],w=m===1;return B("li",{class:[To("item",{disabled:w,border:h==="simple",prev:!0}),za]},[B("button",{type:"button",disabled:w,onClick:()=>o(m-1,!0)},[g?g():e.prevText||t0("prev")])])},c=()=>{const{mode:h,modelValue:m}=e,g=n["next-text"],w=m===r.value;return B("li",{class:[To("item",{disabled:w,border:h==="simple",next:!0}),za]},[B("button",{type:"button",disabled:w,onClick:()=>o(m+1,!0)},[g?g():e.nextText||t0("next")])])},a=()=>i.value.map(h=>B("li",{class:[To("item",{active:h.active,page:!0}),za]},[B("button",{type:"button","aria-current":h.active||void 0,onClick:()=>o(h.number,!0)},[n.page?n.page(h):h.text])]));return()=>B("nav",{role:"navigation",class:To()},[B("ul",{class:To("items")},[f(),e.mode==="simple"?l():a(),c()])])}});const sW=Be(iW),[oW,ka]=Re("password-input"),aW={info:String,mask:Ce,value:ze(""),gutter:Pe,length:He(6),focused:Boolean,errorInfo:String};var lW=we({name:oW,props:aW,emits:["focus"],setup(e,{emit:t}){const n=i=>{i.stopPropagation(),t("focus",i)},r=()=>{const i=[],{mask:o,value:l,length:f,gutter:c,focused:a}=e;for(let h=0;h<f;h++){const m=l[h],g=h!==0&&!c,w=a&&h===l.length;let T;h!==0&&c&&(T={marginLeft:Lt(c)}),i.push(B("li",{class:[{[k1]:g},ka("item",{focus:w})],style:T},[o?B("i",{style:{visibility:m?"visible":"hidden"}},null):m,w&&B("div",{class:ka("cursor")},null)]))}return i};return()=>{const i=e.errorInfo||e.info;return B("div",{class:ka()},[B("ul",{class:[ka("security"),{[za]:!e.gutter}],onTouchstartPassive:n},[r()]),i&&B("div",{class:ka(e.errorInfo?"error-info":"info")},[i])])}}});const uW=Be(lW);function jr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wg(e){var t=jr(e).Element;return e instanceof t||e instanceof Element}function Ur(e){var t=jr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function TA(e){if(typeof ShadowRoot>"u")return!1;var t=jr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ko=Math.round;function Ah(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function cW(){return!/^((?!chrome|android).)*safari/i.test(Ah())}function qu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Ur(e)&&(i=e.offsetWidth>0&&Ko(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ko(r.height)/e.offsetHeight||1);var l=wg(e)?jr(e):window,f=l.visualViewport,c=!cW()&&n,a=(r.left+(c&&f?f.offsetLeft:0))/i,h=(r.top+(c&&f?f.offsetTop:0))/o,m=r.width/i,g=r.height/o;return{width:m,height:g,top:h,right:a+m,bottom:h+g,left:a,x:a,y:h}}function wA(e){var t=jr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dW(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fW(e){return e===jr(e)||!Ur(e)?wA(e):dW(e)}function Ii(e){return e?(e.nodeName||"").toLowerCase():null}function Vc(e){return((wg(e)?e.ownerDocument:e.document)||window.document).documentElement}function hW(e){return qu(Vc(e)).left+wA(e).scrollLeft}function Ri(e){return jr(e).getComputedStyle(e)}function Cg(e){var t=Ri(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function gW(e){var t=e.getBoundingClientRect(),n=Ko(t.width)/e.offsetWidth||1,r=Ko(t.height)/e.offsetHeight||1;return n!==1||r!==1}function vW(e,t,n){n===void 0&&(n=!1);var r=Ur(t),i=Ur(t)&&gW(t),o=Vc(t),l=qu(e,i,n),f={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Ii(t)!=="body"||Cg(o))&&(f=fW(t)),Ur(t)?(c=qu(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=hW(o))),{x:l.left+f.scrollLeft-c.x,y:l.top+f.scrollTop-c.y,width:l.width,height:l.height}}function mW(e){var t=qu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function kg(e){return Ii(e)==="html"?e:e.assignedSlot||e.parentNode||(TA(e)?e.host:null)||Vc(e)}function CA(e){return["html","body","#document"].indexOf(Ii(e))>=0?e.ownerDocument.body:Ur(e)&&Cg(e)?e:CA(kg(e))}function Du(e,t){var n;t===void 0&&(t=[]);var r=CA(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=jr(r),l=i?[o].concat(o.visualViewport||[],Cg(r)?r:[]):r,f=t.concat(l);return i?f:f.concat(Du(kg(l)))}function pW(e){return["table","td","th"].indexOf(Ii(e))>=0}function n0(e){return!Ur(e)||Ri(e).position==="fixed"?null:e.offsetParent}function yW(e){var t=/firefox/i.test(Ah()),n=/Trident/i.test(Ah());if(n&&Ur(e)){var r=Ri(e);if(r.position==="fixed")return null}var i=kg(e);for(TA(i)&&(i=i.host);Ur(i)&&["html","body"].indexOf(Ii(i))<0;){var o=Ri(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function kA(e){for(var t=jr(e),n=n0(e);n&&pW(n)&&Ri(n).position==="static";)n=n0(n);return n&&(Ii(n)==="html"||Ii(n)==="body"&&Ri(n).position==="static")?t:n||yW(e)||t}var Po="top",Yu="bottom",nl="right",Hs="left",xA="auto",_W=[Po,Yu,nl,Hs],IA="start",Qu="end",AW=[].concat(_W,[xA]).reduce(function(e,t){return e.concat([t,t+"-"+IA,t+"-"+Qu])},[]),bW="beforeRead",EW="read",SW="afterRead",TW="beforeMain",wW="main",CW="afterMain",kW="beforeWrite",xW="write",IW="afterWrite",bh=[bW,EW,SW,TW,wW,CW,kW,xW,IW];function RW(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(f){if(!n.has(f)){var c=t.get(f);c&&i(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function LW(e){var t=RW(e);return bh.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function DW(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(i,o){return i.replace(/%s/,o)},e)}var Ls='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',OW='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',r0=["name","enabled","phase","fn","effect","requires","options"];function PW(e){e.forEach(function(t){[].concat(Object.keys(t),r0).filter(function(n,r,i){return i.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof t.name!="string"&&console.error(Qi(Ls,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":typeof t.enabled!="boolean"&&console.error(Qi(Ls,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":bh.indexOf(t.phase)<0&&console.error(Qi(Ls,t.name,'"phase"',"either "+bh.join(", "),'"'+String(t.phase)+'"'));break;case"fn":typeof t.fn!="function"&&console.error(Qi(Ls,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":t.effect!=null&&typeof t.effect!="function"&&console.error(Qi(Ls,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":t.requires!=null&&!Array.isArray(t.requires)&&console.error(Qi(Ls,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(Qi(Ls,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+r0.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(r){e.find(function(i){return i.name===r})==null&&console.error(Qi(OW,String(t.name),r,r))})})})}function BW(e,t){var n=new Set;return e.filter(function(r){var i=t(r);if(!n.has(i))return n.add(i),!0})}function zc(e){return e.split("-")[0]}function FW(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}function RA(e){return e.split("-")[1]}function MW(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function NW(e){var t=e.reference,n=e.element,r=e.placement,i=r?zc(r):null,o=r?RA(r):null,l=t.x+t.width/2-n.width/2,f=t.y+t.height/2-n.height/2,c;switch(i){case Po:c={x:l,y:t.y-n.height};break;case Yu:c={x:l,y:t.y+t.height};break;case nl:c={x:t.x+t.width,y:f};break;case Hs:c={x:t.x-n.width,y:f};break;default:c={x:t.x,y:t.y}}var a=i?MW(i):null;if(a!=null){var h=a==="y"?"height":"width";switch(o){case IA:c[a]=c[a]-(t[h]/2-n[h]/2);break;case Qu:c[a]=c[a]+(t[h]/2-n[h]/2);break}}return c}var i0="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",UW="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",s0={placement:"bottom",modifiers:[],strategy:"absolute"};function o0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function VW(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?s0:i;return function(f,c,a){a===void 0&&(a=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},s0,o),modifiersData:{},elements:{reference:f,popper:c},attributes:{},styles:{}},m=[],g=!1,w={state:h,setOptions:function(_){var v=typeof _=="function"?_(h.options):_;y(),h.options=Object.assign({},o,h.options,v),h.scrollParents={reference:wg(f)?Du(f):f.contextElement?Du(f.contextElement):[],popper:Du(c)};var p=LW(FW([].concat(r,h.options.modifiers)));h.orderedModifiers=p.filter(function(C){return C.enabled});{var A=BW([].concat(p,h.options.modifiers),function(C){var I=C.name;return I});if(PW(A),zc(h.options.placement)===xA){var b=h.orderedModifiers.find(function(C){var I=C.name;return I==="flip"});b||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var E=Ri(c),x=E.marginTop,k=E.marginRight,L=E.marginBottom,S=E.marginLeft;[x,k,L,S].some(function(C){return parseFloat(C)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return T(),w.update()},forceUpdate:function(){if(!g){var _=h.elements,v=_.reference,p=_.popper;if(!o0(v,p)){console.error(i0);return}h.rects={reference:vW(v,kA(p),h.options.strategy==="fixed"),popper:mW(p)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(C){return h.modifiersData[C.name]=Object.assign({},C.data)});for(var A=0,b=0;b<h.orderedModifiers.length;b++){if(A+=1,A>100){console.error(UW);break}if(h.reset===!0){h.reset=!1,b=-1;continue}var E=h.orderedModifiers[b],x=E.fn,k=E.options,L=k===void 0?{}:k,S=E.name;typeof x=="function"&&(h=x({state:h,options:L,name:S,instance:w})||h)}}},update:DW(function(){return new Promise(function(d){w.forceUpdate(),d(h)})}),destroy:function(){y(),g=!0}};if(!o0(f,c))return console.error(i0),w;w.setOptions(a).then(function(d){!g&&a.onFirstUpdate&&a.onFirstUpdate(d)});function T(){h.orderedModifiers.forEach(function(d){var _=d.name,v=d.options,p=v===void 0?{}:v,A=d.effect;if(typeof A=="function"){var b=A({state:h,name:_,instance:w,options:p}),E=function(){};m.push(b||E)}})}function y(){m.forEach(function(d){return d()}),m=[]}return w}}var _u={passive:!0};function zW(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,f=l===void 0?!0:l,c=jr(t.elements.popper),a=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&a.forEach(function(h){h.addEventListener("scroll",n.update,_u)}),f&&c.addEventListener("resize",n.update,_u),function(){o&&a.forEach(function(h){h.removeEventListener("scroll",n.update,_u)}),f&&c.removeEventListener("resize",n.update,_u)}}var $W={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zW,data:{}};function HW(e){var t=e.state,n=e.name;t.modifiersData[n]=NW({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var GW={name:"popperOffsets",enabled:!0,phase:"read",fn:HW,data:{}},KW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jW(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Ko(t*i)/i||0,y:Ko(n*i)/i||0}}function a0(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,l=e.offsets,f=e.position,c=e.gpuAcceleration,a=e.adaptive,h=e.roundOffsets,m=e.isFixed,g=l.x,w=g===void 0?0:g,T=l.y,y=T===void 0?0:T,d=typeof h=="function"?h({x:w,y}):{x:w,y};w=d.x,y=d.y;var _=l.hasOwnProperty("x"),v=l.hasOwnProperty("y"),p=Hs,A=Po,b=window;if(a){var E=kA(n),x="clientHeight",k="clientWidth";if(E===jr(n)&&(E=Vc(n),Ri(E).position!=="static"&&f==="absolute"&&(x="scrollHeight",k="scrollWidth")),E=E,i===Po||(i===Hs||i===nl)&&o===Qu){A=Yu;var L=m&&E===b&&b.visualViewport?b.visualViewport.height:E[x];y-=L-r.height,y*=c?1:-1}if(i===Hs||(i===Po||i===Yu)&&o===Qu){p=nl;var S=m&&E===b&&b.visualViewport?b.visualViewport.width:E[k];w-=S-r.width,w*=c?1:-1}}var C=Object.assign({position:f},a&&KW),I=h===!0?jW({x:w,y}):{x:w,y};if(w=I.x,y=I.y,c){var D;return Object.assign({},C,(D={},D[A]=v?"0":"",D[p]=_?"0":"",D.transform=(b.devicePixelRatio||1)<=1?"translate("+w+"px, "+y+"px)":"translate3d("+w+"px, "+y+"px, 0)",D))}return Object.assign({},C,(t={},t[A]=v?y+"px":"",t[p]=_?w+"px":"",t.transform="",t))}function WW(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,l=o===void 0?!0:o,f=n.roundOffsets,c=f===void 0?!0:f;{var a=Ri(t.elements.popper).transitionProperty||"";l&&["transform","top","right","bottom","left"].some(function(m){return a.indexOf(m)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var h={placement:zc(t.placement),variation:RA(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,a0(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,a0(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var qW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:WW,data:{}};function YW(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Ur(o)||!Ii(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(l){var f=i[l];f===!1?o.removeAttribute(l):o.setAttribute(l,f===!0?"":f)}))})}function QW(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},l=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),f=l.reduce(function(c,a){return c[a]="",c},{});!Ur(i)||!Ii(i)||(Object.assign(i.style,f),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var JW={name:"applyStyles",enabled:!0,phase:"write",fn:YW,effect:QW,requires:["computeStyles"]},XW=[$W,GW,qW,JW],ZW=VW({defaultModifiers:XW});function eq(e,t,n){var r=zc(e),i=[Hs,Po].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=o[0],f=o[1];return l=l||0,f=(f||0)*i,[Hs,nl].indexOf(r)>=0?{x:f,y:l}:{x:l,y:f}}function tq(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,l=AW.reduce(function(h,m){return h[m]=eq(m,t.rects,o),h},{}),f=l[t.placement],c=f.x,a=f.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=a),t.modifiersData[r]=l}var nq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tq};const[rq,Ds]=Re("popover"),iq=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],sq={show:Boolean,theme:ze("light"),overlay:Boolean,actions:_n(),trigger:ze("click"),duration:Pe,showArrow:Ce,placement:ze("bottom"),iconPrefix:String,overlayClass:$t,overlayStyle:Object,closeOnClickAction:Ce,closeOnClickOverlay:Ce,closeOnClickOutside:Ce,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var oq=we({name:rq,props:sq,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:r}){let i;const o=Z(),l=Z(),f=Z(),c=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},qe({},nq,{options:{offset:e.offset}})]}),a=()=>l.value&&f.value?ZW(l.value,f.value.popupRef.value,c()):null,h=()=>{Ze(()=>{!e.show||(i?i.setOptions(c()):i=a())})},m=_=>t("update:show",_),g=()=>{e.trigger==="click"&&m(!e.show)},w=(_,v)=>{_.disabled||(t("select",_,v),e.closeOnClickAction&&m(!1))},T=()=>{e.show&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&m(!1)},y=(_,v)=>n.action?n.action({action:_,index:v}):[_.icon&&B(ht,{name:_.icon,classPrefix:e.iconPrefix,class:Ds("action-icon")},null),B("div",{class:[Ds("action-text"),lg]},[_.text])],d=(_,v)=>{const{icon:p,color:A,disabled:b,className:E}=_;return B("div",{role:"menuitem",class:[Ds("action",{disabled:b,"with-icon":p}),E],style:{color:A},tabindex:b?void 0:0,"aria-disabled":b||void 0,onClick:()=>w(_,v)},[y(_,v)])};return Gt(()=>{h(),Nh(()=>{var _;o.value=(_=f.value)==null?void 0:_.popupRef.value})}),Di(()=>{i&&(i.destroy(),i=null)}),Me(()=>[e.show,e.offset,e.placement],h),wc([l,o],T,{eventName:"touchstart"}),()=>{var _;return B(Le,null,[B("span",{ref:l,class:Ds("wrapper"),onClick:g},[(_=n.reference)==null?void 0:_.call(n)]),B(Gr,gt({ref:f,class:Ds([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":m},r,Vt(e,iq)),{default:()=>[e.showArrow&&B("div",{class:Ds("arrow")},null),B("div",{role:"menu",class:Ds("content")},[n.default?n.default():e.actions.map(d)])]})])}}});const aq=Be(oq),[lq,Lf]=Re("progress"),uq={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:Ce,pivotColor:String,trackColor:String,strokeWidth:Pe,percentage:{type:Pe,default:0,validator:e=>e>=0&&e<=100}};var cq=we({name:lq,props:uq,setup(e){const t=ve(()=>e.inactive?void 0:e.color),n=()=>{const{textColor:r,pivotText:i,pivotColor:o,percentage:l}=e,f=i!=null?i:`${l}%`;if(e.showPivot&&f){const c={color:r,left:`${+l}%`,transform:`translate(-${+l}%,-50%)`,background:o||t.value};return B("span",{style:c,class:Lf("pivot",{inactive:e.inactive})},[f])}};return()=>{const{trackColor:r,percentage:i,strokeWidth:o}=e,l={background:r,height:Lt(o)},f={width:`${i}%`,background:t.value};return B("div",{class:Lf(),style:l},[B("span",{class:Lf("portion",{inactive:e.inactive}),style:f},null),n()])}}});const dq=Be(cq),[fq,xa,hq]=Re("pull-refresh"),LA=50,gq=["pulling","loosing","success"],vq={disabled:Boolean,modelValue:Boolean,headHeight:He(LA),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Pe,successDuration:He(500),animationDuration:He(300)};var mq=we({name:fq,props:vq,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let r;const i=Z(),o=Z(),l=Zo(i),f=Et({status:"normal",distance:0,duration:0}),c=oi(),a=()=>{if(e.headHeight!==LA)return{height:`${e.headHeight}px`}},h=()=>f.status!=="loading"&&f.status!=="success"&&!e.disabled,m=A=>{const b=+(e.pullDistance||e.headHeight);return A>b&&(A<b*2?A=b+(A-b)/2:A=b*1.5+(A-b*2)/4),Math.round(A)},g=(A,b)=>{const E=+(e.pullDistance||e.headHeight);f.distance=A,b?f.status="loading":A===0?f.status="normal":A<E?f.status="pulling":f.status="loosing",t("change",{status:f.status,distance:A})},w=()=>{const{status:A}=f;return A==="normal"?"":e[`${A}Text`]||hq(A)},T=()=>{const{status:A,distance:b}=f;if(n[A])return n[A]({distance:b});const E=[];return gq.includes(A)&&E.push(B("div",{class:xa("text")},[w()])),A==="loading"&&E.push(B(Hr,{class:xa("loading")},{default:w})),E},y=()=>{f.status="success",setTimeout(()=>{g(0)},+e.successDuration)},d=A=>{r=us(l.value)===0,r&&(f.duration=0,c.start(A))},_=A=>{h()&&d(A)},v=A=>{if(h()){r||d(A);const{deltaY:b}=c;c.move(A),r&&b.value>=0&&c.isVertical()&&(tn(A),g(m(b.value)))}},p=()=>{r&&c.deltaY.value&&h()&&(f.duration=+e.animationDuration,f.status==="loosing"?(g(+e.headHeight,!0),t("update:modelValue",!0),Ze(()=>t("refresh"))):g(0))};return Me(()=>e.modelValue,A=>{f.duration=+e.animationDuration,A?g(+e.headHeight,!0):n.success||e.successText?y():g(0,!1)}),vn("touchmove",v,{target:o}),()=>{var A;const b={transitionDuration:`${f.duration}ms`,transform:f.distance?`translate3d(0,${f.distance}px, 0)`:""};return B("div",{ref:i,class:xa()},[B("div",{ref:o,class:xa("track"),style:b,onTouchstartPassive:_,onTouchend:p,onTouchcancel:p},[B("div",{class:xa("head"),style:a()},[T()]),(A=n.default)==null?void 0:A.call(n)])])}}});const pq=Be(mq),[yq,Au]=Re("rate");function _q(e,t,n,r){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!r?{status:"half",value:.5}:e+1>=t&&n&&r?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const Aq={size:Pe,icon:ze("star"),color:String,count:He(5),gutter:Pe,readonly:Boolean,disabled:Boolean,voidIcon:ze("star-o"),allowHalf:Boolean,voidColor:String,touchable:Ce,iconPrefix:String,modelValue:ri(0),disabledColor:String};var bq=we({name:yq,props:Aq,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=oi(),[r,i]=Nc(),o=Z(),l=()=>e.readonly||e.disabled||!e.touchable,f=ve(()=>Array(+e.count).fill("").map((v,p)=>_q(e.modelValue,p+1,e.allowHalf,e.readonly)));let c,a,h=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;const g=()=>{a=Bt(o);const v=r.value.map(Bt);c=[],v.forEach((p,A)=>{h=Math.min(p.top,h),m=Math.max(p.top,m),e.allowHalf?c.push({score:A+.5,left:p.left,top:p.top,height:p.height},{score:A+1,left:p.left+p.width/2,top:p.top,height:p.height}):c.push({score:A+1,left:p.left,top:p.top,height:p.height})})},w=(v,p)=>{for(let A=c.length-1;A>0;A--)if(p>=a.top&&p<=a.bottom){if(v>c[A].left&&p>=c[A].top&&p<=c[A].top+c[A].height)return c[A].score}else{const b=p<a.top?h:m;if(v>c[A].left&&c[A].top===b)return c[A].score}return e.allowHalf?.5:1},T=v=>{!e.disabled&&!e.readonly&&v!==e.modelValue&&(t("update:modelValue",v),t("change",v))},y=v=>{l()||(n.start(v),g())},d=v=>{if(!l()&&(n.move(v),n.isHorizontal())){const{clientX:p,clientY:A}=v.touches[0];tn(v),T(w(p,A))}},_=(v,p)=>{const{icon:A,size:b,color:E,count:x,gutter:k,voidIcon:L,disabled:S,voidColor:C,allowHalf:I,iconPrefix:D,disabledColor:P}=e,F=p+1,U=v.status==="full",M=v.status==="void",V=I&&v.value>0&&v.value<1;let H;k&&F!==+x&&(H={paddingRight:Lt(k)});const z=j=>{g(),T(I?w(j.clientX,j.clientY):F)};return B("div",{key:p,ref:i(p),role:"radio",style:H,class:Au("item"),tabindex:S?void 0:0,"aria-setsize":x,"aria-posinset":F,"aria-checked":!M,onClick:z},[B(ht,{size:b,name:U?A:L,class:Au("icon",{disabled:S,full:U}),color:S?P:U?E:C,classPrefix:D},null),V&&B(ht,{size:b,style:{width:v.value+"em"},name:M?L:A,class:Au("icon",["half",{disabled:S,full:!M}]),color:S?P:M?C:E,classPrefix:D},null)])};return hs(()=>e.modelValue),vn("touchmove",d,{target:o}),()=>B("div",{ref:o,role:"radiogroup",class:Au({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:y},[f.value.map(_)])}});const Eq=Be(bq),Sq=Be(V9),[Tq,Ia,wq]=Re("search"),Cq=qe({},hg,{label:String,shape:ze("square"),leftIcon:ze("search"),clearable:Ce,actionText:String,background:String,showAction:Boolean});var kq=we({name:Tq,props:Cq,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){const i=ta(),o=Z(),l=()=>{n.action||(t("update:modelValue",""),t("cancel"))},f=b=>{b.keyCode===13&&(tn(b),t("search",e.modelValue))},c=()=>e.id||`${i}-input`,a=()=>{if(n.label||e.label)return B("label",{class:Ia("label"),for:c()},[n.label?n.label():e.label])},h=()=>{if(e.showAction){const b=e.actionText||wq("cancel");return B("div",{class:Ia("action"),role:"button",tabindex:0,onClick:l},[n.action?n.action():b])}},m=()=>{var b;return(b=o.value)==null?void 0:b.blur()},g=()=>{var b;return(b=o.value)==null?void 0:b.focus()},w=b=>t("blur",b),T=b=>t("focus",b),y=b=>t("clear",b),d=b=>t("click-input",b),_=b=>t("click-left-icon",b),v=b=>t("click-right-icon",b),p=Object.keys(hg),A=()=>{const b=qe({},r,Vt(e,p),{id:c()}),E=x=>t("update:modelValue",x);return B(ni,gt({ref:o,type:"search",class:Ia("field"),border:!1,onBlur:w,onFocus:T,onClear:y,onKeypress:f,"onClick-input":d,"onClick-left-icon":_,"onClick-right-icon":v,"onUpdate:modelValue":E},b),Vt(n,["left-icon","right-icon"]))};return Ct({focus:g,blur:m}),()=>{var b;return B("div",{class:Ia({"show-action":e.showAction}),style:{background:e.background}},[(b=n.left)==null?void 0:b.call(n),B("div",{class:Ia("content",e.shape)},[a(),A()]),h()])}}});const xq=Be(kq),Iq=[...cg,"round","closeOnPopstate","safeAreaInsetBottom"],l0={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Rq,Lr,Lq]=Re("share-sheet"),Dq=qe({},ea,{title:String,round:Ce,options:_n(),cancelText:String,description:String,closeOnPopstate:Ce,safeAreaInsetBottom:Ce});var Oq=we({name:Rq,props:Dq,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const r=g=>t("update:show",g),i=()=>{r(!1),t("cancel")},o=(g,w)=>t("select",g,w),l=()=>{const g=n.title?n.title():e.title,w=n.description?n.description():e.description;if(g||w)return B("div",{class:Lr("header")},[g&&B("h2",{class:Lr("title")},[g]),w&&B("span",{class:Lr("description")},[w])])},f=g=>l0[g]?B("div",{class:Lr("icon",[g])},[B(ht,{name:l0[g]||g},null)]):B("img",{src:g,class:Lr("image-icon")},null),c=(g,w)=>{const{name:T,icon:y,className:d,description:_}=g;return B("div",{role:"button",tabindex:0,class:[Lr("option"),d,jn],onClick:()=>o(g,w)},[f(y),T&&B("span",{class:Lr("name")},[T]),_&&B("span",{class:Lr("option-description")},[_])])},a=(g,w)=>B("div",{class:Lr("options",{border:w})},[g.map(c)]),h=()=>{const{options:g}=e;return Array.isArray(g[0])?g.map((w,T)=>a(w,T!==0)):a(g)},m=()=>{var g;const w=(g=e.cancelText)!=null?g:Lq("cancel");if(n.cancel||w)return B("button",{type:"button",class:Lr("cancel"),onClick:i},[n.cancel?n.cancel():w])};return()=>B(Gr,gt({class:Lr(),position:"bottom","onUpdate:show":r},Vt(e,Iq)),{default:()=>[l(),h(),m()]})}});const Pq=Be(Oq),[DA,Bq]=Re("sidebar"),OA=Symbol(DA),Fq={modelValue:He(0)};var Mq=we({name:DA,props:Fq,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Fn(OA),i=()=>+e.modelValue;return r({getActive:i,setActive:l=>{l!==i()&&(t("update:modelValue",l),t("change",l))}}),()=>{var l;return B("div",{role:"tablist",class:Bq()},[(l=n.default)==null?void 0:l.call(n)])}}});const PA=Be(Mq),[Nq,u0]=Re("sidebar-item"),Uq=qe({},ps,{dot:Boolean,title:String,badge:Pe,disabled:Boolean,badgeProps:Object});var Vq=we({name:Nq,props:Uq,emits:["click"],setup(e,{emit:t,slots:n}){const r=Ys(),{parent:i,index:o}=xn(OA);if(!i)return;const l=()=>{e.disabled||(t("click",o.value),i.setActive(o.value),r())};return()=>{const{dot:f,badge:c,title:a,disabled:h}=e,m=o.value===i.getActive();return B("div",{role:"tab",class:u0({select:m,disabled:h}),tabindex:h?void 0:0,"aria-selected":m,onClick:l},[B(Qs,gt({dot:f,class:u0("text"),content:c},e.badgeProps),{default:()=>[n.title?n.title():a]})])}}});const BA=Be(Vq),[zq,Ra]=Re("skeleton"),FA="100%",$q="60%",Hq={row:He(0),title:Boolean,round:Boolean,avatar:Boolean,loading:Ce,animate:Ce,avatarSize:Pe,titleWidth:Pe,avatarShape:ze("round"),rowWidth:{type:[Number,String,Array],default:FA}};var Gq=we({name:zq,inheritAttrs:!1,props:Hq,setup(e,{slots:t,attrs:n}){const r=()=>{if(e.avatar)return B("div",{class:Ra("avatar",e.avatarShape),style:gs(e.avatarSize)},null)},i=()=>{if(e.title)return B("h3",{class:Ra("title"),style:{width:Lt(e.titleWidth)}},null)},o=f=>{const{rowWidth:c}=e;return c===FA&&f===+e.row-1?$q:Array.isArray(c)?c[f]:c},l=()=>Array(+e.row).fill("").map((f,c)=>B("div",{class:Ra("row"),style:{width:Lt(o(c))}},null));return()=>{var f;return e.loading?B("div",gt({class:Ra({animate:e.animate,round:e.round})},n),[r(),B("div",{class:Ra("content")},[i(),l()])]):(f=t.default)==null?void 0:f.call(t)}}});const Kq=Be(Gq),[jq,La]=Re("slider"),Wq={min:He(0),max:He(100),step:He(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Pe,buttonSize:Pe,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var qq=we({name:jq,props:Wq,emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:t,slots:n}){let r,i,o;const l=Z(),f=Z(),c=Z(),a=oi(),h=ve(()=>Number(e.max)-Number(e.min)),m=ve(()=>{const C=e.vertical?"width":"height";return{background:e.inactiveColor,[C]:Lt(e.barHeight)}}),g=C=>e.range&&Array.isArray(C),w=()=>{const{modelValue:C,min:I}=e;return g(C)?`${(C[1]-C[0])*100/h.value}%`:`${(C-Number(I))*100/h.value}%`},T=()=>{const{modelValue:C,min:I}=e;return g(C)?`${(C[0]-Number(I))*100/h.value}%`:"0%"},y=ve(()=>{const I={[e.vertical?"height":"width"]:w(),background:e.activeColor};c.value&&(I.transition="none");const D=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return I[D()]=T(),I}),d=C=>{const I=+e.min,D=+e.max,P=+e.step;C=Sn(C,I,D);const F=Math.round((C-I)/P)*P;return S1(I,F)},_=(C,I)=>JSON.stringify(C)===JSON.stringify(I),v=C=>{var I,D;const P=(I=C[0])!=null?I:Number(e.min),F=(D=C[1])!=null?D:Number(e.max);return P>F?[F,P]:[P,F]},p=(C,I)=>{g(C)?C=v(C).map(d):C=d(C),_(C,e.modelValue)||t("update:modelValue",C),I&&!_(C,o)&&t("change",C)},A=C=>{if(C.stopPropagation(),e.disabled||e.readonly)return;const{min:I,reverse:D,vertical:P,modelValue:F}=e,U=Bt(l),M=()=>P?D?U.bottom-C.clientY:C.clientY-U.top:D?U.right-C.clientX:C.clientX-U.left,V=P?U.height:U.width,H=Number(I)+M()/V*h.value;if(g(F)){const[z,j]=F,Q=(z+j)/2;H<=Q?p([H,j],!0):p([z,H],!0)}else p(H,!0)},b=C=>{e.disabled||e.readonly||(a.start(C),i=e.modelValue,g(i)?o=i.map(d):o=d(i),c.value="start")},E=C=>{if(e.disabled||e.readonly)return;c.value==="start"&&t("drag-start",C),tn(C,!0),a.move(C),c.value="dragging";const I=Bt(l),D=e.vertical?a.deltaY.value:a.deltaX.value,P=e.vertical?I.height:I.width;let F=D/P*h.value;if(e.reverse&&(F=-F),g(o)){const U=e.reverse?1-r:r;i[U]=o[U]+F}else i=o+F;p(i)},x=C=>{e.disabled||e.readonly||(c.value==="dragging"&&(p(i,!0),t("drag-end",C)),c.value="")},k=C=>typeof C=="number"?La("button-wrapper",["left","right"][C]):La("button-wrapper",e.reverse?"left":"right"),L=(C,I)=>{if(typeof I=="number"){const D=n[I===0?"left-button":"right-button"];if(D)return D({value:C})}return n.button?n.button({value:C}):B("div",{class:La("button"),style:gs(e.buttonSize)},null)},S=C=>{const I=typeof C=="number"?e.modelValue[C]:e.modelValue;return B("div",{ref:f,role:"slider",class:k(C),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":I,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:D=>{typeof C=="number"&&(r=C),b(D)},onTouchend:x,onTouchcancel:x,onClick:og},[L(I,C)])};return p(e.modelValue),hs(()=>e.modelValue),vn("touchmove",E,{target:f}),()=>B("div",{ref:l,style:m.value,class:La({vertical:e.vertical,disabled:e.disabled}),onClick:A},[B("div",{class:La("bar"),style:y.value},[e.range?[S(0),S(1)]:S()])])}});const Yq=Be(qq),[c0,Qq]=Re("space"),Jq={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function MA(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):n.type===Le?t.push(...MA(n.children)):t.push(n)}),t.filter(n=>{var r;return!(n&&(typeof Comment<"u"&&n.type===Comment||n.type===Le&&((r=n.children)==null?void 0:r.length)===0||n.type===Text&&n.children.trim()===""))})}var Xq=we({name:c0,props:Jq,setup(e,{slots:t}){const n=ve(()=>{var o;return(o=e.align)!=null?o:e.direction==="horizontal"?"center":""}),r=o=>typeof o=="number"?o+"px":o,i=o=>{const l={},f=`${r(Array.isArray(e.size)?e.size[0]:e.size)}`,c=`${r(Array.isArray(e.size)?e.size[1]:e.size)}`;return o?e.wrap?{marginBottom:c}:{}:(e.direction==="horizontal"&&(l.marginRight=f),(e.direction==="vertical"||e.wrap)&&(l.marginBottom=c),l)};return()=>{var o;const l=MA((o=t.default)==null?void 0:o.call(t));return B("div",{class:[Qq({[e.direction]:e.direction,[`align-${n.value}`]:n.value,wrap:e.wrap,fill:e.fill})]},[l.map((f,c)=>B("div",{key:`item-${c}`,class:`${c0}-item`,style:i(c===l.length-1)},[f]))])}}});const Zq=Be(Xq),[NA,d0]=Re("steps"),eY={active:He(0),direction:ze("horizontal"),activeIcon:ze("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},UA=Symbol(NA);var tY=we({name:NA,props:eY,emits:["click-step"],setup(e,{emit:t,slots:n}){const{linkChildren:r}=Fn(UA);return r({props:e,onClickStep:o=>t("click-step",o)}),()=>{var o;return B("div",{class:d0([e.direction])},[B("div",{class:d0("items")},[(o=n.default)==null?void 0:o.call(n)])])}}});const[nY,Ji]=Re("step");var rY=we({name:nY,setup(e,{slots:t}){const{parent:n,index:r}=xn(UA);if(!n)return;const i=n.props,o=()=>{const m=+i.active;return r.value<m?"finish":r.value===m?"process":"waiting"},l=()=>o()==="process",f=ve(()=>({background:o()==="finish"?i.activeColor:i.inactiveColor})),c=ve(()=>{if(l())return{color:i.activeColor};if(o()==="waiting")return{color:i.inactiveColor}}),a=()=>n.onClickStep(r.value),h=()=>{const{iconPrefix:m,finishIcon:g,activeIcon:w,activeColor:T,inactiveIcon:y}=i;return l()?t["active-icon"]?t["active-icon"]():B(ht,{class:Ji("icon","active"),name:w,color:T,classPrefix:m},null):o()==="finish"&&(g||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():B(ht,{class:Ji("icon","finish"),name:g,color:T,classPrefix:m},null):t["inactive-icon"]?t["inactive-icon"]():y?B(ht,{class:Ji("icon"),name:y,classPrefix:m},null):B("i",{class:Ji("circle"),style:f.value},null)};return()=>{var m;const g=o();return B("div",{class:[vs,Ji([i.direction,{[g]:g}])]},[B("div",{class:Ji("title",{active:l()}),style:c.value,onClick:a},[(m=t.default)==null?void 0:m.call(t)]),B("div",{class:Ji("circle-container"),onClick:a},[h()]),B("div",{class:Ji("line"),style:f.value},null)])}}});const iY=Be(rY),[sY,bu]=Re("stepper"),oY=200,aY=600,Eu=(e,t)=>String(e)===String(t),lY={min:He(1),max:He(1/0),name:He(""),step:He(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:Ce,showMinus:Ce,showInput:Ce,longPress:Ce,allowEmpty:Boolean,modelValue:Pe,inputWidth:Pe,buttonSize:Pe,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:He(1),decimalLength:Pe};var uY=we({name:sY,props:lY,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=k=>{const{min:L,max:S,allowEmpty:C,decimalLength:I}=e;return C&&k===""||(k=ch(String(k),!e.integer),k=k===""?0:+k,k=Number.isNaN(k)?+L:k,k=Math.max(Math.min(+S,k),+L),Tt(I)&&(k=k.toFixed(+I))),k},r=()=>{var k;const L=(k=e.modelValue)!=null?k:e.defaultValue,S=n(L);return Eu(S,e.modelValue)||t("update:modelValue",S),S};let i;const o=Z(),l=Z(r()),f=ve(()=>e.disabled||e.disableMinus||l.value<=+e.min),c=ve(()=>e.disabled||e.disablePlus||l.value>=+e.max),a=ve(()=>({width:Lt(e.inputWidth),height:Lt(e.buttonSize)})),h=ve(()=>gs(e.buttonSize)),m=()=>{const k=n(l.value);Eu(k,l.value)||(l.value=k)},g=k=>{e.beforeChange?ms(e.beforeChange,{args:[k],done(){l.value=k}}):l.value=k},w=()=>{if(i==="plus"&&c.value||i==="minus"&&f.value){t("overlimit",i);return}const k=i==="minus"?-e.step:+e.step,L=n(S1(+l.value,k));g(L),t(i)},T=k=>{const L=k.target,{value:S}=L,{decimalLength:C}=e;let I=ch(String(S),!e.integer);if(Tt(C)&&I.includes(".")){const P=I.split(".");I=`${P[0]}.${P[1].slice(0,+C)}`}e.beforeChange?L.value=String(l.value):Eu(S,I)||(L.value=I);const D=I===String(+I);g(D?+I:I)},y=k=>{var L;e.disableInput?(L=o.value)==null||L.blur():t("focus",k)},d=k=>{const L=k.target,S=n(L.value);L.value=String(S),l.value=S,Ze(()=>{t("blur",k),b1()})};let _,v;const p=()=>{v=setTimeout(()=>{w(),p()},oY)},A=()=>{e.longPress&&(_=!1,clearTimeout(v),v=setTimeout(()=>{_=!0,w(),p()},aY))},b=k=>{e.longPress&&(clearTimeout(v),_&&tn(k))},E=k=>{e.disableInput&&tn(k)},x=k=>({onClick:L=>{tn(L),i=k,w()},onTouchstartPassive:()=>{i=k,A()},onTouchend:b,onTouchcancel:b});return Me(()=>[e.max,e.min,e.integer,e.decimalLength],m),Me(()=>e.modelValue,k=>{Eu(k,l.value)||(l.value=n(k))}),Me(l,k=>{t("update:modelValue",k),t("change",k,{name:e.name})}),hs(()=>e.modelValue),()=>B("div",{role:"group",class:bu([e.theme])},[ft(B("button",gt({type:"button",style:h.value,class:[bu("minus",{disabled:f.value}),{[jn]:!f.value}],"aria-disabled":f.value||void 0},x("minus")),null),[[St,e.showMinus]]),ft(B("input",{ref:o,type:e.integer?"tel":"text",role:"spinbutton",class:bu("input"),value:l.value,style:a.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":l.value,onBlur:d,onInput:T,onFocus:y,onMousedown:E},null),[[St,e.showInput]]),ft(B("button",gt({type:"button",style:h.value,class:[bu("plus",{disabled:c.value}),{[jn]:!c.value}],"aria-disabled":c.value||void 0},x("plus")),null),[[St,e.showPlus]])])}});const cY=Be(uY),dY=Be(tY),[fY,Dr,hY]=Re("submit-bar"),gY={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:ze("\xA5"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:ze("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:He(2),safeAreaInsetBottom:Ce};var vY=we({name:fY,props:gY,emits:["submit"],setup(e,{emit:t,slots:n}){const r=Z(),i=Rc(r,Dr),o=()=>{const{price:h,label:m,currency:g,textAlign:w,suffixLabel:T,decimalLength:y}=e;if(typeof h=="number"){const d=(h/100).toFixed(+y).split("."),_=y?`.${d[1]}`:"";return B("div",{class:Dr("text"),style:{textAlign:w}},[B("span",null,[m||hY("label")]),B("span",{class:Dr("price")},[g,B("span",{class:Dr("price-integer")},[d[0]]),_]),T&&B("span",{class:Dr("suffix-label")},[T])])}},l=()=>{var h;const{tip:m,tipIcon:g}=e;if(n.tip||m)return B("div",{class:Dr("tip")},[g&&B(ht,{class:Dr("tip-icon"),name:g},null),m&&B("span",{class:Dr("tip-text")},[m]),(h=n.tip)==null?void 0:h.call(n)])},f=()=>t("submit"),c=()=>n.button?n.button():B(Wn,{round:!0,type:e.buttonType,text:e.buttonText,class:Dr("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:f},null),a=()=>{var h,m;return B("div",{ref:r,class:[Dr(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(h=n.top)==null?void 0:h.call(n),l(),B("div",{class:Dr("bar")},[(m=n.default)==null?void 0:m.call(n),o(),c()])])};return()=>e.placeholder?i(a):a()}});const mY=Be(vY),[pY,Df]=Re("swipe-cell"),yY={name:He(""),disabled:Boolean,leftWidth:Pe,rightWidth:Pe,beforeClose:Function,stopPropagation:Boolean};var _Y=we({name:pY,props:yY,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let r,i,o;const l=Z(),f=Z(),c=Z(),a=Et({offset:0,dragging:!1}),h=oi(),m=x=>x.value?Bt(x).width:0,g=ve(()=>Tt(e.leftWidth)?+e.leftWidth:m(f)),w=ve(()=>Tt(e.rightWidth)?+e.rightWidth:m(c)),T=x=>{a.offset=x==="left"?g.value:-w.value,r||(r=!0,t("open",{name:e.name,position:x}))},y=x=>{a.offset=0,r&&(r=!1,t("close",{name:e.name,position:x}))},d=x=>{const k=Math.abs(a.offset),L=.15,S=r?1-L:L,C=x==="left"?g.value:w.value;C&&k>C*S?T(x):y(x)},_=x=>{e.disabled||(o=a.offset,h.start(x))},v=x=>{if(e.disabled)return;const{deltaX:k}=h;h.move(x),h.isHorizontal()&&(i=!0,a.dragging=!0,(!r||k.value*o<0)&&tn(x,e.stopPropagation),a.offset=Sn(k.value+o,-w.value,g.value))},p=()=>{a.dragging&&(a.dragging=!1,d(a.offset>0?"left":"right"),setTimeout(()=>{i=!1},0))},A=(x="outside")=>{t("click",x),r&&!i&&ms(e.beforeClose,{args:[{name:e.name,position:x}],done:()=>y(x)})},b=(x,k)=>L=>{k&&L.stopPropagation(),A(x)},E=(x,k)=>{const L=n[x];if(L)return B("div",{ref:k,class:Df(x),onClick:b(x,!0)},[L()])};return Ct({open:T,close:y}),wc(l,()=>A("outside"),{eventName:"touchstart"}),vn("touchmove",v,{target:l}),()=>{var x;const k={transform:`translate3d(${a.offset}px, 0, 0)`,transitionDuration:a.dragging?"0s":".6s"};return B("div",{ref:l,class:Df(),onClick:b("cell",i),onTouchstartPassive:_,onTouchend:p,onTouchcancel:p},[B("div",{class:Df("wrapper"),style:k},[E("left",f),(x=n.default)==null?void 0:x.call(n),E("right",c)])])}}});const AY=Be(_Y),[VA,f0]=Re("tabbar"),bY={route:Boolean,fixed:Ce,border:Ce,zIndex:Pe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:He(0),safeAreaInsetBottom:{type:Boolean,default:null}},zA=Symbol(VA);var EY=we({name:VA,props:bY,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Z(),{linkChildren:i}=Fn(zA),o=Rc(r,f0),l=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},f=()=>{var a;const{fixed:h,zIndex:m,border:g}=e;return B("div",{ref:r,role:"tablist",style:qs(m),class:[f0({fixed:h}),{[xc]:g,"van-safe-area-bottom":l()}]},[(a=n.default)==null?void 0:a.call(n)])};return i({props:e,setActive:(a,h)=>{ms(e.beforeChange,{args:[a],done(){t("update:modelValue",a),t("change",a),h()}})}}),()=>e.fixed&&e.placeholder?o(f):f()}});const SY=Be(EY),[TY,Of]=Re("tabbar-item"),wY=qe({},ps,{dot:Boolean,icon:String,name:Pe,badge:Pe,badgeProps:Object,iconPrefix:String});var CY=we({name:TY,props:wY,emits:["click"],setup(e,{emit:t,slots:n}){const r=Ys(),i=Yn().proxy,{parent:o,index:l}=xn(zA);if(!o)return;const f=ve(()=>{var h;const{route:m,modelValue:g}=o.props;if(m&&"$route"in i){const{$route:w}=i,{to:T}=e,y=Gn(T)?T:{path:T};return!!w.matched.find(d=>{const _="path"in y&&y.path===d.path,v="name"in y&&y.name===d.name;return _||v})}return((h=e.name)!=null?h:l.value)===g}),c=h=>{var m;f.value||o.setActive((m=e.name)!=null?m:l.value,r),t("click",h)},a=()=>{if(n.icon)return n.icon({active:f.value});if(e.icon)return B(ht,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var h;const{dot:m,badge:g}=e,{activeColor:w,inactiveColor:T}=o.props,y=f.value?w:T;return B("div",{role:"tab",class:Of({active:f.value}),style:{color:y},tabindex:0,"aria-selected":f.value,onClick:c},[B(Qs,gt({dot:m,class:Of("icon"),content:g},e.badgeProps),{default:a}),B("div",{class:Of("text")},[(h=n.default)==null?void 0:h.call(n,{active:f.value})])])}}});const kY=Be(CY),[xY,wo]=Re("tree-select"),IY={max:He(1/0),items:_n(),height:He(300),selectedIcon:ze("success"),mainActiveIndex:He(0),activeId:{type:[Number,String,Array],default:0}};var RY=we({name:xY,props:IY,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const r=a=>Array.isArray(e.activeId)?e.activeId.includes(a):e.activeId===a,i=a=>{const h=()=>{if(a.disabled)return;let m;if(Array.isArray(e.activeId)){m=e.activeId.slice();const g=m.indexOf(a.id);g!==-1?m.splice(g,1):m.length<e.max&&m.push(a.id)}else m=a.id;t("update:activeId",m),t("click-item",a)};return B("div",{key:a.id,class:["van-ellipsis",wo("item",{active:r(a.id),disabled:a.disabled})],onClick:h},[a.text,r(a.id)&&B(ht,{name:e.selectedIcon,class:wo("selected")},null)])},o=a=>{t("update:mainActiveIndex",a)},l=a=>t("click-nav",a),f=()=>{const a=e.items.map(h=>B(BA,{dot:h.dot,title:h.text,badge:h.badge,class:[wo("nav-item"),h.className],disabled:h.disabled,onClick:l},null));return B(PA,{class:wo("nav"),modelValue:e.mainActiveIndex,onChange:o},{default:()=>[a]})},c=()=>{if(n.content)return n.content();const a=e.items[+e.mainActiveIndex]||{};if(a.children)return a.children.map(i)};return()=>B("div",{class:wo(),style:{height:Lt(e.height)}},[f(),B("div",{class:wo("content")},[c()])])}});const LY=Be(RY),[DY,cn,OY]=Re("uploader");function h0(e,t){return new Promise(n=>{if(t==="file"){n();return}const r=new FileReader;r.onload=i=>{n(i.target.result)},t==="dataUrl"?r.readAsDataURL(e):t==="text"&&r.readAsText(e)})}function $A(e,t){return $u(e).some(n=>n.file?zo(t)?t(n.file):n.file.size>t:!1)}function PY(e,t){const n=[],r=[];return e.forEach(i=>{$A(i,t)?r.push(i):n.push(i)}),{valid:n,invalid:r}}const BY=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,FY=e=>BY.test(e);function HA(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?FY(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var MY=we({props:{name:Pe,item:fn(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:t,slots:n}){const r=()=>{const{status:a,message:h}=e.item;if(a==="uploading"||a==="failed"){const m=a==="failed"?B(ht,{name:"close",class:cn("mask-icon")},null):B(Hr,{class:cn("loading")},null),g=Tt(h)&&h!=="";return B("div",{class:cn("mask")},[m,g&&B("div",{class:cn("mask-message")},[h])])}},i=a=>{const{name:h,item:m,index:g,beforeDelete:w}=e;a.stopPropagation(),ms(w,{args:[m,{name:h,index:g}],done:()=>t("delete")})},o=()=>t("preview"),l=()=>{if(e.deletable&&e.item.status!=="uploading"){const a=n["preview-delete"];return B("div",{role:"button",class:cn("preview-delete",{shadow:!a}),tabindex:0,"aria-label":OY("delete"),onClick:i},[a?a():B(ht,{name:"cross",class:cn("preview-delete-icon")},null)])}},f=()=>{if(n["preview-cover"]){const{index:a,item:h}=e;return B("div",{class:cn("preview-cover")},[n["preview-cover"](qe({index:a},h))])}},c=()=>{const{item:a,lazyLoad:h,imageFit:m,previewSize:g}=e;return HA(a)?B(Uc,{fit:m,src:a.content||a.url,class:cn("preview-image"),width:Array.isArray(g)?g[0]:g,height:Array.isArray(g)?g[1]:g,lazyLoad:h,onClick:o},{default:f}):B("div",{class:cn("file"),style:gs(e.previewSize)},[B(ht,{class:cn("file-icon"),name:"description"},null),B("div",{class:[cn("file-name"),"van-ellipsis"]},[a.file?a.file.name:a.url]),f()])};return()=>B("div",{class:cn("preview")},[c(),r(),l()])}});const NY={name:He(""),accept:ze("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:He(1/0),imageFit:ze("cover"),resultType:ze("dataUrl"),uploadIcon:ze("photograph"),uploadText:String,deletable:Ce,afterRead:Function,showUpload:Ce,modelValue:_n(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:Ce,previewOptions:Object,previewFullImage:Ce,maxSize:{type:[Number,String,Function],default:1/0}};var UY=we({name:DY,props:NY,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,{emit:t,slots:n}){const r=Z(),i=[],o=(A=e.modelValue.length)=>({name:e.name,index:A}),l=()=>{r.value&&(r.value.value="")},f=A=>{if(l(),$A(A,e.maxSize))if(Array.isArray(A)){const b=PY(A,e.maxSize);if(A=b.valid,t("oversize",b.invalid,o()),!A.length)return}else{t("oversize",A,o());return}A=Et(A),t("update:modelValue",[...e.modelValue,...$u(A)]),e.afterRead&&e.afterRead(A,o())},c=A=>{const{maxCount:b,modelValue:E,resultType:x}=e;if(Array.isArray(A)){const k=+b-E.length;A.length>k&&(A=A.slice(0,k)),Promise.all(A.map(L=>h0(L,x))).then(L=>{const S=A.map((C,I)=>{const D={file:C,status:"",message:""};return L[I]&&(D.content=L[I]),D});f(S)})}else h0(A,x).then(k=>{const L={file:A,status:"",message:""};k&&(L.content=k),f(L)})},a=A=>{const{files:b}=A.target;if(e.disabled||!b||!b.length)return;const E=b.length===1?b[0]:[].slice.call(b);if(e.beforeRead){const x=e.beforeRead(E,o());if(!x){l();return}if(ig(x)){x.then(k=>{c(k||E)}).catch(l);return}}c(E)};let h;const m=()=>t("close-preview"),g=A=>{if(e.previewFullImage){const b=e.modelValue.filter(HA),E=b.map(x=>(x.file&&!x.url&&x.status!=="failed"&&(x.url=URL.createObjectURL(x.file),i.push(x.url)),x.url)).filter(Boolean);h=Go(qe({images:E,startPosition:b.indexOf(A),onClose:m},e.previewOptions))}},w=()=>{h&&h.close()},T=(A,b)=>{const E=e.modelValue.slice(0);E.splice(b,1),t("update:modelValue",E),t("delete",A,o(b))},y=(A,b)=>{const E=["imageFit","deletable","previewSize","beforeDelete"],x=qe(Vt(e,E),Vt(A,E,!0));return B(MY,gt({item:A,index:b,onClick:()=>t("click-preview",A,o(b)),onDelete:()=>T(A,b),onPreview:()=>g(A)},Vt(e,["name","lazyLoad"]),x),Vt(n,["preview-cover","preview-delete"]))},d=()=>{if(e.previewImage)return e.modelValue.map(y)},_=A=>t("click-upload",A),v=()=>{if(e.modelValue.length>=e.maxCount||!e.showUpload)return;const A=e.readonly?null:B("input",{ref:r,type:"file",class:cn("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:a},null);return n.default?B("div",{class:cn("input-wrapper"),onClick:_},[n.default(),A]):B("div",{class:cn("upload",{readonly:e.readonly}),style:gs(e.previewSize),onClick:_},[B(ht,{name:e.uploadIcon,class:cn("upload-icon")},null),e.uploadText&&B("span",{class:cn("upload-text")},[e.uploadText]),A])},p=()=>{r.value&&!e.disabled&&r.value.click()};return Di(()=>{i.forEach(A=>URL.revokeObjectURL(A))}),Ct({chooseFile:p,closeImagePreview:w}),hs(()=>e.modelValue),()=>B("div",{class:cn()},[B("div",{class:cn("wrapper",{disabled:e.disabled})},[d(),v()])])}});const VY=Be(UY),g0=Kn&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,Os={event:"event",observer:"observer"};function Pa(e,t){if(!e.length)return;const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}function v0(e,t){if(e.tagName!=="IMG"||!e.getAttribute("data-srcset"))return;let n=e.getAttribute("data-srcset");const i=e.parentNode.offsetWidth*t;let o,l,f;n=n.trim().split(",");const c=n.map(m=>(m=m.trim(),o=m.lastIndexOf(" "),o===-1?(l=m,f=999998):(l=m.substr(0,o),f=parseInt(m.substr(o+1,m.length-o-2),10)),[f,l]));c.sort((m,g)=>{if(m[0]<g[0])return 1;if(m[0]>g[0])return-1;if(m[0]===g[0]){if(g[1].indexOf(".webp",g[1].length-5)!==-1)return 1;if(m[1].indexOf(".webp",m[1].length-5)!==-1)return-1}return 0});let a="",h;for(let m=0;m<c.length;m++){h=c[m],a=h[1];const g=c[m+1];if(g&&g[0]<i){a=h[1];break}else if(!g){a=h[1];break}}return a}const zY=(e=1)=>Kn&&window.devicePixelRatio||e;function $Y(){if(!Kn)return!1;let e=!0;try{const t=document.createElement("canvas");t.getContext&&t.getContext("2d")&&(e=t.toDataURL("image/webp").indexOf("data:image/webp")===0)}catch{e=!1}return e}function HY(e,t){let n=null,r=0;return function(...i){if(n)return;const o=Date.now()-r,l=()=>{r=Date.now(),n=!1,e.apply(this,i)};o>=t?l():n=setTimeout(l,t)}}function GY(e,t,n){e.addEventListener(t,n,{capture:!1,passive:!0})}function KY(e,t,n){e.removeEventListener(t,n,!1)}const Eh=(e,t,n)=>{const r=new Image;if(!e||!e.src)return n(new Error("image src is required"));r.src=e.src,e.cors&&(r.crossOrigin=e.cors),r.onload=()=>t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r.onerror=i=>n(i)};class jY{constructor({max:t}){this.options={max:t||100},this.caches=[]}has(t){return this.caches.indexOf(t)>-1}add(t){this.has(t)||(this.caches.push(t),this.caches.length>this.options.max&&this.free())}free(){this.caches.shift()}}class WY{constructor({el:t,src:n,error:r,loading:i,bindType:o,$parent:l,options:f,cors:c,elRenderer:a,imageCache:h}){this.el=t,this.src=n,this.error=r,this.loading=i,this.bindType=o,this.attempt=0,this.cors=c,this.naturalHeight=0,this.naturalWidth=0,this.options=f,this.$parent=l,this.elRenderer=a,this.imageCache=h,this.performanceData={loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(t){this.performanceData[t]=Date.now()}update({src:t,loading:n,error:r}){const i=this.src;this.src=t,this.loading=n,this.error=r,this.filter(),i!==this.src&&(this.attempt=0,this.initState())}checkInView(){const t=Bt(this.el);return t.top<window.innerHeight*this.options.preLoad&&t.bottom>this.options.preLoadTop&&t.left<window.innerWidth*this.options.preLoad&&t.right>0}filter(){Object.keys(this.options.filter).forEach(t=>{this.options.filter[t](this,this.options)})}renderLoading(t){this.state.loading=!0,Eh({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,t()},()=>{t(),this.state.loading=!1})}load(t=Za){if(this.attempt>this.options.attempt-1&&this.state.error){t();return}if(!(this.state.rendered&&this.state.loaded)){if(this.imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t();this.renderLoading(()=>{var n,r;this.attempt++,(r=(n=this.options.adapter).beforeLoad)==null||r.call(n,this,this.options),this.record("loadStart"),Eh({src:this.src,cors:this.cors},i=>{this.naturalHeight=i.naturalHeight,this.naturalWidth=i.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this.imageCache.add(this.src),t()},i=>{!this.options.silent&&console.error(i),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(t,n){this.elRenderer(this,t,n)}performance(){let t="loading",n=0;return this.state.loaded&&(t="loaded",n=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:n}}$destroy(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}const m0="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",qY=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],YY={rootMargin:"0px",threshold:0};function QY(){return class{constructor({preLoad:t,error:n,throttleWait:r,preLoadTop:i,dispatchEvent:o,loading:l,attempt:f,silent:c=!0,scale:a,listenEvents:h,filter:m,adapter:g,observer:w,observerOptions:T}){this.mode=Os.event,this.listeners=[],this.targetIndex=0,this.targets=[],this.options={silent:c,dispatchEvent:!!o,throttleWait:r||200,preLoad:t||1.3,preLoadTop:i||0,error:n||m0,loading:l||m0,attempt:f||3,scale:a||zY(a),ListenEvents:h||qY,supportWebp:$Y(),filter:m||{},adapter:g||{},observer:!!w,observerOptions:T||YY},this.initEvent(),this.imageCache=new jY({max:200}),this.lazyLoadHandler=HY(this.lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Os.observer:Os.event)}config(t={}){Object.assign(this.options,t)}performance(){return this.listeners.map(t=>t.performance())}addLazyBox(t){this.listeners.push(t),Kn&&(this.addListenerTarget(window),this.observer&&this.observer.observe(t.el),t.$el&&t.$el.parentNode&&this.addListenerTarget(t.$el.parentNode))}add(t,n,r){if(this.listeners.some(l=>l.el===t))return this.update(t,n),Ze(this.lazyLoadHandler);const i=this.valueFormatter(n.value);let{src:o}=i;Ze(()=>{o=v0(t,this.options.scale)||o,this.observer&&this.observer.observe(t);const l=Object.keys(n.modifiers)[0];let f;l&&(f=r.context.$refs[l],f=f?f.$el||f:document.getElementById(l)),f||(f=sg(t));const c=new WY({bindType:n.arg,$parent:f,el:t,src:o,loading:i.loading,error:i.error,cors:i.cors,elRenderer:this.elRenderer.bind(this),options:this.options,imageCache:this.imageCache});this.listeners.push(c),Kn&&(this.addListenerTarget(window),this.addListenerTarget(f)),this.lazyLoadHandler(),Ze(()=>this.lazyLoadHandler())})}update(t,n,r){const i=this.valueFormatter(n.value);let{src:o}=i;o=v0(t,this.options.scale)||o;const l=this.listeners.find(f=>f.el===t);l?l.update({src:o,error:i.error,loading:i.loading}):this.add(t,n,r),this.observer&&(this.observer.unobserve(t),this.observer.observe(t)),this.lazyLoadHandler(),Ze(()=>this.lazyLoadHandler())}remove(t){if(!t)return;this.observer&&this.observer.unobserve(t);const n=this.listeners.find(r=>r.el===t);n&&(this.removeListenerTarget(n.$parent),this.removeListenerTarget(window),Pa(this.listeners,n),n.$destroy())}removeComponent(t){!t||(Pa(this.listeners,t),this.observer&&this.observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this.removeListenerTarget(t.$el.parentNode),this.removeListenerTarget(window))}setMode(t){!g0&&t===Os.observer&&(t=Os.event),this.mode=t,t===Os.event?(this.observer&&(this.listeners.forEach(n=>{this.observer.unobserve(n.el)}),this.observer=null),this.targets.forEach(n=>{this.initListen(n.el,!0)})):(this.targets.forEach(n=>{this.initListen(n.el,!1)}),this.initIntersectionObserver())}addListenerTarget(t){if(!t)return;let n=this.targets.find(r=>r.el===t);return n?n.childrenCount++:(n={el:t,id:++this.targetIndex,childrenCount:1,listened:!0},this.mode===Os.event&&this.initListen(n.el,!0),this.targets.push(n)),this.targetIndex}removeListenerTarget(t){this.targets.forEach((n,r)=>{n.el===t&&(n.childrenCount--,n.childrenCount||(this.initListen(n.el,!1),this.targets.splice(r,1),n=null))})}initListen(t,n){this.options.ListenEvents.forEach(r=>(n?GY:KY)(t,r,this.lazyLoadHandler))}initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(t,n)=>{this.Event.listeners[t]||(this.Event.listeners[t]=[]),this.Event.listeners[t].push(n)},this.$once=(t,n)=>{const r=(...i)=>{this.$off(t,r),n.apply(this,i)};this.$on(t,r)},this.$off=(t,n)=>{if(!n){if(!this.Event.listeners[t])return;this.Event.listeners[t].length=0;return}Pa(this.Event.listeners[t],n)},this.$emit=(t,n,r)=>{!this.Event.listeners[t]||this.Event.listeners[t].forEach(i=>i(n,r))}}lazyLoadHandler(){const t=[];this.listeners.forEach(n=>{(!n.el||!n.el.parentNode)&&t.push(n),n.checkInView()&&n.load()}),t.forEach(n=>{Pa(this.listeners,n),n.$destroy()})}initIntersectionObserver(){!g0||(this.observer=new IntersectionObserver(this.observerHandler.bind(this),this.options.observerOptions),this.listeners.length&&this.listeners.forEach(t=>{this.observer.observe(t.el)}))}observerHandler(t){t.forEach(n=>{n.isIntersecting&&this.listeners.forEach(r=>{if(r.el===n.target){if(r.state.loaded)return this.observer.unobserve(r.el);r.load()}})})}elRenderer(t,n,r){if(!t.el)return;const{el:i,bindType:o}=t;let l;switch(n){case"loading":l=t.loading;break;case"error":l=t.error;break;default:({src:l}=t);break}if(o?i.style[o]='url("'+l+'")':i.getAttribute("src")!==l&&i.setAttribute("src",l),i.setAttribute("lazy",n),this.$emit(n,t,r),this.options.adapter[n]&&this.options.adapter[n](t,this.options),this.options.dispatchEvent){const f=new CustomEvent(n,{detail:t});i.dispatchEvent(f)}}valueFormatter(t){let n=t,{loading:r,error:i}=this.options;return Gn(t)&&({src:n}=t,r=t.loading||this.options.loading,i=t.error||this.options.error),{src:n,loading:r,error:i}}}}var JY=e=>({props:{tag:{type:String,default:"div"}},emits:["show"],render(){return dc(this.tag,this.show&&this.$slots.default?this.$slots.default():null)},data(){return{el:null,state:{loaded:!1},show:!1}},mounted(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeUnmount(){e.removeComponent(this)},methods:{checkInView(){const t=Bt(this.$el);return Kn&&t.top<window.innerHeight*e.options.preLoad&&t.bottom>0&&t.left<window.innerWidth*e.options.preLoad&&t.right>0},load(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy(){return this.$destroy}}});const XY={selector:"img"};class ZY{constructor({el:t,binding:n,vnode:r,lazy:i}){this.el=null,this.vnode=r,this.binding=n,this.options={},this.lazy=i,this.queue=[],this.update({el:t,binding:n})}update({el:t,binding:n}){this.el=t,this.options=Object.assign({},XY,n.value),this.getImgs().forEach(i=>{this.lazy.add(i,Object.assign({},this.binding,{value:{src:"dataset"in i?i.dataset.src:i.getAttribute("data-src"),error:("dataset"in i?i.dataset.error:i.getAttribute("data-error"))||this.options.error,loading:("dataset"in i?i.dataset.loading:i.getAttribute("data-loading"))||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(n=>this.lazy.remove(n)),this.vnode=null,this.binding=null,this.lazy=null}}class eQ{constructor({lazy:t}){this.lazy=t,this.queue=[]}bind(t,n,r){const i=new ZY({el:t,binding:n,vnode:r,lazy:this.lazy});this.queue.push(i)}update(t,n,r){const i=this.queue.find(o=>o.el===t);!i||i.update({el:t,binding:n,vnode:r})}unbind(t){const n=this.queue.find(r=>r.el===t);!n||(n.clear(),Pa(this.queue,n))}}var tQ=e=>({props:{src:[String,Object],tag:{type:String,default:"img"}},render(t){return t(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data(){return{el:null,options:{src:"",error:"",loading:"",attempt:e.options.attempt},state:{loaded:!1,error:!1,attempt:0},renderSrc:""}},watch:{src(){this.init(),e.addLazyBox(this),e.lazyLoadHandler()}},created(){this.init(),this.renderSrc=this.options.loading},mounted(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeUnmount(){e.removeComponent(this)},methods:{init(){const{src:t,loading:n,error:r}=e.valueFormatter(this.src);this.state.loaded=!1,this.options.src=t,this.options.error=r,this.options.loading=n,this.renderSrc=this.options.loading},checkInView(){const t=Bt(this.$el);return t.top<window.innerHeight*e.options.preLoad&&t.bottom>0&&t.left<window.innerWidth*e.options.preLoad&&t.right>0},load(t=Za){if(this.state.attempt>this.options.attempt-1&&this.state.error){t();return}const{src:n}=this.options;Eh({src:n},({src:r})=>{this.renderSrc=r,this.state.loaded=!0},()=>{this.state.attempt++,this.renderSrc=this.options.error,this.state.error=!0})}}});const nQ={install(e,t={}){const n=QY(),r=new n(t),i=new eQ({lazy:r});e.config.globalProperties.$Lazyload=r,t.lazyComponent&&e.component("LazyComponent",JY(r)),t.lazyImage&&e.component("LazyImage",tQ(r)),e.directive("lazy",{beforeMount:r.add.bind(r),updated:r.update.bind(r),unmounted:r.remove.bind(r)}),e.directive("lazy-container",{beforeMount:i.bind.bind(i),updated:i.update.bind(i),unmounted:i.unbind.bind(i)})}},rQ="3.6.4";function iQ(e){[D1,fh,nG,mG,u7,w7,V1,Qs,Wn,U7,j7,_9,Kr,S9,lA,L9,M9,K9,Y9,eK,tK,sK,uK,gK,AK,yh,xK,BK,GK,hn,ZK,sj,oj,hA,ni,fg,cj,gj,ht,Uc,Go,xj,Ij,Pj,Hr,w1,Nj,$j,sr,tW,M1,sW,uW,Dc,aq,Gr,dq,pq,yg,mg,Eq,Sq,xq,Pq,PA,BA,Kq,Yq,Zq,iY,cY,dY,eA,mY,Ag,AY,bg,vg,Wu,SY,kY,Eg,Mc,qn,LY,VY].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var sQ={install:iQ,version:rQ};const Js=m_(lD),oQ=KR();Js.use(oQ);Js.use(oh);Js.use(sQ);Js.use(Go);Js.use(nQ,{lazyComponent:!0});Js.mount("#app");Js.use(Gs);
